<head>
  <meta charset=\"utf-8\">
  <meta name=\"sentry-trace\" content=\"cff2740fbead4c97993b5787c677d34a-9fe1b6dda467ea99-0\">
  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com/\" crossorigin=\"\">
    <link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Regular-bd03a2cc27.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonmyous\">
    <link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Bold-cccb897485.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonmyous\">
    <link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Italic-4eb103b4d1.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonmyous\">
    <link rel=\"stylesheet\" media=\"screen\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/lato_extended-f5a83bde37.css\">
    <script async=\"\" src=\"https://www.google-analytics.com/analytics.js\"></script><script async=\"\" src=\"https://www.googletagmanager.com/gtm.js?id=GTM-MJ6HRCH\"></script><script>if (navigator.userAgent.match(/(MSIE|Trident\\/)/)) location.replace('/ie-is-not-supported.html')</script>
  
  <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"https://instructure-uploads.s3.amazonaws.com/account_107720000000000001/attachments/3661/cu_favicon.png\">
  <link rel=\"apple-touch-icon\" href=\"https://instructure-uploads.s3.amazonaws.com/account_107720000000000001/attachments/3662/cu_mobile.png\">
  <link rel=\"stylesheet\" media=\"all\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.css\">
  <link rel=\"stylesheet\" media=\"all\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_normal_contrast/bundles/common-4d7fe2c46c.css\">
  <meta name=\"apple-itunes-app\" content=\"app-id=480883488\">
<link rel=\"manifest\" href=\"/web-app-manifest/manifest.json\">
  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">
  <meta name=\"theme-color\" content=\"#444444\">
  <link rel=\"stylesheet\" media=\"all\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_normal_contrast/bundles/quizzes-0b759d57f7.css\">
<link rel=\"stylesheet\" media=\"all\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_normal_contrast/bundles/learning_outcomes-a9a9fe5d8b.css\">
<link rel=\"stylesheet\" media=\"all\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_normal_contrast/bundles/new_user_tutorials-2950c871dd.css\">
  <link rel=\"stylesheet\" media=\"all\" href=\"https://instructure-uploads.s3.amazonaws.com/account_107720000000000001/attachments/1511535/canvas_global.css\">
  <script>
    function _earlyClick(e){
      var c = e.target
      while (c && c.ownerDocument) {
        if (c.getAttribute('href') == '#' || c.getAttribute('data-method')) {
          if (!e.defaultPrevented) {
            e.preventDefault()
          }
          (_earlyClick.clicks = _earlyClick.clicks || []).push(c)
          break
        }
        c = c.parentNode
      }
    }
    document.addEventListener('click', _earlyClick)
  </script>


  <script>
    INST = {\"environment\":\"production\",\"allowMediaComments\":true,\"kalturaSettings\":{\"domain\":\"nv.instructuremedia.com\",\"resource_domain\":\"nv.instructuremedia.com\",\"rtmp_domain\":\"iad.rtmp.instructuremedia.com\",\"partner_id\":\"9\",\"subpartner_id\":\"0\",\"player_ui_conf\":\"0\",\"kcw_ui_conf\":\"0\",\"upload_ui_conf\":\"0\",\"max_file_size_bytes\":534773760,\"do_analytics\":false,\"hide_rte_button\":false,\"js_uploader\":true},\"logPageViews\":true,\"editorButtons\":[{\"name\":\"YouTube\",\"id\":18,\"favorite\":true,\"url\":\"https://www.edu-apps.org/lti_public_resources/?tool_id=youtube\",\"icon_url\":\"https://www.edu-apps.org/assets/lti_public_resources/youtube_icon.png\",\"canvas_icon_class\":null,\"width\":560,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eSearch publicly available YouTube videos. A new icon will show up in your course rich editor letting you search YouTube and click to embed videos in your course material.\\u003c/p\\u003e\\n\"},{\"name\":\"Google Apps\",\"id\":19,\"favorite\":true,\"url\":\"https://google-drive-lti-iad-prod.instructure.com/lti/rce-content-selection\",\"icon_url\":\"https://google-drive-lti-iad-prod.instructure.com/icon.png\",\"canvas_icon_class\":null,\"width\":700,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eAllows you to pull in documents from Google Drive to Canvas\\u003c/p\\u003e\\n\"},{\"name\":\"Code Embed\",\"id\":29,\"favorite\":false,\"url\":\"https://code-embed-lti.herokuapp.com/lti_tool\",\"icon_url\":\"https://code-embed-lti.herokuapp.com/images/icon.png\",\"canvas_icon_class\":null,\"width\":850,\"height\":650,\"use_tray\":false,\"description\":\"\\u003cp\\u003eCode Embed is a tool that lets you embed a code editor in an LMS such as Canvas, Blackboard, or Moodle.\\u003c/p\\u003e\\n\"},{\"name\":\"Microsoft Office 365\",\"id\":122,\"favorite\":false,\"url\":\"https://office365-iad-prod.instructure.com/lti/rce-content-item\",\"icon_url\":\"https://office365-iad-prod.instructure.com/images/office365_icon.png\",\"canvas_icon_class\":null,\"width\":900,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eAllows you to pull in documents from Office 365 to Canvas\\u003c/p\\u003e\\n\"},{\"name\":\"Embed Kaltura Media\",\"id\":429,\"favorite\":false,\"url\":\"https://kaf.canvas.colorado.edu/browseandembed/index/browseandembed\",\"icon_url\":\"https://cdnsecakmi.kaltura.com/content/static/kalturalogo.png\",\"canvas_icon_class\":null,\"width\":1100,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eMedia Gallery and Embed\\u003c/p\\u003e\\n\"},{\"name\":\"Upload / Embed Image\",\"id\":488,\"favorite\":false,\"url\":\"https://uei.ciditools.com/\",\"icon_url\":\"https://uei.ciditools.com/editorIcon.png\",\"canvas_icon_class\":null,\"width\":800,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eCrop and upload images to Canvas\\u003c/p\\u003e\\n\"},{\"name\":\"Twitter\",\"id\":571,\"favorite\":false,\"url\":\"https://www.edu-apps.org/twitter_lti/\",\"icon_url\":\"https://www.edu-apps.org/assets/inst_lti_twitter/icon.png\",\"canvas_icon_class\":null,\"width\":475,\"height\":490,\"use_tray\":false,\"description\":\"\\u003cp\\u003eEmbed a Twitter stream\\u003c/p\\u003e\\n\"},{\"name\":\"Canvas Studio\",\"id\":12498,\"favorite\":false,\"url\":\"https://cuboulder.instructuremedia.com/lti/launch?custom_arc_launch_type=content_select\\u0026custom_lti_use_case=editor_button\",\"icon_url\":\"https://files.instructuremedia.com/logos/studio-logo-squid-tiny-electric.svg\",\"canvas_icon_class\":null,\"width\":560,\"height\":600,\"use_tray\":false,\"description\":\"\\u003cp\\u003eVideo for Education\\u003c/p\\u003e\\n\"},{\"name\":\"Insert a Wiley Resource\",\"id\":21179,\"favorite\":false,\"url\":\"https://lti.education.wiley.com/wpng/api/v1/lti/resourcediscoverytool\",\"icon_url\":\"https://education.wiley.com/assets/images/wp.svg\",\"canvas_icon_class\":null,\"width\":1160,\"height\":660,\"use_tray\":false,\"description\":\"\\u003cp\\u003eOutcomes-based learning.\\u003c/p\\u003e\\n\"}]};
    ENV = {\"ASSET_HOST\":\"https://du11hjcvx0uqb.cloudfront.net\",\"active_brand_config_json_url\":\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.json\",\"url_to_what_gets_loaded_inside_the_tinymce_editor_css\":[\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.css\",\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_normal_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-f45e0c161f.css\",\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/lato_extended-f5a83bde37.css\"],\"url_for_high_contrast_tinymce_editor_css\":[\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/default/variables-high_contrast-7dd4b80918af0e0218ec0229e4bd5873.css\",\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/responsive_layout_high_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-3d8180250f.css\",\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/lato_extended-f5a83bde37.css\"],\"current_user_id\":\"388061\",\"current_user_roles\":[\"user\",\"student\"],\"current_user_is_student\":true,\"current_user_types\":[],\"current_user_disabled_inbox\":false,\"discussions_reporting\":true,\"files_domain\":\"cluster39.canvas-user-content.com\",\"DOMAIN_ROOT_ACCOUNT_ID\":\"107720000000000001\",\"k12\":false,\"use_responsive_layout\":true,\"use_rce_a11y_checker_notifications\":true,\"help_link_name\":\"Help\",\"help_link_icon\":\"help\",\"use_high_contrast\":false,\"auto_show_cc\":false,\"disable_celebrations\":false,\"disable_keyboard_shortcuts\":false,\"LTI_LAUNCH_FRAME_ALLOWANCES\":[\"geolocation *\",\"microphone *\",\"camera *\",\"midi *\",\"encrypted-media *\",\"autoplay *\",\"clipboard-write *\",\"display-capture *\"],\"DEEP_LINKING_POST_MESSAGE_ORIGIN\":\"https://canvas.colorado.edu\",\"DEEP_LINKING_LOGGING\":null,\"comment_library_suggestions_enabled\":false,\"SETTINGS\":{\"open_registration\":false,\"collapse_global_nav\":false,\"release_notes_badge_disabled\":false},\"API_GATEWAY_URI\":\"https://api.us-east-1.instructure.com/graphql/future\",\"DIRECT_SHARE_ENABLED\":false,\"FEATURES\":{\"featured_help_links\":true,\"rce_buttons_and_icons\":false,\"important_dates\":true,\"feature_flag_filters\":true,\"k5_parent_support\":true,\"conferencing_in_planner\":true,\"remember_settings_tab\":true,\"word_count_in_speed_grader\":true,\"observer_picker\":false,\"lti_platform_storage\":false,\"scale_equation_images\":true,\"new_equation_editor\":false,\"responsive_awareness\":true,\"responsive_misc\":true,\"product_tours\":false,\"files_dnd\":true,\"usage_rights_discussion_topics\":true,\"granular_permissions_manage_users\":true,\"create_course_subaccount_picker\":true,\"lti_deep_linking_module_index_menu_modal\":false,\"lti_multiple_assignment_deep_linking\":false,\"embedded_release_notes\":true,\"canvas_k6_theme\":false,\"new_math_equation_handling\":true},\"current_user\":{\"id\":\"388061\",\"anonymous_id\":\"8bfh\",\"display_name\":\"Davis Davalos-delosh\",\"avatar_image_url\":\"https://cuboulder.instructure.com/images/thumbnails/44328313/7udsfppyMz2kOn6pIaP1w1DUyOo4tsTNocBK7tIV\",\"html_url\":\"https://canvas.colorado.edu/about/388061\",\"pronouns\":null,\"avatar_is_fallback\":false},\"page_view_update_url\":\"/page_views/85b274d3-f3b6-4793-a024-0ed22b0aef11?page_view_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpIjoiODViMjc0ZDMtZjNiNi00NzkzLWEwMjQtMGVkMjJiMGFlZjExIiwidSI6MTA3NzIwMDAwMDAwMzg4MDYxLCJjIjoiMjAyMi0wMi0xMVQxOTo1NjowNS4yN1oifQ.12zUb3ew_5kgBwHWLzbrx-g5Y2FH1nh3bIB2LNT_Qbg\",\"context_asset_string\":\"course_79323\",\"ping_url\":\"https://canvas.colorado.edu/api/v1/courses/79323/ping\",\"TIMEZONE\":\"America/Denver\",\"CONTEXT_TIMEZONE\":\"America/Denver\",\"LOCALE\":\"en\",\"BIGEASY_LOCALE\":\"en_US\",\"FULLCALENDAR_LOCALE\":\"en\",\"MOMENT_LOCALE\":\"en\",\"rce_auto_save_max_age_ms\":86400000,\"K5_USER\":false,\"K5_HOMEROOM_COURSE\":false,\"K5_SUBJECT_COURSE\":false,\"RICH_CONTENT_APP_HOST\":\"rich-content-iad.inscloudgate.net\",\"RICH_CONTENT_SKIP_SIDEBAR\":null,\"JWT\":\"ZXlKaGJHY2lPaUprYVhJaUxDSmxibU1pT2lKQk1qVTJSME5OSWl3aWNtVm5hVzl1SWpvaWRYTXRaV0Z6ZEMweElpd2laVzUyYVhKdmJtMWxiblFpT2lKUWNtOWtkV04wYVc5dUluMC4uQkNUNXZ2azRzZmJpNG5POS5ibUZSbkZoU19DNzl5NGNSUzNtSTE5R0ZnOGZUQWh3alY1NVlNU0pDbDVaRnROM0ZsLVdzT3RVa0tITXBvZ1YxbXZRUndfNndDM2pHeURyWnlYbS1nc1l1cEJheFFDRUhjdndmczJ3eEtFWVpGVmhVemZPSVROVWhSNDF3cFpqX2tMeHpKNTR1YVZuU3U5NXRhNFJ5MmVsa01LeTF6eHB1V3FpUzFuNzlYdGFVNHY1UDZ1N3V5d2pXTHIyUjRCTHlySjUwY19NTUdua3J1czJNdkVLZmEyZVhiTk5xalZWSzgyLUZXS3IyVENtcEkzXzdVQ1diMU95RmtrSXZJMXFjcHZOR1pkSjZNTTM5Q2VRRGg1YXA5UFlsZC1nU1MwWlNURHRCOEt1VmJLSlVDV3RjZFM2OG5OQ043VW1UcDhhY1UwcUlRakNvaVJnM0FzNHdUOGw4ZVJTRmRYOFhOQXlwSmozd0EwUlBaRDdCeUxXTUQ1WG9mcG9raDdlUDdyYjNtWEdsVm4tZmJmVU9kVnB1NXJITDduTC1DZF9pTkprWGJheWRDWEtYMmhFOUhjcnhyN2RRSDlTaFZPVWZ2UUdnX3Z1dnI1RkFudk5iOXNFS2dfNjBkVGFmak5qY1AtRVBNZ0NDU09SNFg4R1pxdkphVUx5aEo0dWFKUl9rTkM1NUg5Y3hFcHgwMk1Sc0E5MmxGZnhoVXE4bE1YQVRyZ01ZbUVLRDhYVkwtT2U1S1FmR25vZTFYVi1PZ1R5bEliUmNoUWRKTG9EMUFvN3c0ZUxHV09PVGNocmpCR25La0lzNFJmSlRvbEVZSzVIT0N2VUpMNFlscldORmZ2elpXMzJOZUhNZG5oSjE4ZzV3ZVY5M3ZfT3RFUUlCT2IxRWVpVF8tSlcycGJIY2dTdDhNLThCTHlwZkU5aXVaNEpEWFNnREhnRnI1OERzYUhpWkZNcXVibDl4Z2g0Rjl2SVJsb29PNEVaNjE1WXRiWkFIekQtWGotV1FOZHZDWjQtb05lam1mV2d3dFdSTFBlMlM5N1ZSbVp2X0dydkdNMHBNQmhSMlJrOGVJSU5KbGcuREtSVFB1RlZtUlhoaDA5Z1ktWHFmdw==\",\"RICH_CONTENT_CAN_UPLOAD_FILES\":false,\"RICH_CONTENT_FILES_TAB_DISABLED\":true,\"RICH_CONTENT_INST_RECORD_TAB_DISABLED\":false,\"SUBMISSION_DOWNLOAD_DIALOG_TITLE\":\"Download All Quiz File Upload Submissions\",\"UPLOAD_URL\":\"/api/v1/courses/79323/quizzes/224722/submissions/self/files\",\"SUBMISSION_VERSIONS_URL\":\"https://canvas.colorado.edu/courses/79323/quizzes/224722/submission_versions\",\"QUIZ_SUBMISSION_EVENTS_URL\":\"https://canvas.colorado.edu/api/v1/courses/79323/quizzes/224722/submissions/6800135/events\",\"ATTACHMENTS\":{},\"CONTEXT_ACTION_SOURCE\":\"quizzes\",\"COURSE_ID\":\"79323\",\"LOCKDOWN_BROWSER\":false,\"QUIZ\":{\"id\":\"224722\",\"title\":\"Quiz 5 2022\",\"html_url\":\"https://canvas.colorado.edu/courses/79323/quizzes/224722\",\"mobile_url\":\"https://canvas.colorado.edu/courses/79323/quizzes/224722?force_user=1\\u0026persist_headless=1\",\"description\":\"\",\"quiz_type\":\"assignment\",\"time_limit\":30,\"timer_autosubmit_disabled\":false,\"shuffle_answers\":false,\"show_correct_answers\":true,\"scoring_policy\":\"keep_highest\",\"allowed_attempts\":1,\"one_question_at_a_time\":true,\"question_count\":10,\"points_possible\":10.0,\"cant_go_back\":false,\"ip_filter\":null,\"due_at\":\"2022-02-10T23:59:00-07:00\",\"lock_at\":\"2022-02-11T23:59:00-07:00\",\"unlock_at\":\"2022-02-08T13:00:00-07:00\",\"published\":true,\"locked_for_user\":false,\"hide_results\":null,\"show_correct_answers_at\":\"2022-02-11T23:59:00-07:00\",\"hide_correct_answers_at\":null,\"can_update\":false,\"require_lockdown_browser\":false,\"require_lockdown_browser_for_results\":false,\"require_lockdown_browser_monitor\":false,\"lockdown_browser_monitor_data\":\"\",\"permissions\":{\"manage\":false,\"read\":true,\"create\":false,\"update\":false,\"submit\":true,\"preview\":false,\"delete\":false,\"read_statistics\":false,\"grade\":false,\"review_grades\":false,\"view_answer_audits\":false},\"quiz_reports_url\":\"https://canvas.colorado.edu/api/v1/courses/79323/quizzes/224722/reports\",\"quiz_statistics_url\":\"https://canvas.colorado.edu/api/v1/courses/79323/quizzes/224722/statistics\",\"important_dates\":false,\"quiz_submission_versions_html_url\":\"https://canvas.colorado.edu/courses/79323/quizzes/224722/submission_versions\",\"assignment_id\":\"1228031\",\"one_time_results\":false,\"assignment_group_id\":\"213975\",\"show_correct_answers_last_attempt\":false,\"version_number\":8,\"has_access_code\":false,\"post_to_sis\":false,\"migration_id\":\"gae34113db447a91027a1b5b5257472bd\"},\"QUIZ_DETAILS_URL\":\"https://canvas.colorado.edu/courses/79323/quizzes/224722/managed_quiz_data\",\"QUIZZES_URL\":\"https://canvas.colorado.edu/courses/79323/quizzes\",\"MAX_GROUP_CONVERSATION_SIZE\":100,\"CONDITIONAL_RELEASE_SERVICE_ENABLED\":true,\"CONDITIONAL_RELEASE_ENV\":{\"assignment\":{\"id\":\"1228031\",\"title\":\"Quiz 5 2022\",\"description\":\"\",\"points_possible\":10.0,\"grading_type\":\"points\",\"submission_types\":\"online_quiz\",\"grading_scheme\":{\"A\":0.94,\"A-\":0.9,\"B+\":0.87,\"B\":0.83,\"B-\":0.8,\"C+\":0.77,\"C\":0.73,\"C-\":0.7,\"D+\":0.67,\"D\":0.63,\"D-\":0.6,\"F\":0.0}},\"course_id\":\"79323\",\"stats_url\":\"/api/v1/courses/79323/mastery_paths/stats\",\"rule\":null},\"IS_SURVEY\":false,\"badge_counts\":{\"submissions\":0},\"notices\":[],\"active_context_tab\":\"quizzes\"};
    BRANDABLE_CSS_HANDLEBARS_INDEX = [[\"new_styles_normal_contrast\",\"new_styles_high_contrast\",\"responsive_layout_normal_contrast\",\"responsive_layout_high_contrast\",\"new_styles_normal_contrast_rtl\",\"new_styles_high_contrast_rtl\",\"responsive_layout_normal_contrast_rtl\",\"responsive_layout_high_contrast_rtl\"],{\"10\":[\"8300658022\",0,0,0,\"250b5824c2\",4,4,4],\"15\":[\"fc26aa5fd4\",0,0,0,\"f904416063\",4,4,4],\"19\":[\"df5777ed9c\"],\"61\":[\"c34731ada0\",\"f405852bb2\",0,1,\"a4eda69452\",\"3fd9943b9a\",4,5],\"64\":[\"6d90a3d213\",0,0,0,\"cace9d4281\",4,4,4],\"67\":[\"8b57f54e71\",0,0,0,\"43833dde85\",4,4,4],\"71\":[\"9bb12d406b\",\"3128a2cc3b\",0,1,\"9a2e3a11ca\",\"851e44943d\",4,5],\"06\":[\"4526e0502d\",0,0,0,\"4ca4dedba8\",4,4,4],\"f0\":[\"7c947dce20\",0,0,0,0,0,0,0],\"c8\":[\"fd6747df94\",\"32c26c8fa4\",0,1,\"80cc70eb8a\",\"c6f0afaa9e\",4,5],\"1e\":[\"a4ce6b99b5\",\"39d2986ce0\",\"93968ae330\",\"541e45feba\",\"e12dd92511\",\"ba63dd3b58\",\"8594db4d82\",\"e291bb53e9\"],\"b3\":[\"8ebc71ebc3\",\"cf8efa05c8\",0,1,\"4efdc93a21\",\"fd6d3a9780\",4,5],\"4f\":[\"0a2c3dcf2f\",0,0,0,\"79668e6396\",4,4,4],\"0c\":[\"c26e82abac\",0,0,0,\"b71e9cbd6d\",4,4,4],\"da\":[\"b218c8c3f2\",\"edbd1b5e83\",0,1,\"312312508c\",\"dfb2d13098\",4,5],\"1d\":[\"a3bfcb7961\",0,0,0,\"90682b3bbe\",4,4,4],\"08\":[\"64bff5a97d\"],\"e2\":[\"11429f119a\"],\"9f\":[\"35936a18c3\",0,0,0,0,0,0,0],\"2b\":[\"abf63f48ef\",\"bf8e135ffe\",0,1,\"378e0c136b\",\"9833e305e6\",4,5],\"2c\":[\"6d919206cd\",0,0,0,0,0,0,0],\"c2\":[\"6f2721ae01\"],\"9c\":[\"ecafc938e4\",0,0,0,\"59e7c22304\",4,4,4],\"c5\":[\"ebf0e1382f\",\"7f587d9a8a\",0,1,\"afbdabf23d\",\"0d398196a8\",4,5],\"f2\":[\"51574f9b13\"]}]
;
  </script>

  <link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/en_US-80a0ce259b.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/main-e-9a52d7fefb.js\" as=\"script\" type=\"text/javascript\"><script>
//<![CDATA[

      ;[\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.js\", \"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\", \"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\", \"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/en_US-80a0ce259b.js\", \"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/main-e-9a52d7fefb.js\"].forEach(function(src) {
        var s = document.createElement('script')
        s.src = src
        s.async = false
        document.head.appendChild(s)
      });
//]]>
</script><script src=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/ef9cf00c39e8b030629377f1258779cb/variables-7dd4b80918af0e0218ec0229e4bd5873.js\"></script><script src=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\"></script><script src=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/Denver-40670c6af7.js\"></script><script src=\"https://du11hjcvx0uqb.cloudfront.net/dist/timezone/en_US-80a0ce259b.js\"></script><script src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/main-e-9a52d7fefb.js\"></script><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/0-c-d122efd52f.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/1-c-ec86224602.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/2-c-76bc2d045a.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/3-c-db365dc360.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4-c-b8cf79bbb5.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/5-c-91ec3d99dd.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/6-c-b7e24ed230.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/8-c-1e27fb0fe8.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/7-c-e2b61ba201.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/9-c-a923466f4c.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/10-c-3120ad609e.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/11-c-ad0757b200.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/12-c-8e44d6013e.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/13-c-ec830eb1c2.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/14-c-38a85636e1.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/19-c-0c4e757c70.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/20-c-032c0de5b7.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/21-c-f464846e7b.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/22-c-759cafcf3a.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/25-c-a2cb91aeb3.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/26-c-1574cbac99.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/28-c-f2acaf4042.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/29-c-4628a66e58.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/27-c-b5fc9ba4b8.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/32-c-ce4dbe33f0.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/35-c-e388d9c8f2.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/42-c-07faa3f71a.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/45-c-4a36aaabbd.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/44-c-165ce1ef88.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/quiz_show-c-b5149e0269.js\" as=\"script\" type=\"text/javascript\"><link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/quiz_submission-c-145406db1f.js\" as=\"script\" type=\"text/javascript\"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('quiz_show');
(window.bundles || (window.bundles = [])).push('quiz_submission');
(window.bundles || (window.bundles = [])).push('navigation_header');
//]]>
</script>
  <title>Quiz 5 2022: GEOG 1001-010,011,012,013,014,015,016:Envir Sys: Climate&amp;Vegetation</title>
  
  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', \"UA-9138420-1\", 'auto');
      ga('set', 'userId', \"dea3820bac1709322ade748d10ec6f4d\");
    ga('set', 'dimension1', \"100\");
    ga('set', 'dimension2', \"00\");
    ga('set', 'dimension3', \"0\");
    ga('set', 'dimension4', \"Higher Ed\");
    ga('send', 'pageview');
    (window.requestIdleCallback || window.setTimeout)(function(){
      var s=document.createElement('script'), m=document.getElementsByTagName('script')[0]
      s.async=1; s.src='https://www.google-analytics.com/analytics.js'
      m.parentNode.insertBefore(s,m)
    });
  </script>



<script src=\"https://instructure-uploads.s3.amazonaws.com/account_107720000000000001/attachments/32793847/Potential%20New%20Canvas%20Theme%20Javascript.js\"></script><style type=\"text/css\"></style><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/0-c-d122efd52f.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/1-c-ec86224602.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/2-c-76bc2d045a.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/3-c-db365dc360.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4-c-b8cf79bbb5.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/5-c-91ec3d99dd.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/6-c-b7e24ed230.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/8-c-1e27fb0fe8.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/7-c-e2b61ba201.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/9-c-a923466f4c.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/10-c-3120ad609e.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/11-c-ad0757b200.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/12-c-8e44d6013e.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/13-c-ec830eb1c2.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/14-c-38a85636e1.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/19-c-0c4e757c70.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/20-c-032c0de5b7.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/21-c-f464846e7b.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/22-c-759cafcf3a.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/25-c-a2cb91aeb3.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/26-c-1574cbac99.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/28-c-f2acaf4042.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/29-c-4628a66e58.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/27-c-b5fc9ba4b8.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/32-c-ce4dbe33f0.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/35-c-e388d9c8f2.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/42-c-07faa3f71a.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/45-c-4a36aaabbd.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/44-c-165ce1ef88.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/quiz_show-c-b5149e0269.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/quiz_submission-c-145406db1f.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/inst_fs_service_worker-c-6c8f40fd1f.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4188-c-cad8c16f6b.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4106-c-057a7379ff.js\"></script><style type=\"text/css\" data-glamor=\"\"></style><link rel=\"stylesheet\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/jst/messageStudentsDialog-11429f119a.css\" data-loaded-by-brandablecss=\"true\"><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/17-c-9779ced567.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/24-c-11e4de1936.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/33-c-f857537fc0.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/37-c-676b6bb88c.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/47-c-462e245530.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/61-c-de1048959f.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/81-c-34a63b677b.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/93-c-193ef8540d.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/3629-c-e89fd349ba.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4186-c-8ce292696a.js\"></script><style type=\"text/css\">.mejs-offscreen{clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:polygon(0px 0,0 0,0 0,0 0);position:absolute!important;height:1px;width:1px;overflow:hidden}.mejs-container{position:relative;background:#000;font-family:Helvetica,Arial,serif;text-align:left;vertical-align:top;text-indent:0}.mejs-fill-container,.mejs-fill-container .mejs-container{width:100%;height:100%}.mejs-fill-container{overflow:hidden}.mejs-container:focus{outline:0}.me-plugin{position:absolute}.mejs-embed,.mejs-embed body{width:100%;height:100%;margin:0;padding:0;background:#000;overflow:hidden}.mejs-fullscreen{overflow:hidden!important}.mejs-container-fullscreen{position:fixed;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:1000}.mejs-container-fullscreen .mejs-mediaelement,.mejs-container-fullscreen video{width:100%;height:100%}.mejs-clear{clear:both}.mejs-background{position:absolute;top:0;left:0}.mejs-mediaelement{position:absolute;top:0;left:0;width:100%;height:100%}.mejs-poster{position:absolute;top:0;left:0;background-size:contain;background-position:50% 50%;background-repeat:no-repeat}:root .mejs-poster img{display:none}.mejs-poster img{border:0;padding:0}.mejs-overlay{position:absolute;top:0;left:0}.mejs-overlay-play{cursor:pointer}.mejs-overlay-button{position:absolute;top:50%;left:50%;width:100px;height:100px;margin:-50px 0 0 -50px;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/746c3af7a145a09239a36e5ef61cfea0.svg) no-repeat}.no-svg .mejs-overlay-button{background-image:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/716436fb3df0d29e6b37dd62d952676a.png)}.mejs-overlay:hover .mejs-overlay-button{background-position:0 -100px}.mejs-overlay-loading{position:absolute;top:50%;left:50%;width:80px;height:80px;margin:-40px 0 0 -40px;background:#333;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(0,0,0,.9);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.9)),to(rgba(0,0,0,.9)));background:-webkit-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-moz-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-o-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:-ms-linear-gradient(top,rgba(50,50,50,.9),rgba(0,0,0,.9));background:linear-gradient(rgba(50,50,50,.9),rgba(0,0,0,.9))}.mejs-overlay-loading span{display:block;width:80px;height:80px;background:transparent url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/76b326f4d44222126fee21076595bef5.gif) 50% 50% no-repeat}.mejs-container .mejs-controls{position:absolute;list-style-type:none;margin:0;padding:0;bottom:0;left:0;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(0,0,0,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.7)),to(rgba(0,0,0,.7)));background:-webkit-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-moz-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-o-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-ms-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:linear-gradient(rgba(50,50,50,.7),rgba(0,0,0,.7));height:30px;width:100%}.mejs-container .mejs-controls div{list-style-type:none;background-image:none;display:block;float:left;margin:0;padding:0;width:26px;height:26px;font-size:11px;line-height:11px;font-family:Helvetica,Arial,serif;border:0}.mejs-controls .mejs-button button{cursor:pointer;display:block;font-size:0;line-height:0;text-decoration:none;margin:7px 5px;padding:0;position:absolute;height:16px;width:16px;border:0;background:transparent url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/40f56f5a736da4effeb790cedb8a52f0.svg) no-repeat}.no-svg .mejs-controls .mejs-button button{background-image:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/24a0227fbdd3acfd86ff03fc3fc6c8a4.png)}.mejs-controls .mejs-button button:focus{outline:dotted 1px #999}.mejs-container .mejs-controls .mejs-time{color:#fff;display:block;height:17px;width:auto;padding:10px 3px 0;overflow:hidden;text-align:center;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.mejs-container .mejs-controls .mejs-time a{color:#fff;font-size:11px;line-height:12px;display:block;float:left;margin:1px 2px 0 0;width:auto}.mejs-controls .mejs-play button{background-position:0 0}.mejs-controls .mejs-pause button{background-position:0 -16px}.mejs-controls .mejs-stop button{background-position:-112px 0}.mejs-controls div.mejs-time-rail{direction:ltr;width:200px;padding-top:5px}.mejs-controls .mejs-time-rail span,.mejs-controls .mejs-time-rail a{display:block;position:absolute;width:180px;height:10px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;cursor:pointer}.mejs-controls .mejs-time-rail .mejs-time-total{margin:5px;background:#333;background:rgba(50,50,50,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(30,30,30,.8)),to(rgba(60,60,60,.8)));background:-webkit-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-moz-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-o-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-ms-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:linear-gradient(rgba(30,30,30,.8),rgba(60,60,60,.8))}.mejs-controls .mejs-time-rail .mejs-time-buffering{width:100%;background-image:-o-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-webkit-gradient(linear,0 100%,100% 0,color-stop(0.25,rgba(255,255,255,.15)),color-stop(0.25,transparent),color-stop(0.5,transparent),color-stop(0.5,rgba(255,255,255,.15)),color-stop(0.75,rgba(255,255,255,.15)),color-stop(0.75,transparent),to(transparent));background-image:-webkit-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-moz-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-ms-linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(-45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);-webkit-background-size:15px 15px;-moz-background-size:15px 15px;-o-background-size:15px 15px;background-size:15px 15px;-webkit-animation:buffering-stripes 2s linear infinite;-moz-animation:buffering-stripes 2s linear infinite;-ms-animation:buffering-stripes 2s linear infinite;-o-animation:buffering-stripes 2s linear infinite;animation:buffering-stripes 2s linear infinite}@-webkit-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-moz-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-ms-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@-o-keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}@keyframes buffering-stripes{from{background-position:0 0}to{background-position:30px 0}}.mejs-controls .mejs-time-rail .mejs-time-loaded{background:#3caac8;background:rgba(60,170,200,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(44,124,145,.8)),to(rgba(78,183,212,.8)));background:-webkit-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-moz-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-o-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:-ms-linear-gradient(top,rgba(44,124,145,.8),rgba(78,183,212,.8));background:linear-gradient(rgba(44,124,145,.8),rgba(78,183,212,.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-current{background:#fff;background:rgba(255,255,255,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,.9)),to(rgba(200,200,200,.8)));background:-webkit-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-moz-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-o-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-ms-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:linear-gradient(rgba(255,255,255,.9),rgba(200,200,200,.8));width:0}.mejs-controls .mejs-time-rail .mejs-time-handle{display:none;position:absolute;margin:0;width:10px;background:#fff;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:pointer;border:solid 2px #333;top:-2px;text-align:center}.mejs-controls .mejs-time-rail .mejs-time-float{position:absolute;display:none;background:#eee;width:36px;height:17px;border:solid 1px #333;top:-26px;margin-left:-18px;text-align:center;color:#111}.mejs-controls .mejs-time-rail .mejs-time-float-current{margin:2px;width:30px;display:block;text-align:center;left:0}.mejs-controls .mejs-time-rail .mejs-time-float-corner{position:absolute;display:block;width:0;height:0;line-height:0;border:solid 5px #eee;border-color:#eee transparent transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:15px;left:13px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float{width:48px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-current{width:44px}.mejs-long-video .mejs-controls .mejs-time-rail .mejs-time-float-corner{left:18px}.mejs-controls .mejs-fullscreen-button button{background-position:-32px 0}.mejs-controls .mejs-unfullscreen button{background-position:-32px -16px}.mejs-controls .mejs-volume-button{}.mejs-controls .mejs-mute button{background-position:-16px -16px}.mejs-controls .mejs-unmute button{background-position:-16px 0}.mejs-controls .mejs-volume-button{position:relative}.mejs-controls .mejs-volume-button .mejs-volume-slider{height:115px;width:25px;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;top:-115px;left:0;z-index:1;position:absolute;margin:0}.mejs-controls .mejs-volume-button:hover{-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-total{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,.5);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-current{position:absolute;left:11px;top:8px;width:2px;height:100px;background:#ddd;background:rgba(255,255,255,.9);margin:0}.mejs-controls .mejs-volume-button .mejs-volume-slider .mejs-volume-handle{position:absolute;left:4px;top:-3px;width:16px;height:6px;background:#ddd;background:rgba(255,255,255,.9);cursor:N-resize;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;margin:0}.mejs-controls a.mejs-horizontal-volume-slider{height:26px;width:56px;position:relative;display:block;float:left;vertical-align:middle}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-total{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#333;background:rgba(50,50,50,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(30,30,30,.8)),to(rgba(60,60,60,.8)));background:-webkit-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-moz-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-o-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:-ms-linear-gradient(top,rgba(30,30,30,.8),rgba(60,60,60,.8));background:linear-gradient(rgba(30,30,30,.8),rgba(60,60,60,.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-current{position:absolute;left:0;top:11px;width:50px;height:8px;margin:0;padding:0;font-size:1px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background:#fff;background:rgba(255,255,255,.8);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,.9)),to(rgba(200,200,200,.8)));background:-webkit-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-moz-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-o-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:-ms-linear-gradient(top,rgba(255,255,255,.9),rgba(200,200,200,.8));background:linear-gradient(rgba(255,255,255,.9),rgba(200,200,200,.8))}.mejs-controls .mejs-horizontal-volume-slider .mejs-horizontal-volume-handle{display:none}.mejs-controls .mejs-captions-button{position:relative}.mejs-controls .mejs-captions-button button{background-position:-48px 0}.mejs-controls .mejs-captions-button .mejs-captions-selector{position:absolute;bottom:26px;right:-51px;width:85px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:10px 10px 0;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-captions-button .mejs-captions-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li{margin:0 0 6px;padding:0;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-captions-button .mejs-captions-selector ul li label{width:55px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:10px}.mejs-controls .mejs-captions-button .mejs-captions-translations{font-size:10px;margin:0 0 5px}.mejs-chapters{position:absolute;top:0;left:0;border-right:solid 1px #fff;width:10000px;z-index:1}.mejs-chapters .mejs-chapter{position:absolute;float:left;background:#222;background:rgba(0,0,0,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(50,50,50,.7)),to(rgba(0,0,0,.7)));background:-webkit-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-moz-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-o-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:-ms-linear-gradient(top,rgba(50,50,50,.7),rgba(0,0,0,.7));background:linear-gradient(rgba(50,50,50,.7),rgba(0,0,0,.7));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#323232, endColorstr=#000000);overflow:hidden;border:0}.mejs-chapters .mejs-chapter .mejs-chapter-block{font-size:11px;color:#fff;padding:5px;display:block;border-right:solid 1px #333;border-bottom:solid 1px #333;cursor:pointer}.mejs-chapters .mejs-chapter .mejs-chapter-block-last{border-right:0}.mejs-chapters .mejs-chapter .mejs-chapter-block:hover{background:#666;background:rgba(102,102,102,.7);background:-webkit-gradient(linear,0 0,0 100%,from(rgba(102,102,102,.7)),to(rgba(50,50,50,.6)));background:-webkit-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-moz-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-o-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:-ms-linear-gradient(top,rgba(102,102,102,.7),rgba(50,50,50,.6));background:linear-gradient(rgba(102,102,102,.7),rgba(50,50,50,.6));filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0, startColorstr=#666666, endColorstr=#323232)}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-title{font-size:12px;font-weight:700;display:block;white-space:nowrap;text-overflow:ellipsis;margin:0 0 3px;line-height:12px}.mejs-chapters .mejs-chapter .mejs-chapter-block .ch-timespan{font-size:12px;line-height:12px;margin:3px 0 4px;display:block;white-space:nowrap;text-overflow:ellipsis}.mejs-captions-layer{position:absolute;bottom:0;left:0;text-align:center;line-height:20px;font-size:16px;color:#fff}.mejs-captions-layer a{color:#fff;text-decoration:underline}.mejs-captions-layer[lang=ar]{font-size:20px;font-weight:400}.mejs-captions-position{position:absolute;width:100%;bottom:15px;left:0}.mejs-captions-position-hover{bottom:35px}.mejs-captions-text,.mejs__captions-text *{padding:0;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(20,20,20,.5);white-space:pre-wrap;-webkit-box-shadow:5px 0 0 rgba(20,20,20,.5),-5px 0 0 rgba(20,20,20,.5);box-shadow:5px 0 0 rgba(20,20,20,.5),-5px 0 0 rgba(20,20,20,.5)}.me-cannotplay{}.me-cannotplay a{color:#fff;font-weight:700}.me-cannotplay span{padding:15px;display:block}.mejs-controls .mejs-loop-off button{background-position:-64px -16px}.mejs-controls .mejs-loop-on button{background-position:-64px 0}.mejs-controls .mejs-backlight-off button{background-position:-80px -16px}.mejs-controls .mejs-backlight-on button{background-position:-80px 0}.mejs-controls .mejs-picturecontrols-button{background-position:-96px 0}.mejs-contextmenu{position:absolute;width:150px;padding:10px;border-radius:4px;top:0;left:0;background:#fff;border:solid 1px #999;z-index:1001}.mejs-contextmenu .mejs-contextmenu-separator{height:1px;font-size:0;margin:5px 6px;background:#333}.mejs-contextmenu .mejs-contextmenu-item{font-family:Helvetica,Arial,serif;font-size:12px;padding:4px 6px;cursor:pointer;color:#333}.mejs-contextmenu .mejs-contextmenu-item:hover{background:#2C7C91;color:#fff}.mejs-controls .mejs-sourcechooser-button{position:relative}.mejs-controls .mejs-sourcechooser-button button{background-position:-128px 0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector{position:absolute;bottom:26px;right:-10px;width:130px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:10px;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li{margin:0 0 6px;padding:0;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-sourcechooser-button .mejs-sourcechooser-selector ul li label{width:100px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:10px}.mejs-postroll-layer{position:absolute;bottom:0;left:0;width:100%;height:100%;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);z-index:1000;overflow:hidden}.mejs-postroll-layer-content{width:100%;height:100%}.mejs-postroll-close{position:absolute;right:0;top:0;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);color:#fff;padding:4px;z-index:100;cursor:pointer}div.mejs-speed-button{width:46px!important;position:relative}.mejs-controls .mejs-button.mejs-speed-button button{background:transparent;width:36px;font-size:11px;line-height:normal;color:#fff}.mejs-controls .mejs-speed-button .mejs-speed-selector{position:absolute;top:-100px;left:-10px;width:60px;height:100px;background:url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/703c659e4bf563a05c6338a1727e006c.png);background:rgba(50,50,50,.7);border:solid 1px transparent;padding:0;overflow:hidden;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label.mejs-speed-selected{color:rgba(33,248,248,1)}.mejs-controls .mejs-speed-button .mejs-speed-selector ul{margin:0;padding:0;display:block;list-style-type:none!important;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li{margin:0 0 6px;padding:0 10px;list-style-type:none!important;display:block;color:#fff;overflow:hidden}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li input{clear:both;float:left;margin:3px 3px 0 5px}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li label{width:60px;float:left;padding:4px 0 0;line-height:15px;font-family:Helvetica,Arial,serif;font-size:11px;color:#fff;margin-left:5px;cursor:pointer}.mejs-controls .mejs-speed-button .mejs-speed-selector ul li:hover{background-color:#c8c8c8!important;background-color:rgba(255,255,255,.4)!important}.mejs-controls .mejs-button.mejs-jump-forward-button{background:transparent url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/15e1ac8cbacc2efdf1ac2677de48a253.png) no-repeat 3px 3px}.mejs-controls .mejs-button.mejs-jump-forward-button button{background:transparent;font-size:9px;line-height:normal;color:#fff}.mejs-controls .mejs-button.mejs-skip-back-button{background:transparent url(https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/cd6dc830eb45b3a5a96bbc936ff54846.png) no-repeat 3px 3px}.mejs-controls .mejs-button.mejs-skip-back-button button{background:transparent;font-size:9px;line-height:normal;color:#fff}</style><style type=\"text/css\">/*
 * Copyright (C) 2014 - present Instructure, Inc.
 *
 * This file is part of Canvas.
 *
 * Canvas is free software: you can redistribute it and/or modify it under
 * the terms of the GNU Affero General Public License as published by the Free
 * Software Foundation, version 3 of the License.
 *
 * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more
 * details.
 *
 * You should have received a copy of the GNU Affero General Public License along
 * with this program. If not, see <http://www.gnu.org/licenses/>.
 */

/* customizations to mediaelementplayer css */

/*
  Because this file is not proccessed by our brandable_css sass pipeline,
  it cannot use our sass-direction helpers. So we have to handle RTL manually
  by putting direction-specific styles in [dir=\"ltr\"] or [dir=\"rtl\"] blocks.
*/
/* stylelint-disable property-disallowed-list, declaration-property-value-disallowed-list */

/* good menu widths */
.mejs-sourcechooser-selector {
  width: 160px;
}
.mejs-sourcechooser-selector label {
  width: 160px !important;
}

.mejs-captions-selector {
  width: 105px;
}
[dir=\"ltr\"]  .mejs-captions-selector { text-align: left }
[dir=\"rtl\"]  .mejs-captions-selector { text-align: right }

.mejs-captions-selector label {
  width: 70px !important;
}

/* Subtitile upload link */
.mejs-captions-selector .upload-track {
  color: white;
  margin-top: 3px;
  margin-bottom: 5px;
}
[dir=\"ltr\"] .mejs-captions-selector .upload-track {
  margin-right: 0px;
  margin-left: 5px;
  float: left;
}
[dir=\"rtl\"] .mejs-captions-selector .upload-track {
  margin-left: 0px;
  margin-right: 5px;
  float: right;
}

/* \"x\" button to remove a subtitle */
.mejs-captions-selector a[data-remove] {
  position: absolute;
  top: 0;
  color: white;
}
[dir=\"ltr\"] .mejs-captions-selector a[data-remove] { right: 0 }
[dir=\"rtl\"] .mejs-captions-selector a[data-remove] { left: 0 }


/* style menu items without a radio button */
.mejs-button [role=\"menu\"] {
  padding: 0 !important;
}
 /* compensate for above 0 padding */
 .mejs-button [role=\"menu\"] ul li {
  position: relative;
  padding: 0 10px !important;
}
/* add a hover effect */
.mejs-button [role=\"menu\"] ul li:hover {
  background-color: #c8c8c8 !important;
  background-color: rgba(255, 255, 255, 0.4) !important;
}
.mejs-button [role=\"menu\"] ul li input {
  border: 0;
  clip: rect(0 0 0 0);
  position: absolute;
  overflow: hidden;
  margin: -1px;
  padding: 0;
  width: 1px;
  height: 1px;
}
.mejs-button [role=\"menu\"] ul li label {
  cursor: pointer;
}
[dir=\"ltr\"] .mejs-button [role=\"menu\"] ul li label { margin-left: 5px }
[dir=\"rtl\"] .mejs-button [role=\"menu\"] ul li label { margin-right: 5px }


.mejs-button [role=\"menu\"] label.mejs-selected {
  color: #21f8f8 !important;
}

/* stylelint-enable property-disallowed-list, declaration-property-value-disallowed-list */
</style><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/3636-c-6040224106.js\"></script><script charset=\"utf-8\" src=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/4189-c-c526001de8.js\"></script></head>

<body class=\"with-left-side course-menu-expanded with-right-side quizzes primary-nav-expanded full-width context-course_79323 responsive_awareness responsive_misc responsive_student_grades_page webkit safari ff no-touch vsc-initialized\"><noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-MJ6HRCH\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>

<noscript>
  <div role=\"alert\" class=\"ic-flash-static ic-flash-error\">
    <div class=\"ic-flash__icon\" aria-hidden=\"true\">
      <i class=\"icon-warning\"></i>
    </div>
    <h1>You need to have JavaScript enabled in order to access this site.</h1>
  </div>
</noscript>




<ul id=\"flash_message_holder\"></ul>
<div id=\"flash_screenreader_holder\" role=\"alert\" aria-live=\"assertive\" aria-relevant=\"additions\" class=\"screenreader-only\" aria-atomic=\"false\"></div>

<div id=\"application\" class=\"ic-app\">
  



    <header id=\"mobile-header\" class=\"no-print\">
      <button type=\"button\" class=\"Button Button--icon-action-rev Button--large mobile-header-hamburger\">
        <i class=\"icon-solid icon-hamburger\"></i>
        <span id=\"mobileHeaderInboxUnreadBadge\" class=\"menu-item__badge\" style=\"min-width: 0px; top: 12px; height: 12px; right: 6px;\"></span>
        <span class=\"screenreader-only\">Dashboard</span>
      </button>
      <div class=\"mobile-header-space\"></div>
        <a class=\"mobile-header-title expandable\" href=\"/courses/79323\" role=\"button\" aria-controls=\"mobileContextNavContainer\" data-jzz-gui-player=\"true\">
          <div>GEOG 1001</div>
            <div>Quiz 5 2022</div>
        </a>
        <div class=\"mobile-header-space\"></div>
        <button type=\"button\" class=\"Button Button--icon-action-rev Button--large mobile-header-arrow\" aria-label=\"Navigation Menu\">
          <i class=\"icon-arrow-open-down\" id=\"mobileHeaderArrowIcon\"></i>
        </button>
    </header>
    <nav id=\"mobileContextNavContainer\"></nav>
  <header id=\"header\" class=\"ic-app-header no-print \">
    <a href=\"#content\" id=\"skip_navigation_link\" data-jzz-gui-player=\"true\">Skip To Content</a>
      <div role=\"region\" class=\"ic-app-header__main-navigation\" aria-label=\"Global Navigation\">
        <div class=\"ic-app-header__logomark-container\">
          <a href=\"https://canvas.colorado.edu/\" class=\"ic-app-header__logomark\" data-jzz-gui-player=\"true\">
            <span class=\"screenreader-only\">Dashboard</span>
          </a>
        </div>
        <ul id=\"menu\" class=\"ic-app-header__menu-list\">
            <li class=\"menu-item ic-app-header__menu-list-item \">
              <button id=\"global_nav_profile_link\" class=\"ic-app-header__menu-list-link\">
                <div class=\"menu-item-icon-container\">
                  <div aria-hidden=\"true\" class=\"fs-exclude ic-avatar \">
                    <img src=\"https://cuboulder.instructure.com/images/thumbnails/44328313/7udsfppyMz2kOn6pIaP1w1DUyOo4tsTNocBK7tIV\" alt=\"Davis Davalos-delosh\">
                  </div>
                  <span class=\"menu-item__badge\"></span>
                </div>
                <div class=\"menu-item__text\">
                  Account
                </div>
              </button>
            </li>
          <li class=\"ic-app-header__menu-list-item \">
            <a id=\"global_nav_dashboard_link\" href=\"https://canvas.colorado.edu/\" class=\"ic-app-header__menu-list-link\" data-jzz-gui-player=\"true\">
              <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--dashboard\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"0 0 280 200\" enable-background=\"new 0 0 280 200\" xml:space=\"preserve\"><path d=\"M273.09,180.75H197.47V164.47h62.62A122.16,122.16,0,1,0,17.85,142a124,124,0,0,0,2,22.51H90.18v16.29H6.89l-1.5-6.22A138.51,138.51,0,0,1,1.57,142C1.57,65.64,63.67,3.53,140,3.53S278.43,65.64,278.43,142a137.67,137.67,0,0,1-3.84,32.57ZM66.49,87.63,50.24,71.38,61.75,59.86,78,76.12Zm147,0L202,76.12l16.25-16.25,11.51,11.51ZM131.85,53.82v-23h16.29v23Zm15.63,142.3a31.71,31.71,0,0,1-28-16.81c-6.4-12.08-15.73-72.29-17.54-84.25a8.15,8.15,0,0,1,13.58-7.2c8.88,8.21,53.48,49.72,59.88,61.81a31.61,31.61,0,0,1-27.9,46.45ZM121.81,116.2c4.17,24.56,9.23,50.21,12,55.49A15.35,15.35,0,1,0,161,157.3C158.18,152,139.79,133.44,121.81,116.2Z\"></path></svg>

              </div>
              <div class=\"menu-item__text\">Dashboard</div>
            </a>
          </li>
            <li class=\"menu-item ic-app-header__menu-list-item ic-app-header__menu-list-item--active\">
              <button id=\"global_nav_courses_link\" class=\"ic-app-header__menu-list-link\">
                <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--courses\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"0 0 280 259\" enable-background=\"new 0 0 280 259\" xml:space=\"preserve\"><path d=\"M73.31,198c-11.93,0-22.22,8-24,18.73a26.67,26.67,0,0,0-.3,3.63v.3a22,22,0,0,0,5.44,14.65,22.47,22.47,0,0,0,17.22,8H200V228.19h-134V213.08H200V198Zm21-105.74h90.64V62H94.3ZM79.19,107.34V46.92H200v60.42Zm7.55,30.21V122.45H192.49v15.11ZM71.65,16.71A22.72,22.72,0,0,0,49,39.36V190.88a41.12,41.12,0,0,1,24.32-8h157V16.71ZM33.88,39.36A37.78,37.78,0,0,1,71.65,1.6H245.36V198H215.15v45.32h22.66V258.4H71.65a37.85,37.85,0,0,1-37.76-37.76Z\"></path></svg>

                </div>
                <div class=\"menu-item__text\">
                  Courses
                </div>
              </button>
            </li>
            <li class=\"menu-item ic-app-header__menu-list-item \">
              <button id=\"global_nav_groups_link\" class=\"ic-app-header__menu-list-link\">
                <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--groups\" viewBox=\"0 0 200 135\"><path d=\"M134.5 129.4c0-1.1 0-19.8-6.2-31.1-4.5-8.5-16.4-12.4-35-19.2-1.7-.6-3.4-1.1-5.1-1.7v-8.5c5.6-5.1 8.5-12.4 8.5-20.3V29.4C96.6 13 83.6 0 67.2 0S37.9 13 37.9 29.4v19.2c0 7.3 3.4 14.7 8.5 20.3v8.5c-1.7.6-3.4 1.1-5.1 1.7-18.6 6.2-30.5 10.7-35 19.2C0 109.6 0 128.8 0 129.4c0 3.4 2.3 5.6 5.6 5.6h123.7c3.5 0 5.7-2.3 5.2-5.6zm-123.2-5.7c.6-5.6 1.7-14.7 3.4-19.8C17 98.8 30 94.3 43.5 89.8c2.8-1.1 5.6-2.3 9-3.4 2.3-.6 4-2.8 4-5.1V66.7c0-1.7-.6-3.4-1.7-4.5-4-3.4-6.2-8.5-6.2-13.6V29.4c0-10.2 7.9-18.1 18.1-18.1s18.1 7.9 18.1 18.1v19.2c0 5.1-2.3 10.2-6.2 13.6-1.1 1.1-1.7 2.8-1.7 4.5v14.7c0 2.3 1.7 4.5 4 5.1 2.8 1.1 6.2 2.3 9 3.4 13.6 5.1 26.6 9.6 28.8 14.1 2.8 5.1 4 13.6 4.5 19.8H11.3zM196 79.1c-2.8-6.2-11.3-9.6-22.6-13.6l-1.7-.6v-3.4c4.5-4 6.8-9.6 6.8-15.8V35c0-12.4-9.6-22-22-22s-22 10.2-22 22v10.7c0 6.2 2.3 11.9 6.8 15.8V65l-1.7.6c-7.3 2.8-13 4.5-16.9 7.3-1.7 1.1-2.3 2.8-2.3 5.1.6 1.7 1.7 3.4 3.4 4.5 7.9 4 12.4 7.3 14.1 10.7 2.3 4.5 4 10.2 5.1 18.1.6 2.3 2.8 4.5 5.6 4.5h45.8c3.4 0 5.6-2.8 5.6-5.1 0-3.9 0-24.3-4-31.6zm-42.9 25.4c-1.1-6.8-2.8-12.4-5.1-16.9-1.7-4-5.1-6.8-9.6-10.2 1.7-1.1 3.4-1.7 5.1-2.3l5.6-2.3c1.7-.6 3.4-2.8 3.4-5.1v-9.6c0-1.7-.6-3.4-2.3-4.5-2.8-1.7-4.5-5.1-4.5-8.5V34.5c0-6.2 4.5-10.7 10.7-10.7s10.7 5.1 10.7 10.7v10.7c0 3.4-1.7 6.2-4.5 8.5-1.1 1.1-2.3 2.8-2.3 4.5v10.2c0 2.3 1.1 4.5 3.4 5.1l5.6 2.3c6.8 2.3 15.3 5.6 16.4 7.9 1.7 2.8 2.8 12.4 2.8 20.9h-35.4z\"></path></svg>

                </div>
                <div class=\"menu-item__text\">
                  Groups
                </div>
              </button>
            </li>
          <li class=\"menu-item ic-app-header__menu-list-item \">
            <a id=\"global_nav_calendar_link\" href=\"/calendar\" class=\"ic-app-header__menu-list-link\" data-jzz-gui-player=\"true\">
              <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--calendar\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"0 0 280 280\" enable-background=\"new 0 0 280 280\" xml:space=\"preserve\"><path d=\"M197.07,213.38h16.31V197.07H197.07Zm-16.31,16.31V180.76h48.92v48.92Zm-48.92-16.31h16.31V197.07H131.85Zm-16.31,16.31V180.76h48.92v48.92ZM66.62,213.38H82.93V197.07H66.62ZM50.32,229.68V180.76H99.24v48.92Zm146.75-81.53h16.31V131.85H197.07Zm-16.31,16.31V115.54h48.92v48.92Zm-48.92-16.31h16.31V131.85H131.85Zm-16.31,16.31V115.54h48.92v48.92ZM66.62,148.15H82.93V131.85H66.62ZM50.32,164.46V115.54H99.24v48.92ZM34,262.29H246V82.93H34ZM246,66.62V42.16A8.17,8.17,0,0,0,237.84,34H213.38v8.15a8.15,8.15,0,1,1-16.31,0V34H82.93v8.15a8.15,8.15,0,0,1-16.31,0V34H42.16A8.17,8.17,0,0,0,34,42.16V66.62Zm-8.15-48.92a24.49,24.49,0,0,1,24.46,24.46V278.6H17.71V42.16A24.49,24.49,0,0,1,42.16,17.71H66.62V9.55a8.15,8.15,0,0,1,16.31,0v8.15H197.07V9.55a8.15,8.15,0,1,1,16.31,0v8.15Z\"></path></svg>

              </div>
              <div class=\"menu-item__text\">
                Calendar
              </div>
            </a>
          </li>
          <li class=\"menu-item ic-app-header__menu-list-item \">
            <a id=\"global_nav_conversations_link\" href=\"/conversations\" class=\"ic-app-header__menu-list-link\" data-jzz-gui-player=\"true\">
              <div class=\"menu-item-icon-container\">
                <span aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--inbox\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"0 0 280 280\" enable-background=\"new 0 0 280 280\" xml:space=\"preserve\"><path d=\"M91.72,120.75h96.56V104.65H91.72Zm0,48.28h80.47V152.94H91.72Zm0-96.56h80.47V56.37H91.72Zm160.94,34.88H228.52V10.78h-177v96.56H27.34A24.17,24.17,0,0,0,3.2,131.48V244.14a24.17,24.17,0,0,0,24.14,24.14H252.66a24.17,24.17,0,0,0,24.14-24.14V131.48A24.17,24.17,0,0,0,252.66,107.34Zm0,16.09a8.06,8.06,0,0,1,8,8v51.77l-32.19,19.31V123.44ZM67.58,203.91v-177H212.42v177ZM27.34,123.44H51.48v79.13L19.29,183.26V131.48A8.06,8.06,0,0,1,27.34,123.44ZM252.66,252.19H27.34a8.06,8.06,0,0,1-8-8V202l30,18H230.75l30-18v42.12A8.06,8.06,0,0,1,252.66,252.19Z\"></path></svg>
</span>
                <span class=\"menu-item__badge\"><span class=\"ergWt_bGBk\">58 unread messages.</span><span aria-hidden=\"true\">58</span></span>
              </div>
              <div class=\"menu-item__text\">
                Inbox
              </div>
            </a>
          </li>
            <li class=\"menu-item ic-app-header__menu-list-item\">
              <button id=\"global_nav_history_link\" class=\"ic-app-header__menu-list-link\">
                <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                  <svg viewBox=\"0 0 1920 1920\" class=\"ic-icon-svg menu-item__icon svg-icon-history\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">
    <path d=\"M960 112.941c-467.125 0-847.059 379.934-847.059 847.059 0 467.125 379.934 847.059 847.059 847.059 467.125 0 847.059-379.934 847.059-847.059 0-467.125-379.934-847.059-847.059-847.059M960 1920C430.645 1920 0 1489.355 0 960S430.645 0 960 0s960 430.645 960 960-430.645 960-960 960m417.905-575.955L903.552 988.28V395.34h112.941v536.47l429.177 321.77-67.765 90.465z\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\"></path>
</svg>
                </div>
                <div class=\"menu-item__text\">
                  History
                </div>
              </button>
            </li>
            

    <li id=\"context_external_tool_12498_menu_item\" class=\"globalNavExternalTool menu-item ic-app-header__menu-list-item\">
      <a class=\"ic-app-header__menu-list-link\" href=\"/accounts/1/external_tools/12498?launch_type=global_navigation\" data-jzz-gui-player=\"true\">
          <svg version=\"1.1\" class=\"ic-icon-svg ic-icon-svg--lti menu-item__icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 64 64\">
            <path d=\"M37.5331419,41.3325083 L25.3997411,41.3325083 L25.3997411,52.8756632 C27.5972597,53.6451225 29.1733531,55.7378472 29.1733531,58.198822 C29.1733531,61.3127847 26.6499049,63.8371501 23.5370738,63.8371501 C20.4242427,63.8371501 17.9007945,61.3127847 17.9007945,58.198822 C17.9007945,55.7378472 19.4768879,53.6451225 21.6744065,52.8756632 L21.6744065,41.3325083 L17.5706263,41.3325083 L17.5717453,47.9192726 C17.5717453,50.4825483 15.4945548,52.5604939 12.9322104,52.5604939 L10.9667199,52.5588751 C10.2051449,54.7710384 8.10625368,56.3604121 5.63627929,56.3604121 C2.52344819,56.3604121 2.84217094e-14,53.8360466 2.84217094e-14,50.722084 C2.84217094e-14,47.6081214 2.52344819,45.0837559 5.63627929,45.0837559 C8.08603407,45.0837559 10.1707563,46.6472143 10.9477485,48.8310912 L12.9905507,48.8310912 C13.4625615,48.8310912 13.8452018,48.4483118 13.8452018,47.9761294 L13.8452018,41.3325083 L5.65400042,41.3325083 C4.57511859,41.3325083 3.70051205,40.4575839 3.70051205,39.3783099 L3.70051205,1.95419847 C3.70051205,0.874924458 4.57511859,-1.42108547e-14 5.65400042,-1.42108547e-14 L57.2376164,-1.42108547e-14 C58.3164983,-1.42108547e-14 59.1911048,0.874924458 59.1911048,1.95419847 L59.1911048,39.3783099 C59.1911048,40.4575839 58.3164983,41.3325083 57.2376164,41.3325083 L49.085452,41.3325083 L49.085452,47.9761294 C49.085452,48.4483118 49.4680923,48.8310912 49.9401031,48.8310912 L51.9829054,48.8310912 C52.7598976,46.6472143 54.8446197,45.0837559 57.2943745,45.0837559 C60.4072056,45.0837559 62.9306538,47.6081214 62.9306538,50.722084 C62.9306538,53.8360466 60.4072056,56.3604121 57.2943745,56.3604121 C54.8244001,56.3604121 52.725509,54.7710384 51.9639339,52.5588751 L49.9996524,52.5604938 C47.436099,52.5604939 45.3589085,50.4825483 45.3589085,47.9192726 L45.3600275,41.3325083 L41.2584765,41.3325083 L41.2584765,52.8756632 C43.4559951,53.6451225 45.0320885,55.7378472 45.0320885,58.198822 C45.0320885,61.3127847 42.5086403,63.8371501 39.3958092,63.8371501 C36.2829781,63.8371501 33.7595299,61.3127847 33.7595299,58.198822 C33.7595299,55.7378472 35.3356233,53.6451225 37.5331419,52.8756632 L37.5331419,41.3325083 Z M39.4407163,60.0484002 C40.4618389,60.0484002 41.2896223,59.2203158 41.2896223,58.198822 C41.2896223,57.1773282 40.4618389,56.3492439 39.4407163,56.3492439 C38.4195937,56.3492439 37.5918102,57.1773282 37.5918102,58.198822 C37.5918102,59.2203158 38.4195937,60.0484002 39.4407163,60.0484002 Z M23.5819809,60.0484002 C24.6031035,60.0484002 25.4308869,59.2203158 25.4308869,58.198822 C25.4308869,57.1773282 24.6031035,56.3492439 23.5819809,56.3492439 C22.5608582,56.3492439 21.7330748,57.1773282 21.7330748,58.198822 C21.7330748,59.2203158 22.5608582,60.0484002 23.5819809,60.0484002 Z M57.3392816,52.5716621 C58.3604042,52.5716621 59.1881877,51.7435778 59.1881877,50.722084 C59.1881877,49.7005902 58.3604042,48.8725058 57.3392816,48.8725058 C56.318159,48.8725058 55.4903755,49.7005902 55.4903755,50.722084 C55.4903755,51.7435778 56.318159,52.5716621 57.3392816,52.5716621 Z M5.59137222,52.5716621 C6.61249484,52.5716621 7.44027829,51.7435778 7.44027829,50.722084 C7.44027829,49.7005902 6.61249484,48.8725058 5.59137222,48.8725058 C4.57024959,48.8725058 3.74246615,49.7005902 3.74246615,50.722084 C3.74246615,51.7435778 4.57024959,52.5716621 5.59137222,52.5716621 Z M30.1554353,12.9293586 L35.7525093,16.2831044 C36.070684,16.5163802 36.2591714,16.8906762 36.2591714,17.2892282 C36.2591714,17.6877801 36.070684,18.0620761 35.7525093,18.2953519 L30.1554353,21.6490977 C29.7776345,21.8706324 29.3121961,21.8707698 28.9342686,21.6494581 C28.5563411,21.4281465 28.3232712,21.0189676 28.3227651,20.575899 L28.3227651,14.0025573 C28.3232712,13.5594887 28.5563411,13.1503099 28.9342686,12.9289982 C29.3121961,12.7076865 29.7776345,12.7078239 30.1554353,12.9293586 Z M55.6445081,31.031948 L55.6445081,4.52360758 C55.6445081,3.98397057 55.2072048,3.54650834 54.6677639,3.54650834 L8.22385298,3.54650834 C7.68441206,3.54650834 7.24710879,3.98397057 7.24710879,4.52360758 L7.24710879,31.031948 L55.6445081,31.031948 Z M55.6445081,34.5784563 L7.24710879,34.5784563 L7.24710879,36.8093831 C7.24710879,37.3490201 7.68441206,37.7864824 8.22385298,37.7864824 L54.6677639,37.7864824 C55.2072048,37.7864824 55.6445081,37.3490201 55.6445081,36.8093831 L55.6445081,34.5784563 Z\"></path>
          </svg>
        <div class=\"menu-item__text\">
          Studio
        </div>
      </a>
    </li>

          <li class=\"ic-app-header__menu-list-item\">
           <a id=\"global_nav_help_link\" role=\"button\" class=\"ic-app-header__menu-list-link\" data-track-category=\"help system\" data-track-label=\"help button\" href=\"http://help.instructure.com/\" data-jzz-gui-player=\"true\">
              <div class=\"menu-item-icon-container\" role=\"presentation\">
                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg menu-item__icon svg-icon-help\" version=\"1.1\" x=\"0\" y=\"0\" viewBox=\"0 0 200 200\" enable-background=\"new 0 0 200 200\" xml:space=\"preserve\" fill=\"currentColor\"><path d=\"M100,127.88A11.15,11.15,0,1,0,111.16,139,11.16,11.16,0,0,0,100,127.88Zm8.82-88.08a33.19,33.19,0,0,1,23.5,23.5,33.54,33.54,0,0,1-24,41.23,3.4,3.4,0,0,0-2.74,3.15v9.06H94.42v-9.06a14.57,14.57,0,0,1,11.13-14,22.43,22.43,0,0,0,13.66-10.27,22.73,22.73,0,0,0,2.31-17.37A21.92,21.92,0,0,0,106,50.59a22.67,22.67,0,0,0-19.68,3.88,22.18,22.18,0,0,0-8.65,17.64H66.54a33.25,33.25,0,0,1,13-26.47A33.72,33.72,0,0,1,108.82,39.8ZM100,5.2A94.8,94.8,0,1,0,194.8,100,94.91,94.91,0,0,0,100,5.2m0,178.45A83.65,83.65,0,1,1,183.65,100,83.73,83.73,0,0,1,100,183.65\" transform=\"translate(-5.2 -5.2)\"></path></svg>

                <span class=\"menu-item__badge\"></span>
              </div>
              <div class=\"menu-item__text\">
                Help
              </div>
</a>          </li>
        </ul>
      </div>
      <div class=\"ic-app-header__secondary-navigation\">
        <ul class=\"ic-app-header__menu-list\">
          <li class=\"menu-item ic-app-header__menu-list-item\">
            <button id=\"primaryNavToggle\" class=\"ic-app-header__menu-list-link ic-app-header__menu-list-link--nav-toggle\" aria-label=\"Minimize global navigation\" title=\"Minimize global navigation\">
              <div class=\"menu-item-icon-container\" aria-hidden=\"true\">
                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ic-icon-svg ic-icon-svg--navtoggle\" version=\"1.1\" x=\"0\" y=\"0\" width=\"40\" height=\"32\" viewBox=\"0 0 40 32\" xml:space=\"preserve\">
  <path d=\"M39.5,30.28V2.48H37.18v27.8Zm-4.93-13.9L22.17,4,20.53,5.61l9.61,9.61H.5v2.31H30.14l-9.61,9.61,1.64,1.64Z\"></path>
</svg>

              </div>
            </button>
          </li>
        </ul>
      </div>
    <div id=\"global_nav_tray_container\"></div>
    <div id=\"global_nav_tour\"></div>
  </header>


  <div id=\"instructure_ajax_error_box\">
    <div style=\"text-align: right; background-color: #fff;\"><a href=\"#\" class=\"close_instructure_ajax_error_box_link\" data-jzz-gui-player=\"true\">Close</a></div>
    <iframe id=\"instructure_ajax_error_result\" src=\"about:blank\" style=\"border: 0;\" title=\"Error\"></iframe>
  </div>

  <div id=\"wrapper\" class=\"ic-Layout-wrapper\">
      <div class=\"ic-app-nav-toggle-and-crumbs no-print\">
          <button type=\"button\" id=\"courseMenuToggle\" class=\"Button Button--link ic-app-course-nav-toggle\" aria-live=\"polite\" aria-label=\"Hide Courses Navigation Menu\">
            <i class=\"icon-hamburger\" aria-hidden=\"true\"></i>
          </button>

        <div class=\"ic-app-crumbs\">
            <nav id=\"breadcrumbs\" role=\"navigation\" aria-label=\"breadcrumbs\"><ul><li class=\"home\"><a href=\"/\" data-jzz-gui-player=\"true\"><span class=\"ellipsible\"><i class=\"icon-home\" title=\"My Dashboard\">
  <span class=\"screenreader-only\">My Dashboard</span>
</i>
</span></a></li><li><a href=\"/courses/79323\" data-jzz-gui-player=\"true\"><span class=\"ellipsible\">GEOG 1001</span></a></li><li><a href=\"/courses/79323/quizzes\" data-jzz-gui-player=\"true\"><span class=\"ellipsible\">Quizzes</span></a></li><li><a href=\"/courses/79323/quizzes/224722\" data-jzz-gui-player=\"true\"><span class=\"ellipsible\">Quiz 5 2022</span></a></li></ul></nav>
        </div>


        <div class=\"right-of-crumbs\">
            <div class=\"TutorialToggleHolder\"></div>
        </div>

      </div>
    <div id=\"main\" class=\"ic-Layout-columns\">
        <div class=\"ic-Layout-watermark\"></div>
        <div id=\"left-side\" class=\"ic-app-course-menu ic-sticky-on list-view\" style=\"display: block\">
            <div id=\"sticky-container\" class=\"ic-sticky-frame\">
                <span id=\"section-tabs-header-subtitle\" class=\"ellipsis\">2022 Spring Term</span>
              <nav role=\"navigation\" aria-label=\"Courses Navigation Menu\"><ul id=\"section-tabs\"><li class=\"section\"><a href=\"/courses/79323\" class=\"home\" data-jzz-gui-player=\"true\" tabindex=\"0\">Home</a></li><li class=\"section\"><a href=\"/courses/79323/announcements\" class=\"announcements\" data-jzz-gui-player=\"true\" tabindex=\"0\">Announcements</a></li><li class=\"section\"><a href=\"/courses/79323/assignments\" class=\"assignments\" data-jzz-gui-player=\"true\" tabindex=\"0\">Assignments</a></li><li class=\"section\"><a href=\"/courses/79323/discussion_topics\" class=\"discussions\" data-jzz-gui-player=\"true\" tabindex=\"0\">Discussions</a></li><li class=\"section\"><a href=\"/courses/79323/grades\" class=\"grades\" data-jzz-gui-player=\"true\" tabindex=\"0\">Grades</a></li><li class=\"section\"><a href=\"/courses/79323/users\" class=\"people\" data-jzz-gui-player=\"true\" tabindex=\"0\">People</a></li><li class=\"section\"><a href=\"/courses/79323/assignments/syllabus\" class=\"syllabus\" data-jzz-gui-player=\"true\" tabindex=\"0\">Syllabus</a></li><li class=\"section\"><a href=\"/courses/79323/quizzes\" aria-current=\"page\" class=\"quizzes active\" data-jzz-gui-player=\"true\" tabindex=\"0\">Quizzes</a></li><li class=\"section\"><a href=\"/courses/79323/modules\" class=\"modules\" data-jzz-gui-player=\"true\" tabindex=\"0\">Modules</a></li><li class=\"section\"><a href=\"/courses/79323/conferences\" class=\"conferences\" data-jzz-gui-player=\"true\" tabindex=\"0\">BigBlueButton</a></li><li class=\"section\"><a href=\"/courses/79323/lti_collaborations\" class=\"collaborations\" data-jzz-gui-player=\"true\" tabindex=\"0\">Collaborations</a></li><li class=\"section\"><a href=\"/courses/79323/external_tools/2\" class=\"context_external_tool_2\" data-jzz-gui-player=\"true\" tabindex=\"0\">Chat</a></li><li class=\"section\"><a href=\"/courses/79323/external_tools/430\" class=\"context_external_tool_430\" data-jzz-gui-player=\"true\" tabindex=\"0\">My Media</a></li><li class=\"section\"><a href=\"/courses/79323/external_tools/1681\" class=\"context_external_tool_1681\" data-jzz-gui-player=\"true\" tabindex=\"0\">NameCoach</a></li><li class=\"section\"><a href=\"/courses/79323/external_tools/3759\" class=\"context_external_tool_3759\" data-jzz-gui-player=\"true\" tabindex=\"0\">CU Boulder Libraries</a></li><li class=\"section\"><a href=\"/courses/79323/external_tools/16942\" class=\"context_external_tool_16942\" data-jzz-gui-player=\"true\" tabindex=\"0\">Zoom</a></li></ul></nav>
            </div>
        </div>
      <div id=\"not_right_side\" class=\"ic-app-main-content\">
        <div id=\"content-wrapper\" class=\"ic-Layout-contentWrapper\">
          
          <div id=\"content\" class=\"ic-Layout-contentMain\" role=\"main\">
            




<div id=\"quiz_show\">

  <header class=\"quiz-header\">


    <h1 id=\"quiz_title\">
      Quiz 5 2022
    </h1>


    <div class=\"row-fluid\">
        <div id=\"quiz_details_wrapper\" data-submitted-count=\"\"></div>
    </div>
    <div class=\"row-fluid\">
        

<base target=\"_top\">
<ul id=\"quiz_student_details\">
  <li>
    <span class=\"title\">Due</span>
    <span class=\"value\">
        <span data-tooltip=\"\" data-html-tooltip-title=\"Feb 10 at 11:59pm\">
          Feb 10 at 11:59pm
        </span>
    </span>
  </li>

  <li style=\"\">
    <span class=\"title\">Points</span>
    <span class=\"value\">10</span>
  </li>

  <li>
    <span class=\"title\">Questions</span>
    <span class=\"value\">10</span>
  </li>
  
  <li>
    <span class=\"title\">Available</span>
    <span class=\"value\">
        Feb 8 at 1pm - Feb 11 at 11:59pm
        <span style=\"font-size: 0.8em;\">3 days</span>
    </span>
  </li>

  <li>
    <span class=\"title\">Time Limit</span>
    <span class=\"value\">
        30 Minutes
    </span>
  </li>


</ul>



    </div>



    <div id=\"quiz-submission-version-table\" style=\"height: auto; opacity: 1; display: block;\">
  <div class=\"desc\">
    <h3>Attempt History</h3>
  </div>
  <table class=\"ic-Table ic-Table--condensed\" summary=\"A table that shows your quiz attempt history. Each attempt is on the left side. The attempt, time, and score are across the top.\">
    <thead>
      <tr>
        <td></td>
        <th scope=\"col\">Attempt</th>
        <th scope=\"col\">Time</th>
        <th scope=\"col\">Score</th>
      </tr>
    </thead>

    <tbody>

        
<tr class=\"\">
  <th scope=\"row\" class=\"ic-Table--header-row\">
      LATEST
  </th>
  <td>
    <a href=\"/courses/79323/quizzes/224722/history?version=1\" data-jzz-gui-player=\"true\">
      Attempt 1
    </a>
  </td>
  <td>
    5 minutes
  </td>

    <td>
      10 out of 10
      
    </td>
</tr>

    </tbody>
  </table>

</div>

  </header>

  <div id=\"direct-share-mount-point\"></div>

    
  
<div class=\"quiz-submission \">

  <div class=\"alert\">
    <i class=\"icon-warning\" aria-label=\"Correct answers will be available on Feb 11 at 11:59pm.\"></i>
    <span>Correct answers will be available on Feb 11 at 11:59pm.</span>
  </div>

<div class=\"quiz_score\" style=\"\">
    Score for this quiz:
  <span class=\"score_value\">10</span> out of 10
  
    </div>
<div>
  Submitted Feb 10 at 10:09pm
</div>
<div class=\"quiz_duration\" style=\"\">
  This attempt took 5 minutes.
</div>
<div id=\"questions\" class=\"assessment_results  suppress_correct_answers\">
  
<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3659331\"></a>
  <div class=\"display_question question true_false_question\" id=\"question_3659331\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 1</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">true_false_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3659331\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868020</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;In the Celsius scale, the freezing point of water is zero (0) degrees&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3659331_question_text\" class=\"question_text user_content enhanced\">
          <p>In the Celsius scale, the freezing point of water is zero (0) degrees</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_9727\" style=\"\" title=\"True. You selected this answer.\">


      <span class=\"hidden id\">9727</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-9727\" name=\"question-3659331\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-9727\">
        <div class=\"answer_text\">True</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 38px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"True\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">True</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659331</span>
      <span class=\"id\">9727</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_419\" style=\"\">


      <span class=\"hidden id\">419</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-419\" name=\"question-3659331\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-419\">
        <div class=\"answer_text\">False</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 47.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"False\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">False</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659331</span>
      <span class=\"id\">419</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3659332\"></a>
  <div class=\"display_question question multiple_choice_question\" id=\"question_3659332\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 2</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3659332\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868014</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;Compared to continental regions like Boulder,&amp;nbsp; maritime regions like Seattle tend to have _____________ summers and ___________________ winters&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3659332_question_text\" class=\"question_text user_content enhanced\">
          <p>Compared to continental regions like Boulder,&nbsp; maritime regions like Seattle tend to have _____________ summers and ___________________ winters</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_5981\" style=\"\">


      <span class=\"hidden id\">5981</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-5981\" name=\"question-3659332\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-5981\">
        <div class=\"answer_text\">warmer, cooler</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 133px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"warmer, cooler\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">warmer, cooler</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659332</span>
      <span class=\"id\">5981</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_1058\" style=\"\" title=\"cooler, warmer. You selected this answer.\">


      <span class=\"hidden id\">1058</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1058\" name=\"question-3659332\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1058\">
        <div class=\"answer_text\">cooler, warmer</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 133px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"cooler, warmer\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">cooler, warmer</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659332</span>
      <span class=\"id\">1058</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_8812\" style=\"\">


      <span class=\"hidden id\">8812</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-8812\" name=\"question-3659332\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-8812\">
        <div class=\"answer_text\">windy, calm</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 104.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"windy, calm\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">windy, calm</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659332</span>
      <span class=\"id\">8812</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_1243\" style=\"\">


      <span class=\"hidden id\">1243</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1243\" name=\"question-3659332\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1243\">
        <div class=\"answer_text\">cloudy, clear</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 123.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"cloudy, clear\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">cloudy, clear</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659332</span>
      <span class=\"id\">1243</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3659333\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3659333\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 3</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3659333\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868015</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;The reason it is warmer in summer in Boulder than in the winter is&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3659333_question_text\" class=\"question_text user_content enhanced\">
          <p>The reason it is warmer in summer in Boulder than in the winter is</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_5721\" style=\"\">


      <span class=\"hidden id\">5721</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-5721\" name=\"question-3659333\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-5721\">
        <div class=\"answer_text\">The earth is closer to the sun during northern hemipshere summer</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 608px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"The earth is closer to the sun during northern hemipshere summer\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">The earth is closer to the sun during northern hemipshere summer</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659333</span>
      <span class=\"id\">5721</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_4434\" style=\"\">


      <span class=\"hidden id\">4434</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-4434\" name=\"question-3659333\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-4434\">
        <div class=\"answer_text\">There is less cloud cover in summer</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 332.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"There is less cloud cover in summer\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">There is less cloud cover in summer</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659333</span>
      <span class=\"id\">4434</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_2674\" style=\"\" title=\"The earth's axial tilt. You selected this answer.\">


      <span class=\"hidden id\">2674</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-2674\" name=\"question-3659333\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-2674\">
        <div class=\"answer_text\">The earth's axial tilt</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 209px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"The earth's axial tilt\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">The earth's axial tilt</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659333</span>
      <span class=\"id\">2674</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_4978\" style=\"\">


      <span class=\"hidden id\">4978</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-4978\" name=\"question-3659333\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-4978\">
        <div class=\"answer_text\">The is more evaporation</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 218.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"The is more evaporation\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">The is more evaporation</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659333</span>
      <span class=\"id\">4978</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3659334\"></a>
  <div class=\"display_question question true_false_question     \" id=\"question_3659334\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 4</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">true_false_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3659334\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868016</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;Interior continental regions tend to have a smaller annual temperature range than maritime regions&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3659334_question_text\" class=\"question_text user_content enhanced\">
          <p>Interior continental regions tend to have a smaller annual temperature range than maritime regions</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_1889\" style=\"\">


      <span class=\"hidden id\">1889</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1889\" name=\"question-3659334\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1889\">
        <div class=\"answer_text\">True</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 38px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"True\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">True</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659334</span>
      <span class=\"id\">1889</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_1931\" style=\"\" title=\"False. You selected this answer.\">


      <span class=\"hidden id\">1931</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1931\" name=\"question-3659334\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1931\">
        <div class=\"answer_text\">False</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 47.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"False\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">False</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659334</span>
      <span class=\"id\">1931</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3659337\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3659337\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 5</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3659337\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868021</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p class=\"NormalText\"&gt;&lt;span style=\"font-size: 12.0pt; font-family: 'Times New Roman',serif;\"&gt;The conversion from degrees Celsius (C) to Fahrenheit (F) is&amp;nbsp; 9/5xC + 32. If the temperature is 10 C then the temperature in Fahrenheit is&lt;br&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=\"NormalText\"&gt;&amp;nbsp;&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3659337_question_text\" class=\"question_text user_content enhanced\">
          <p class=\"NormalText\"><span style=\"font-size: 12.0pt; font-family: 'Times New Roman',serif;\">The conversion from degrees Celsius (C) to Fahrenheit (F) is&nbsp; 9/5xC + 32. If the temperature is 10 C then the temperature in Fahrenheit is<br></span></p>
<p class=\"NormalText\">&nbsp;</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_9867\" style=\"\">


      <span class=\"hidden id\">9867</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-9867\" name=\"question-3659337\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-9867\">
        <div class=\"answer_text\">0 F</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 28.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"0 F\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">0 F</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659337</span>
      <span class=\"id\">9867</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_2579\" style=\"\" title=\"50 F. You selected this answer.\">


      <span class=\"hidden id\">2579</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-2579\" name=\"question-3659337\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-2579\">
        <div class=\"answer_text\">50 F</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 38px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"50 F\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">50 F</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659337</span>
      <span class=\"id\">2579</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_762\" style=\"\">


      <span class=\"hidden id\">762</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-762\" name=\"question-3659337\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-762\">
        <div class=\"answer_text\">5 F</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 28.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"5 F\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">5 F</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659337</span>
      <span class=\"id\">762</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_3305\" style=\"\">


      <span class=\"hidden id\">3305</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-3305\" name=\"question-3659337\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-3305\">
        <div class=\"answer_text\">75.6 F</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 57px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"75.6 F\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">75.6 F</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3659337</span>
      <span class=\"id\">3305</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3695192\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3695192\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 6</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3695192\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868022</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;Can one measure the&amp;nbsp; temperature of a perfect vacuum?&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3695192_question_text\" class=\"question_text user_content enhanced\">
          <p>Can one measure the&nbsp; temperature of a perfect vacuum?</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_5895\" style=\"\">


      <span class=\"hidden id\">5895</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-5895\" name=\"question-3695192\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-5895\">
        <div class=\"answer_text\">Yes</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 28.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Yes\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Yes</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695192</span>
      <span class=\"id\">5895</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_3523\" style=\"\" title=\"No. You selected this answer.\">


      <span class=\"hidden id\">3523</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-3523\" name=\"question-3695192\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-3523\">
        <div class=\"answer_text\">No</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 19px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"No\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">No</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695192</span>
      <span class=\"id\">3523</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3695193\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3695193\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 7</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3695193\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868023</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;Nighttime temperatures in Boulder then to be&amp;nbsp; warmer in which situation?&amp;nbsp;&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3695193_question_text\" class=\"question_text user_content enhanced\">
          <p>Nighttime temperatures in Boulder then to be&nbsp; warmer in which situation?&nbsp;</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_3453\" style=\"\">


      <span class=\"hidden id\">3453</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-3453\" name=\"question-3695193\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-3453\">
        <div class=\"answer_text\">When it is clear</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 152px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"When it is clear\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">When it is clear</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695193</span>
      <span class=\"id\">3453</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_4986\" style=\"\" title=\"When it is cloudy. You selected this answer.\">


      <span class=\"hidden id\">4986</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-4986\" name=\"question-3695193\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-4986\">
        <div class=\"answer_text\">When it is cloudy</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 161.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"When it is cloudy\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">When it is cloudy</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695193</span>
      <span class=\"id\">4986</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3695194\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3695194\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 8</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3695194\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868024</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;The heat index is a function of&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3695194_question_text\" class=\"question_text user_content enhanced\">
          <p>The heat index is a function of</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_1302\" style=\"\">


      <span class=\"hidden id\">1302</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1302\" name=\"question-3695194\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1302\">
        <div class=\"answer_text\">Temperature</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 104.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Temperature\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Temperature</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695194</span>
      <span class=\"id\">1302</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_1645\" style=\"\">


      <span class=\"hidden id\">1645</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1645\" name=\"question-3695194\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1645\">
        <div class=\"answer_text\">Temperature and wind speed</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 247px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Temperature and wind speed\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Temperature and wind speed</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695194</span>
      <span class=\"id\">1645</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_5054\" style=\"\" title=\"Temperature and relative humidity. You selected this answer.\">


      <span class=\"hidden id\">5054</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-5054\" name=\"question-3695194\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-5054\">
        <div class=\"answer_text\">Temperature and relative humidity</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 313.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Temperature and relative humidity\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Temperature and relative humidity</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695194</span>
      <span class=\"id\">5054</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_6268\" style=\"\">


      <span class=\"hidden id\">6268</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-6268\" name=\"question-3695194\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-6268\">
        <div class=\"answer_text\">Humidity and cloud cover</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 228px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Humidity and cloud cover\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Humidity and cloud cover</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695194</span>
      <span class=\"id\">6268</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3695195\"></a>
  <div class=\"display_question question multiple_choice_question     \" id=\"question_3695195\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 9</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">multiple_choice_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3695195\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868025</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;Which has the highest specific heat per unit mass?&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3695195_question_text\" class=\"question_text user_content enhanced\">
          <p>Which has the highest specific heat per unit mass?</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_1841\" style=\"\">


      <span class=\"hidden id\">1841</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-1841\" name=\"question-3695195\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-1841\">
        <div class=\"answer_text\">Land</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 38px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Land\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Land</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695195</span>
      <span class=\"id\">1841</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_8949\" style=\"\" title=\"Water. You selected this answer.\">


      <span class=\"hidden id\">8949</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-8949\" name=\"question-3695195\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-8949\">
        <div class=\"answer_text\">Water</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 47.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Water\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Water</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695195</span>
      <span class=\"id\">8949</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_2971\" style=\"\">


      <span class=\"hidden id\">2971</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-2971\" name=\"question-3695195\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-2971\">
        <div class=\"answer_text\">Air</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 28.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"Air\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">Air</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695195</span>
      <span class=\"id\">2971</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

<div role=\"region\" aria-label=\"Question\" class=\"quiz_sortable question_holder \" id=\"\" style=\"\" data-group-id=\"\">
  <div style=\"display: block; height: 1px; overflow: hidden;\">&nbsp;</div>
  <a name=\"question_3695196\"></a>
  <div class=\"display_question question true_false_question     \" id=\"question_3695196\">
    
<div class=\"move\">
  <a tabindex=\"0\" class=\"draggable-handle\" role=\"button\">
    <i class=\"icon-drag-handle\">
      <span class=\"screenreader-only\">Move To...</span>
      <span class=\"accessibility-warning screenreader-only\">
        This element is a more accessible alternative to drag &amp; drop reordering. Press Enter or Space to move this question.
      </span>
    </i>
  </a>
</div>


    <div class=\"header\">
      <span class=\"name question_name\" role=\"heading\" aria-level=\"2\">Question 10</span>
      <span class=\"question_points_holder\" style=\"\">
        <div class=\"user_points\">
                1
          <span class=\"points question_points\"> / 1</span> pts
        </div>
    </span>
    </div>
      <div class=\"links\" style=\"display: none;\">
        <a href=\"#\" class=\"edit_question_link no-hover\" title=\"Edit this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-edit standalone-icon\"><span class=\"screenreader-only\">Edit this Question</span></i></a>
          <a href=\"#\" class=\"delete_question_link no-hover\" title=\"Delete this Question\" data-jzz-gui-player=\"true\"><i class=\"icon-end standalone-icon\"><span class=\"screenreader-only\">Delete this Question</span></i></a>
      </div>
    <div style=\"display: none;\">
      <span class=\"regrade_option\"></span>
      <span class=\"regrade_disabled\">0</span>
      <span class=\"question_type\">true_false_question</span>
      <span class=\"answer_selection_type\"></span>
        <a href=\"/courses/79323/quizzes/224722/questions/3695196\" class=\"update_question_url\" data-jzz-gui-player=\"true\">&nbsp;</a>
      <span class=\"assessment_question_id\">4868026</span>
    </div>
    <div class=\"text\">
      <div class=\"original_question_text\" style=\"display: none;\">
        <textarea disabled=\"\" style=\"display: none;\" name=\"text_after_answers\" class=\"textarea_text_after_answers\"></textarea>
        <textarea disabled=\"\" style=\"display: none;\" name=\"question_text\" class=\"textarea_question_text\">&lt;p&gt;The decrease in air density with elevation is one of the key reason why the air temperature at the top of an isolated mountain tends to be lower than at at a low elevation site at the same latitude. &amp;nbsp;&lt;/p&gt;</textarea>
      </div>
      <div id=\"question_3695196_question_text\" class=\"question_text user_content enhanced\">
          <p>The decrease in air density with elevation is one of the key reason why the air temperature at the top of an isolated mountain tends to be lower than at at a low elevation site at the same latitude. &nbsp;</p>
      </div>
      <div class=\"answers\">
                <div class=\"answers_wrapper\">
                  
    <div class=\"answer answer_for_
         
         
         
         
         selected_answer unspecified_answer\" id=\"answer_7526\" style=\"\" title=\"True. You selected this answer.\">


      <span class=\"hidden id\">7526</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-7526\" name=\"question-3695196\" type=\"radio\" checked=\"\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-7526\">
        <div class=\"answer_text\">True</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 38px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"True\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">True</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695196</span>
      <span class=\"id\">7526</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>
      <div class=\"quiz_comment empty\">
        <div class=\"answer_comment\"></div>
        <div class=\"answer_comment_html\"></div>
      </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

    <div class=\"answer answer_for_
         
         
         
         
          unspecified_answer\" id=\"answer_3130\" style=\"\">


      <span class=\"hidden id\">3130</span>

    <div class=\"select_answer answer_type\">
        <input id=\"answer-3130\" name=\"question-3695196\" type=\"radio\" class=\"question_input\" aria-disabled=\"true\" disabled=\"\">&nbsp;
      <label for=\"answer-3130\">
        <div class=\"answer_text\">False</div>
        <div class=\"answer_html\"></div>
      </label>
    </div>
    <div class=\"answer_type short_answer\" style=\"display:none;\">
      <input name=\"answer_text\" type=\"text\" style=\"width: 47.5px; margin-bottom: 5px; color: rgb(0, 0, 0);\" disabled=\"true\" value=\"False\">
    </div>
    <div class=\"answer_match matching_answer answer_type\" style=\"display:none;\">
      <div class=\"answer_match_left\">False</div>
      <div class=\"answer_match_left_html\" style=\"display:none;\"></div>
      <div class=\"answer_match_middle\">&nbsp;</div>
      <div class=\"answer_match_right\">
              
      </div>
      <div class=\"clear\"></div>
    </div>
    <div style=\"display: none;\">
      <span class=\"numerical_answer_type\">exact_answer</span>
      <span class=\"blank_id\">none</span>
      <span class=\"question_id\">3695196</span>
      <span class=\"id\">3130</span>
      <span class=\"match_id\"></span>
    </div>
    <div class=\"numerical_range_answer answer_type\" style=\"display:none;\">
      <span class=\"answer_equation\"></span>
      <span class=\"margin\" style=\"display: none;\">
        margin of error
        <span style=\"font-size: 0.8em;\">
          +/-
        </span>
        <span class=\"answer_tolerance\"></span>
      </span>
    </div>

    <div class=\"clear\"></div>
  </div>

    <div class=\"clear\"></div>

                </div>
      </div>
      <div class=\"after_answers\">
      </div>
    </div>
      
    <div class=\"clear\"></div>
  </div>
</div>

</div>
  <div id=\"update_scores\">


<div class=\"quiz_score\" style=\"text-align: right; font-size: 1.2em; \">
    Quiz Score:
  <span class=\"score_value\">10</span> out of 10
</div>
</div> <!-- #speed_update_scores || #update_scores -->
</div>




  <div id=\"assignment_external_tools\"><div></div></div>

  <div id=\"module_sequence_footer\"><div class=\"module-sequence-padding\"></div>
<div class=\"module-sequence-footer\" role=\"navigation\" aria-label=\"Module Navigation\">
  <div class=\"module-sequence-footer-content\">
    
      <span class=\"module-sequence-footer-button--previous\" data-tooltip=\"right\" data-html-tooltip-title=\"<i class='icon-quiz'></i> Lab 4 2022 - Insolation and Temperature at the Surface\">
          <a href=\"https://canvas.colorado.edu/courses/79323/modules/items/3365453\" role=\"button\" class=\"Button\" aria-describedby=\"msf0-previous-desc\" aria-label=\"Previous Module Item\" data-jzz-gui-player=\"true\">
            <i class=\"icon-mini-arrow-left\"></i>Previous
            <span id=\"msf0-previous-desc\" class=\"hidden\" hidden=\"\">Previous: Lab 4 2022 - Insolation and Temperature at the Surface</span>
          </a>
      </span>
    

    
      <span class=\"module-sequence-footer-button--next\" data-tooltip=\"left\" data-html-tooltip-title=\"<i class='icon-quiz'></i> Midterm 1 2022\">
        <a href=\"https://canvas.colorado.edu/courses/79323/modules/items/3381846\" role=\"button\" class=\"Button\" aria-describedby=\"msf0-next-desc\" aria-label=\"Next Module Item\" data-jzz-gui-player=\"true\">
          Next<i class=\"icon-mini-arrow-right\"></i>
          <span id=\"msf0-next-desc\" class=\"hidden\" hidden=\"\">Next: Midterm 1 2022</span>
        </a>
      </span>
    
  </div>
</div>
</div>

</div>

          </div>
        </div>
        <div id=\"right-side-wrapper\" class=\"ic-app-main-content__secondary\">
          <aside id=\"right-side\" role=\"complementary\">
                <div id=\"sidebar_content\" class=\"rs-margin-bottom\">
      <ul class=\"page-action-list\" style=\"display:none;\">
        <h2>Related Items</h2>



      </ul>
    </div>

        
  <div>
    <div style=\"border-bottom: 1px solid #888; font-size: 1.1em; font-weight: bold;\">
        Submission Details:
    </div>
    <div>
    <table class=\"summary\" style=\"font-size: 1.1em;\">
      <tbody>
        <tr>
          <th>Time:</th>
          <td>5 minutes</td>
        </tr>
        <tr style=\"\">
          <th>Current Score:</th>
          <td>10 out of 10
                  </td>
        </tr>
        <tr style=\"\">
          <th>Kept Score:</th>
          <td>10 out of 10</td>
        </tr>
      </tbody>
    </table>
    </div>
  </div>


          </aside>
        </div>
      </div>
    </div>
  </div>



    <div style=\"display:none;\"><!-- Everything inside of this should always stay hidden -->
        <div id=\"page_view_id\">85b274d3-f3b6-4793-a024-0ed22b0aef11</div>
    </div>
  <div id=\"aria_alerts\" class=\"hide-text affix\" role=\"alert\" aria-live=\"assertive\"></div>
  <div id=\"StudentTray__Container\"></div>
    <div class=\"NewUserTutorialTray__Container\"></div>
  

  <script>
    Object.assign(
      ENV,
      {}
    )
  </script>

<link rel=\"preload\" href=\"https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/inst_fs_service_worker-c-6c8f40fd1f.js\" as=\"script\" type=\"text/javascript\"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('inst_fs_service_worker');
//]]>
</script>
  <script>
//<![CDATA[

      ;[\"https://instructure-uploads.s3.amazonaws.com/account_107720000000000001/attachments/32793847/Potential%20New%20Canvas%20Theme%20Javascript.js\"].forEach(function(src) {
        var s = document.createElement('script')
        s.src = src
        s.async = false
        document.head.appendChild(s)
      });
//]]>
</script>

</div> <!-- #application -->


<div id=\"nav-tray-portal\" style=\"position: relative; z-index: 99;\"></div><div class=\"tinymce-a11y-checker-container\"></div></body><script>

/// begin: [code injected by MIDI Player browser extension]
(function() {

  var _data_ = /^data:/i;

  var _data = /^data:audio\\/midi/i;

  var _midi_kar_rmi = /\\.(midi?|kar|rmi)$/i;

  var _mp3_wav_ogg = /\\.(mp3|wav|ogg)$/i;

  var __midi1 = 'audio/midi';

  var __midi2 = 'audio/mid';

  var __midi3 = 'audio/x-midi';

  var __midi4 = 'audio/x-mid';

  var __midi5 = 'midi/mid';

  var __midi6 = 'application/x-midi';

  var __mpeg = 'audio/mpeg';

  var __ogg = 'audio/ogg';

  var __wav = 'audio/wav';



  function isTrue(str) {

    if (str == '') return true;

    str = str.toLowerCase();

    if (str == 'f' || str == 'false' || str == 0) return false;

    return !!str;

  }

  function getBool(x, a) {

    if (x && x.attributes && x.attributes[a]) return isTrue(x.attributes[a].nodeValue);

    return false;

  }

  function getAttr(x, a) {

    if (x && x.attributes && x.attributes[a]) return x.attributes[a].nodeValue;

    return '';

  }

  function getInt(x, a) {

    var n = getAttr(x, a);

    return n == parseInt(n) ? n : 0;

  }

  function isMidi(s, t) {

    return s.match(_data) || s.match(_midi_kar_rmi) ||

      t ==__midi1 || t ==__midi2 || t ==__midi3 || t ==__midi4 || t ==__midi5 || t ==__midi6;

  }

  function isAudio(s, t) { return s.match(_mp3_wav_ogg) || t == __mpeg || t == __wav || t == __ogg; }



  function search() {

    var a, x, i, j, s, t, h, w;

    var added = false;

    var all = [];

    var src;

    a = document.getElementsByTagName('BGSOUND');

    for (i = 0; i < a.length; i++) {

      x = a[i];

      s = getAttr(x, 'src');

      w = getAttr(x, 'loop');

      if (w.toLowerCase() == 'infinity' || w.toLowerCase() == 'infinite') w = -1;

      else if (w != parseInt(w) || w < 2) w = 0;

      if (isMidi(s)) {

        all.push({

          dom: x,

          type: 'bgsound',

          src: s,

          loop: w,

          auto: true,

          ctrl: false,

          h: 0,

          w: 0

        });

      }

    }

    a = document.getElementsByTagName('AUDIO');

    for (i = 0; i < a.length; i++) {

      x = a[i];

      src = [];

      if (x.attributes && x.attributes.src) src.push([getAttr(x, 'src')]);

      if (x.children) {

        for (j = 0; j < x.children.length; j++) {

          if (x.children[j].nodeName == 'SOURCE' && x.children[j].attributes) {

            src.push([getAttr(x.children[j], 'src'), getAttr(x.children[j], 'type')]);

          }

        }

      }

      s = undefined;

      for (j = 0; j < src.length; j++) {

        if (isMidi(src[j][0], src[j][1])) {

          s = src[j][0]; break;

        }

        if (isAudio(src[j][0], src[j][1])) {

          break;

        }

      }

      if (s) {

        all.push({

          dom: x,

          type: 'audio',

          src: s,

          loop: getBool(x, 'loop') ? -1 : 0,

          auto: getBool(x, 'autoplay'),

          ctrl: getBool(x, 'controls'),

          h: x.clientHeight,

          w: x.clientWidth

        });

      }

    }

    a = document.getElementsByTagName('EMBED');

    for (i = 0; i < a.length; i++) {

      x = a[i];

      s = getAttr(x, 'src');

      t = s ? getAttr(x.children[j], 'type') : undefined;

      if (isMidi(s, t)) {

        h = getInt(x, 'height');

        w = getInt(x, 'width');

        all.push({

          dom: x,

          type: 'embed',

          src: s,

          loop: 0,

          auto: getBool(x, 'autostart') || getBool(x, 'autoplay'),

          h: h,

          w: w,

          ctrl: true

        });

      }

    }

    a = document.getElementsByTagName('OBJECT');

    for (i = 0; i < a.length; i++) {

      x = a[i];

      s = getAttr(x, 'data');

      t = s ? getAttr(x.children[j], 'type') : undefined;

      if (isMidi(s, t)) {

        h = getInt(x, 'height');

        w = getInt(x, 'width');

        all.push({

          dom: x,

          type: 'object',

          src: s,

          loop: 0,

          auto: false,

          h: h,

          w: w,

          ctrl: true

        });

        if (x.children) {

          for (j = 0; j < x.children.length; j++) {

            if (x.children[j].nodeName == 'PARAM' && x.children[j].attributes) {

              if (getAttr(x.children[j], 'name') == 'loop') all[all.length - 1].loop = getAttr(x.children[j], 'value') || 0;

              if (getAttr(x.children[j], 'name') == 'autoplay') all[all.length - 1].auto = getBool(x.children[j], 'value');

              if (getAttr(x.children[j], 'name') == 'autostart') all[all.length - 1].auto = getBool(x.children[j], 'value');

            }

          }

        }

      }

    }

    a = document.links;

    var midisite = window.location.hostname.match(/midi/i);

    for (i = 0; i < a.length; i++) {

      if (a[i].dataset && a[i].dataset.jzzGuiPlayer) continue;

      if (!a[i].dataset) a[i].dataset = {};

      a[i].dataset.jzzGuiPlayer = true;

      if (midisite || a[i].href.match(_data) || a[i].href.match(_midi_kar_rmi)) {

        added = true;

        link(a[i]);

      }

    }

    if (all.length || added) init();

    for (i = 0; i < all.length; i++) create(all[i]);

  }

  function testMime(url, good, bad, ugly) {

    if (url.match(_data_)) {

      if (url.match(_data)) {

        good();

      }

      else {

        bad();

      }

    }

    else {

      var xhttp = new XMLHttpRequest();

      var received = false;

      xhttp.onreadystatechange = function() {

        if (this.readyState == this.HEADERS_RECEIVED || (this.readyState == this.DONE && !received)) {

          received = true;

          if (this.status == 200) {

            var type = this.getResponseHeader(\"Content-Type\");

            var disposition = this.getResponseHeader(\"Content-Disposition\");

            if (disposition && disposition[disposition.length - 1] == '\"') disposition = disposition.substring(0, disposition.length - 1);

            if (type && (

              type.match(__midi1) || type.match(__midi2) || type.match(__midi3) ||

              type.match(__midi4) || type.match(__midi5) || type.match(__midi6))) {

              good();

            }

            else if (disposition && disposition.match(_midi_kar_rmi)) {

              good();

            }

            else if (url.match(/^file:/i)) {

              good();

            }

            else {

              bad();

            }

          }

          else ugly();

          xhttp.abort();

        }

      };

      xhttp.open('HEAD', url, true);

      xhttp.send();

    }

  }

  function decode(s) {

    var n = s.indexOf(',') + 1;

    if (s.substring(0, n).match(/;base64/i)) return JZZ.lib.fromBase64(s.substring(n));

    var i, x, a = '';

    for (i = n; i < s.length; i++) {

      if (s[i] == '%') {

        x = parseInt(s.substr(i + 1, 2), 16);

        if (x >= 0 && x <= 255) {

          a += String.fromCharCode(x);

          i += 2;

        }

        else a += '%';

      }

      else a += s[i];

    }

    return a;

  }

  function load(player, url, play, loop) {

    var isData = url.match(_data_);

    var div = player.gui;

    var title = isData ? 'data:audio/midi' : url;

    player.setUrl(url, isData ? 'midi-player.mid' : undefined);

    player.label('<a href=\"https://jazz-soft.net/download/midi-player\" title=\"info…\" target=\"_blank\" style=\"color:#aaa;\">jazz-soft</a>');

    if (isData) {

      try {

        player.load(new JZZ.MIDI.SMF(decode(url)));

        div.title = title;

        if (loop) player.loop(loop);

        if (play) player.play();

      }

      catch (e) {

        div.title = 'Cannot load ' + title;

      }

    }

    else {

      div.title = 'Loading ' + title;

      var xhttp = new XMLHttpRequest();

      xhttp.onreadystatechange = function() {

        if (this.readyState == this.DONE) {

          if (this.status == 200) {

            var r, i;

            var data = '';

            r = xhttp.response;

            if (r instanceof ArrayBuffer) {

              r = new Uint8Array(r);

              for (i = 0; i < r.length; i++) data += String.fromCharCode(r[i]);

            }

            else {

              r = xhttp.responseText;

              for (i = 0; i < r.length; i++) data += String.fromCharCode(r.charCodeAt(i) & 0xff);

            }

            try {

              player.load(new JZZ.MIDI.SMF(data));

              div.title = title;

              if (loop) player.loop(loop);

              if (play) player.play();

            }

            catch (e) {

              div.title = 'Cannot load ' + title;

            }

          }

          else {

            div.title = 'Cannot load ' + title;

          }

        }

      };

      try {

        xhttp.responseType = 'arraybuffer';

      }

      catch (e) {}

      xhttp.overrideMimeType('text/plain; charset=x-user-defined');

      xhttp.open('GET', url, true);

      xhttp.send();

    }

  }

  function link(a) {

    var busy = false;

    var player;

    var cancel = function() {

      a.removeEventListener('click', listener);

      a.click();

    };

    var proceed = function() {

      var r = a.getBoundingClientRect();

      var x = Math.round(r.left) - 32;

      if (x < 0) x = 0;

      if (x > document.documentElement.clientWidth - 270) x = document.documentElement.clientWidth - 270;

      var y = Math.round(r.top) - 32;

      if (y > document.documentElement.clientHeight - 40) y = document.documentElement.clientHeight - 40;

      if (y < 0) y = 0;

      player = new JZZ.gui.Player({ link: true, close: true, x: x, y: y });

      player.onClose = function() { busy = false; };

      load(player, a.href, true);

    }

    var listener = function(e) {

      e.preventDefault();

      if (busy) {

        if (player) player.play();

        return;

      }

      busy = true;

      testMime(a.href, proceed, cancel, cancel);

    };

    a.addEventListener('click', listener);

  }

  function create(x) {

    var player;

    var parent = x.dom.parentNode;

    var div;

    if (x.ctrl) {

      div = document.createElement('div');

      div.style.display = 'inline-block';

      div.style.margin = '0px';

      div.style.padding = '0px';

      div.style.borderStyle = 'none';

      div.style.cursor = 'default';

      parent.insertBefore(div, x.dom);

      player = new JZZ.gui.Player({ at: div, link: true });

    }

    else {

      player = new JZZ.gui.Player({ link: true, close: true });

    }

    parent.removeChild(x.dom);

    load(player, x.src, x.auto, x.loop);

  }

  var init = function() {

    if (!window.JZZ) window.JZZ = _JZZ();

    if (!JZZ.synth || !JZZ.synth.Tiny) _Tiny();

    JZZ.synth.Tiny.register('Web Audio');

    JZZ().openMidiOut();

    if (!JZZ.MIDI.SMF) _SMF();

    if (!JZZ.gui || !JZZ.gui.Player) _Player();

    init = function() {};

  };

  search();

  setInterval(search, 500);

;function _JZZ() {



  var _scope = typeof window === 'undefined' ? global : window;

  var _version = '1.4.0';

  var i, j, k, m, n;



  /* istanbul ignore next */

  var _time = Date.now || function () { return new Date().getTime(); };

  var _startTime = _time();

  /* istanbul ignore next */

  var _now = typeof performance != 'undefined' && performance.now ?

    function() { return performance.now(); } : function() { return _time() - _startTime; };

  var _schedule = function(f) {

    setTimeout(f, 0);

  };

  function _nop() {}

  function _func(f) { return typeof f == 'function'; }



  // _R: common root for all async objects

  function _R() {

    this._orig = this;

    this._ready = false;

    this._queue = [];

    this._log = [];

  }

  _R.prototype._exec = function() {

    while (this._ready && this._queue.length) {

      var x = this._queue.shift();

      x[0].apply(this, x[1]);

    }

  };

  _R.prototype._push = function(func, arg) { this._queue.push([func, arg]); _R.prototype._exec.apply(this); };

  _R.prototype._slip = function(func, arg) { this._queue.unshift([func, arg]); };

  _R.prototype._pause = function() { this._ready = false; };

  _R.prototype._resume = function() { this._ready = true; _R.prototype._exec.apply(this); };

  _R.prototype._break = function(err) { this._orig._bad = true; this._orig._log.push(err || 'Unknown JZZ error'); };

  _R.prototype._repair = function() { this._orig._bad = false; };

  _R.prototype._crash = function(err) { this._break(err); this._resume(); };

  _R.prototype._err = function() { return this._log[this._log.length - 1]; };

  _R.prototype.log = function() { return _clone(this._log); };

  _R.prototype._dup = function() {

    var F = function() {};

    F.prototype = this._orig;

    var ret = new F();

    ret._ready = false;

    ret._queue = [];

    return ret;

  };

  _R.prototype._image = function() { return this._dup(); };

  _R.prototype._thenable = function() {

    if (this.then) return this;

    var self = this;

    var F = function() {}; F.prototype = self;

    var ret = new F();

    ret.then = function(good, bad) { self._push(_then, [good, bad]); return this; };      

    return ret;

  };

  function _then(good, bad) {

    if (this._bad) {

      if (_func(bad)) bad.apply(this, [new Error(this._err())]);

    }

    else {

      if (_func(good)) good.apply(this, [this]);

    }

  }

  function _wait(obj, delay) {

    if (this._bad) obj._crash(this._err());

    else setTimeout(function() { obj._resume(); }, delay);

  }

  _R.prototype.wait = function(delay) {

    if (!delay) return this;

    var ret = this._image();

    this._push(_wait, [ret, delay]);

    return ret._thenable();

  };

  function _kick(obj) { if (this._bad) obj._break(this._err()); obj._resume(); }

  function _rechain(self, obj, name) {

    self[name] = function() {

      var arg = arguments;

      var ret = obj._image();

      this._push(_kick, [ret]);

      return ret[name].apply(ret, arg);

    };

  }

  function _and(q) {

    if (!this._bad) {

      if (_func(q)) q.apply(this); else console.log(q);

    }

  }

  _R.prototype.and = function(func) { this._push(_and, [func]); return this._thenable(); };

  function _or(q) {

    if (this._bad) {

      if (_func(q)) q.apply(this); else console.log(q);

    }

  }

  _R.prototype.or = function(func) { this._push(_or, [func]); return this._thenable(); };



  _R.prototype._info = {};

  _R.prototype.info = function() {

    var info = _clone(this._orig._info);

    if (typeof info.engine == 'undefined') info.engine = 'none';

    if (typeof info.sysex == 'undefined') info.sysex = true;

    return info;

  };

  _R.prototype.name = function() { return this.info().name; };



  function _close(obj) {

    if (this._bad) obj._crash(this._err());

    else {

      this._break('Closed');

      obj._resume();

    }

  }

  _R.prototype.close = function() {

    var ret = new _R();

    if (this._close) this._push(this._close, []);

    this._push(_close, [ret]);

    return ret._thenable();

  };



  function _tryAny(arr) {

    if (!arr.length) {

      this._break();

      return;

    }

    var func = arr.shift();

    if (arr.length) {

      var self = this;

      this._slip(_or, [ function() { _tryAny.apply(self, [arr]); } ]);

    }

    try {

      this._repair();

      func.apply(this);

    }

    catch (err) {

      this._break(err.toString());

    }

  }



  function _push(arr, obj) {

    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) return;

    arr.push(obj);

  }

  function _pop(arr, obj) {

    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) {

      arr.splice(i, 1);

      return;

    }

  }



  // _J: JZZ object

  function _J() {

    _R.apply(this);

  }

  _J.prototype = new _R();



  function _for(x, f) {

    for(var k in x) if (x.hasOwnProperty(k)) f.call(this, k);

  }

  function _clone(obj, key, val) {

    if (typeof key == 'undefined') return _clone(obj, [], []);

    if (obj instanceof Object) {

      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];

      var ret;

      if (obj instanceof Array) ret = []; else ret = {};

      key.push(obj); val.push(ret);

      _for(obj, function(k) { ret[k] = _clone(obj[k], key, val); });

      return ret;

    }

    return obj;

  }

  _J.prototype._info = { name: 'JZZ.js', ver: _version, version: _version, inputs: [], outputs: [] };



  var _outs = [];

  var _ins = [];

  var _outsW = [];

  var _insW = [];



  function _postRefresh() {

    _jzz._info.engine = _engine._type;

    _jzz._info.version = _engine._version;

    _jzz._info.sysex = _engine._sysex;

    _jzz._info.inputs = [];

    _jzz._info.outputs = [];

    _outs = [];

    _ins = [];

    _engine._allOuts = {};

    _engine._allIns = {};

    var i, x;

    for (i = 0; i < _engine._outs.length; i++) {

      x = _engine._outs[i];

      x.engine = _engine;

      _engine._allOuts[x.name] = x;

      _jzz._info.outputs.push({

        id: x.name,

        name: x.name,

        manufacturer: x.manufacturer,

        version: x.version,

        engine: _engine._type

      });

      _outs.push(x);

    }

    for (i = 0; i < _virtual._outs.length; i++) {

      x = _virtual._outs[i];

      _jzz._info.outputs.push({

        id: x.name,

        name: x.name,

        manufacturer: x.manufacturer,

        version: x.version,

        engine: x.type

      });

      _outs.push(x);

    }

    for (i = 0; i < _engine._ins.length; i++) {

      x = _engine._ins[i];

      x.engine = _engine;

      _engine._allIns[x.name] = x;

      _jzz._info.inputs.push({

        id: x.name,

        name: x.name,

        manufacturer: x.manufacturer,

        version: x.version,

        engine: _engine._type

      });

      _ins.push(x);

    }

    for (i = 0; i < _virtual._ins.length; i++) {

      x = _virtual._ins[i];

      _jzz._info.inputs.push({

        id: x.name,

        name: x.name,

        manufacturer: x.manufacturer,

        version: x.version,

        engine: x.type

      });

      _ins.push(x);

    }

    if (_jzz._watcher && _jzz._watcher._handles.length) {

      var diff = _diff(_insW, _outsW, _jzz._info.inputs, _jzz._info.outputs);

       if (diff) {

        for (j = 0; j < diff.inputs.removed.length; j++) {

          x = _engine._inMap[diff.inputs.removed[j].name];

          if (x) x._closeAll();

        }

        for (j = 0; j < diff.outputs.removed.length; j++) {

          x = _engine._outMap[diff.outputs.removed[j].name];

          if (x) x._closeAll();

        }

        _fireW(diff);

      }

    }

    _insW = _jzz._info.inputs;

    _outsW = _jzz._info.outputs;

  }

  function _refresh() {

    if (!this._bad) _engine._refresh(this);

  }

  _J.prototype.refresh = function() {

    this._push(_refresh, []);

    return this._thenable();

  };



  function _filterList(q, arr) {

    var i, n;

    if (_func(q)) q = q(arr);

    if (!(q instanceof Array)) q = [q];

    var before = [];

    var after = [];

    var etc = arr.slice();

    var a = before;

    for (i = 0; i < q.length; i++) {

      if (typeof q[i] == 'undefined') a = after;

      else if (q[i] instanceof RegExp) for (n = 0; n < etc.length; n++) {

        if (q[i].test(etc[n].name)) {

          a.push(etc[n]);

          etc.splice(n, 1);

          n--;

        }

      }

      else {

        for (n = 0; n < etc.length; n++) if (q[i] + '' === n + '' || q[i] === etc[n].name || (q[i] instanceof Object && q[i].name === etc[n].name)) {

          a.push(etc[n]);

          etc.splice(n, 1);

          n--;

        }

      }

    }

    return a == before ? before : before.concat(etc).concat(after);

  }



  function _notFound(port, q) {

    var msg;

    if (q instanceof RegExp) msg = 'Port matching ' + q + ' not found';

    else if (q instanceof Object || typeof q == 'undefined') msg = 'Port not found';

    else msg = 'Port \"' + q + '\" not found';

    port._crash(msg);

  }

  function _openMidiOut(port, arg) {

    if (this._bad) port._crash(this._err());

    else {

      var arr = _filterList(arg, _outs);

      if (!arr.length) { _notFound(port, arg); return; }

      var pack = function(x) { return function() { x.engine._openOut(this, x.name); }; };

      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);

      port._slip(_tryAny, [arr]);

      port._resume();

    }

  }

  _J.prototype.openMidiOut = function(arg) {

    var port = new _M();

    this._push(_refresh, []);

    this._push(_openMidiOut, [port, arg]);

    return port._thenable();

  };

  _J.prototype._openMidiOutNR = function(arg) {

    var port = new _M();

    this._push(_openMidiOut, [port, arg]);

    return port._thenable();

  };



  function _openMidiIn(port, arg) {

    if (this._bad) port._crash(this._err());

    else {

      var arr = _filterList(arg, _ins);

      if (!arr.length) { _notFound(port, arg); return; }

      var pack = function(x) { return function() { x.engine._openIn(this, x.name); }; };

      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);

      port._slip(_tryAny, [arr]);

      port._resume();

    }

  }

  _J.prototype.openMidiIn = function(arg) {

    var port = new _M();

    this._push(_refresh, []);

    this._push(_openMidiIn, [port, arg]);

    return port._thenable();

  };

  _J.prototype._openMidiInNR = function(arg) {

    var port = new _M();

    this._push(_openMidiIn, [port, arg]);

    return port._thenable();

  };



  function _onChange(watcher, arg) {

    if (this._bad) watcher._crash();

    else {

      watcher._slip(_connectW, [arg]);

      watcher._resume();

    }

  }

  _J.prototype.onChange = function(arg) {

    if (!this._orig._watcher) this._orig._watcher = new _W();

    var watcher = this._orig._watcher._image();

    this._push(_onChange, [watcher, arg]);

    return watcher._thenable();

  };



  _J.prototype._close = function() {

    _engine._close();

  };



  // _M: MIDI-In/Out object

  function _M() {

    _R.apply(this);

    this._handles = [];

    this._outs = [];

  }

  _M.prototype = new _R();

  _M.prototype._filter = function(msg) {

    if (this._orig._mpe) {

      var out;

      var outs = 0;

      if (this._handles && this._handles.length) {

        outs = this._handles.length;

        out = this._handles[0];

      }

      if (this._outs && this._outs.length) {

        outs = this._outs.length;

        out = this._outs[0];

      }

      if (outs == 1 && !out._mpe) {

        msg = this._orig._mpe.filter(msg);

      }

    }

    return msg;

  };

  _M.prototype._receive = function(msg) { this._emit(this._filter(msg)); };

  function _receive(msg) { if (!this._bad) this._receive(msg); }

  _M.prototype.send = function() {

    this._push(_receive, [MIDI.apply(null, arguments)]);

    return this._thenable();

  };

  _M.prototype.note = function(c, n, v, t) {

    this.noteOn(c, n, v);

    if (typeof this._ch == 'undefined' && typeof this._master == 'undefined') {

      if (t > 0) this.wait(t).noteOff(c, n);

    }

    else {

      if (v > 0) this.wait(v).noteOff(c);

    }

    return this._thenable();

  };

  _M.prototype._emit = function(msg) {

    var i;

    for (i = 0; i < this._handles.length; i++) this._handles[i].apply(this, [MIDI(msg)._stamp(this)]);

    for (i = 0; i < this._outs.length; i++) {

      var m = MIDI(msg);

      if (!m._stamped(this._outs[i])) this._outs[i].send(m._stamp(this));

    }

  };

  function _emit(msg) { this._emit(msg); }

  _M.prototype.emit = function(msg) {

    this._push(_emit, [msg]);

    return this._thenable();

  };

  function _connect(arg) {

    if (_func(arg)) _push(this._orig._handles, arg);

    else _push(this._orig._outs, arg);

  }

  function _disconnect(arg) {

    if (typeof arg == 'undefined') {

      this._orig._handles = [];

      this._orig._outs = [];

    }

    else if (_func(arg)) _pop(this._orig._handles, arg);

    else _pop(this._orig._outs, arg);

  }

  _M.prototype.connect = function(arg) {

    this._push(_connect, [arg]);

    return this._thenable();

  };

  _M.prototype.disconnect = function(arg) {

    this._push(_disconnect, [arg]);

    return this._thenable();

  };

  _M.prototype.connected = function() {

    return this._orig._handles.length + this._orig._outs.length;

  };

  _M.prototype._image = function() {

    var dup = this._dup();

    dup._ch = this._ch;

    dup._sxid = this._sxid;

    dup._master = this._master;

    dup._band = this._band;

    return dup;

  };

  _M.prototype._ch = undefined;

  _M.prototype._sxid = 0x7f;

  _M.prototype._master = undefined;

  _M.prototype._band = undefined;



  _M.prototype.sxId = function(id) {

    if (typeof id == 'undefined') id = _M.prototype._sxid;

    if (id == this._sxid) return this._thenable();

    id = _7b(id);

    var img = this._image();

    img._sxid = id;

    this._push(_kick, [img]);

    return img._thenable();

  };

  _M.prototype.ch = function(c) {

    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this._thenable();

    var img = this._image();

    if (typeof c != 'undefined') c = _ch(c);

    img._ch = c;

    img._master = undefined;

    img._band = undefined;

    this._push(_kick, [img]);

    return img._thenable();

  };



  function _mpe(m, n) {

    if (!this._orig._mpe) this._orig._mpe = new MPE();

    this._orig._mpe.setup(m, n);

  }

  _M.prototype.mpe = function(m, n) {

    if (m == this._master && n == this._band || typeof m == 'undefined' && typeof this._master == 'undefined') return this._thenable();

    if (typeof m != 'undefined') MPE.validate(m, n);

    if (!n) return this.ch(m);

    var img = this._image();

    img._ch = undefined;

    img._master = m;

    img._band = n;

    this._push(_mpe, [m, n]);

    this._push(_kick, [img]);

    return img._thenable();

  };

  function _validateChannel(c) {

    if (c != parseInt(c) || c < 0 || c > 15)

      throw RangeError('Bad channel value (must not be less than 0 or more than 15): ' + c);

  }



  // _W: Watcher object ~ MIDIAccess.onstatechange

  function _W() {

    _R.apply(this);

    this._handles = [];

    _rechain(this, _jzz, 'refresh');

    _rechain(this, _jzz, 'openMidiOut');

    _rechain(this, _jzz, 'openMidiIn');

    _rechain(this, _jzz, 'onChange');

    _rechain(this, _jzz, 'close');

  }

  _W.prototype = new _R();

  function _connectW(arg) {

    if (_func(arg)) {

      if (!this._orig._handles.length) _engine._watch();

      _push(this._orig._handles, arg);

    }

  }

  function _disconnectW(arg) {

    if (typeof arg == 'undefined') this._orig._handles = [];

    else _pop(this._orig._handles, arg);

    if (!this._orig._handles.length) _engine._unwatch();

  }

  _W.prototype.connect = function(arg) {

    this._push(_connectW, [arg]);

    return this._thenable();

  };

  _W.prototype.disconnect = function(arg) {

    this._push(_disconnectW, [arg]);

    return this._thenable();

  };

  function _changed(x0, y0, x1, y1) {

    var i;

    if (x0.length != x1.length || y0.length != y1.length) return true;

    for (i = 0; i < x0.length; i++) if (x0[i].name != x1[i].name) return true;

    for (i = 0; i < y0.length; i++) if (y0[i].name != y1[i].name) return true;

    return false;

  }

  function _diff(x0, y0, x1, y1) {

    if (!_changed(x0, y0, x1, y1)) return;

    var ax = []; // added

    var ay = [];

    var rx = []; // removed

    var ry = [];

    var i;

    var h = {};

    for (i = 0; i < x0.length; i++) h[x0[i].name] = true;

    for (i = 0; i < x1.length; i++) if (!h[x1[i].name]) ax.push(x1[i]);

    h = {};

    for (i = 0; i < x1.length; i++) h[x1[i].name] = true;

    for (i = 0; i < x0.length; i++) if (!h[x0[i].name]) rx.push(x0[i]);

    h = {};

    for (i = 0; i < y0.length; i++) h[y0[i].name] = true;

    for (i = 0; i < y1.length; i++) if (!h[y1[i].name]) ay.push(y1[i]);

    h = {};

    for (i = 0; i < y1.length; i++) h[y1[i].name] = true;

    for (i = 0; i < y0.length; i++) if (!h[y0[i].name]) ry.push(y0[i]);

    return { inputs: { added: ax, removed: rx }, outputs: { added: ay, removed: ry } };

  }

  function _fireW(arg) {

    for (i = 0; i < _jzz._watcher._handles.length; i++) _jzz._watcher._handles[i].apply(_jzz, [arg]);

  }



  var _jzz;

  var _engine = { _outs: [], _ins: [] };

  var _virtual = { _outs: [], _ins: [] };



  // Node.js

  function _tryNODE() {

    if (typeof module != 'undefined' && module.exports) {

      _initNode(require('jazz-midi'));

      return;

    }

    this._break();

  }

  // Jazz-Plugin

  function _tryJazzPlugin() {

    var div = document.createElement('div');

    div.style.visibility = 'hidden';

    document.body.appendChild(div);

    var obj = document.createElement('object');

    obj.style.visibility = 'hidden';

    obj.style.width = '0px'; obj.style.height = '0px';

    obj.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';

    obj.type = 'audio/x-jazz';

    document.body.appendChild(obj);

    /* istanbul ignore next */

    if (obj.isJazz) {

      _initJazzPlugin(obj);

      return;

    }

    this._break();

  }



  // Web MIDI API

  var _navigator;

  var _requestMIDIAccess;

  function _findMidiAccess() {

    if (typeof navigator !== 'undefined' && navigator.requestMIDIAccess) {

      _navigator = navigator;

      _requestMIDIAccess = navigator.requestMIDIAccess;

      try {

        if (_requestMIDIAccess.toString().indexOf('JZZ(') != -1) _requestMIDIAccess = undefined;

      }

      catch (err) {}

    }

  }

  function _tryWebMIDI() {

    _findMidiAccess();

    if (_requestMIDIAccess) {

      var self = this;

      var onGood = function(midi) {

        _initWebMIDI(midi);

        self._resume();

      };

      var onBad = function(msg) {

        self._crash(msg);

      };

      var opt = {};

      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);

      this._pause();

      return;

    }

    this._break();

  }

  function _tryWebMIDIsysex() {

    _findMidiAccess();

    if (_requestMIDIAccess) {

      var self = this;

      var onGood = function(midi) {

        _initWebMIDI(midi, true);

        self._resume();

      };

      var onBad = function(msg) {

        self._crash(msg);

      };

      var opt = { sysex:true };

      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);

      this._pause();

      return;

    }

    this._break();

  }



  // Web-extension

  function _tryCRX() {

    var self = this;

    var inst;

    var msg;

    function eventHandle() {

      inst = true;

      if (!msg) msg = document.getElementById('jazz-midi-msg');

      if (!msg) return;

      var a = [];

      try { a = JSON.parse(msg.innerText); } catch (err) {}

      msg.innerText = '';

      document.removeEventListener('jazz-midi-msg', eventHandle);

      if (a[0] === 'version') {

        _initCRX(msg, a[2]);

        self._resume();

      }

      else {

        self._crash();

      }

    }

    this._pause();

    document.addEventListener('jazz-midi-msg', eventHandle);

    try { document.dispatchEvent(new Event('jazz-midi')); } catch (err) {}

    _schedule(function() { if (!inst) self._crash(); });

  }



  /* istanbul ignore next */

  function _zeroBreak() {

    this._pause();

    var self = this;

    _schedule(function() { self._crash(); });

  }



  function _filterEngines(opt) {

    var ret = [];

    var arr = _filterEngineNames(opt);

    for (var i = 0; i < arr.length; i++) {

      if (arr[i] == 'webmidi') {

        if (opt && opt.sysex === true) ret.push(_tryWebMIDIsysex);

        if (!opt || opt.sysex !== true || opt.degrade === true) ret.push(_tryWebMIDI);

      }

      else if (arr[i] == 'node') { ret.push(_tryNODE); ret.push(_zeroBreak); }

      else if (arr[i] == 'extension') ret.push(_tryCRX);

      else if (arr[i] == 'plugin') ret.push(_tryJazzPlugin);

    }

    ret.push(_initNONE);

    return ret;

  }



  function _filterEngineNames(opt) {

    var web = ['node', 'extension', 'plugin', 'webmidi'];

    if (!opt || !opt.engine) return web;

    var arr = opt.engine instanceof Array ? opt.engine : [opt.engine];

    var dup = {};

    var none;

    var etc;

    var head = [];

    var tail = [];

    var i;

    for (i = 0; i < arr.length; i++) {

      var name = arr[i].toString().toLowerCase();

      if (dup[name]) continue;

      dup[name] = true;

      if (name === 'none') none = true;

      if (name === 'etc' || typeof name == 'undefined') etc = true;

      if (etc) tail.push(name); else head.push(name);

      _pop(web, name);

    }

    if (etc || head.length || tail.length) none = false;

    return none ? [] : head.concat(etc ? web : tail);

  }



  function _initJZZ(opt) {

    _jzz = new _J();

    _jzz._options = opt;

    _jzz._push(_tryAny, [_filterEngines(opt)]);

    _jzz.refresh();

    _jzz._resume();

  }



  function _initNONE() {

    _engine._type = 'none';

    _engine._version = _version;

    _engine._sysex = true;

    _engine._outs = [];

    _engine._ins = [];

    _engine._refresh = function() { _postRefresh(); };

    _engine._watch = _nop;

    _engine._unwatch = _nop;

    _engine._close = _nop;

  }

  // common initialization for Jazz-Plugin and jazz-midi

  function _initEngineJP() {

    _engine._inArr = [];

    _engine._outArr = [];

    _engine._inMap = {};

    _engine._outMap = {};

    _engine._outsW = [];

    _engine._insW = [];

    _engine._version = _engine._main.version;

    _engine._sysex = true;

    var watcher;

    function _closeAll() {

      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);

    }

    _engine._refresh = function() {

      _engine._outs = [];

      _engine._ins = [];

      var i, x;

      for (i = 0; (x = _engine._main.MidiOutInfo(i)).length; i++) {

        _engine._outs.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });

      }

      for (i = 0; (x = _engine._main.MidiInInfo(i)).length; i++) {

        _engine._ins.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });

      }

      _postRefresh();

    };

    _engine._openOut = function(port, name) {

      var impl = _engine._outMap[name];

      if (!impl) {

        if (_engine._pool.length <= _engine._outArr.length) _engine._pool.push(_engine._newPlugin());

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allOuts[name].manufacturer,

            version: _engine._allOuts[name].version,

            type: 'MIDI-out',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _close: function(port) { _engine._closeOut(port); },

          _closeAll: _closeAll,

          _receive: function(a) { if (a.length) this.plugin.MidiOutRaw(a.slice()); }

        };

        var plugin = _engine._pool[_engine._outArr.length];

        impl.plugin = plugin;

        _engine._outArr.push(impl);

        _engine._outMap[name] = impl;

      }

      if (!impl.open) {

        var s = impl.plugin.MidiOutOpen(name);

        if (s !== name) {

          if (s) impl.plugin.MidiOutClose();

          port._break(); return;

        }

        impl.open = true;

      }

      port._orig._impl = impl;

      _push(impl.clients, port._orig);

      port._info = impl.info;

      port._receive = function(arg) { impl._receive(arg); };

      port._close = function() { impl._close(this); };

    };

    _engine._openIn = function(port, name) {

      var impl = _engine._inMap[name];

      if (!impl) {

        if (_engine._pool.length <= _engine._inArr.length) _engine._pool.push(_engine._newPlugin());

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allIns[name].manufacturer,

            version: _engine._allIns[name].version,

            type: 'MIDI-in',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _close: function(port) { _engine._closeIn(port); },

          _closeAll: _closeAll,

          handle: function(t, a) {

            for (var i = 0; i < this.clients.length; i++) {

              var msg = MIDI(a);

              this.clients[i]._emit(msg);

            }

          }

        };

        var makeHandle = function(x) { return function(t, a) { x.handle(t, a); }; };

        impl.onmidi = makeHandle(impl);

        var plugin = _engine._pool[_engine._inArr.length];

        impl.plugin = plugin;

        _engine._inArr.push(impl);

        _engine._inMap[name] = impl;

      }

      if (!impl.open) {

        var s = impl.plugin.MidiInOpen(name, impl.onmidi);

        if (s !== name) {

          if (s) impl.plugin.MidiInClose();

          port._break(); return;

        }

        impl.open = true;

      }

      port._orig._impl = impl;

      _push(impl.clients, port._orig);

      port._info = impl.info;

      port._close = function() { impl._close(this); };

    };

    _engine._closeOut = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length && impl.open) {

        impl.open = false;

        impl.plugin.MidiOutClose();

      }

    };

    _engine._closeIn = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length && impl.open) {

        impl.open = false;

        impl.plugin.MidiInClose();

      }

    };

    _engine._close = function() {

      for (var i = 0; i < _engine._inArr.length; i++) if (_engine._inArr[i].open) _engine._inArr[i].plugin.MidiInClose();

      _engine._unwatch();

    };

    _engine._watch = function() {

      if (!watcher) watcher = setInterval(function() { _engine._refresh(); }, 250);

    };

    _engine._unwatch = function() {

      if (watcher) clearInterval(watcher);

      watcher = undefined;

    };

  }



  function _initNode(obj) {

    _engine._type = 'node';

    _engine._main = obj;

    _engine._pool = [];

    _engine._newPlugin = function() { return new obj.MIDI(); };

    _initEngineJP();

  }

  /* istanbul ignore next */

  function _initJazzPlugin(obj) {

    _engine._type = 'plugin';

    _engine._main = obj;

    _engine._pool = [obj];

    _engine._newPlugin = function() {

      var plg = document.createElement('object');

      plg.style.visibility = 'hidden';

      plg.style.width = '0px'; obj.style.height = '0px';

      plg.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';

      plg.type = 'audio/x-jazz';

      document.body.appendChild(plg);

      return plg.isJazz ? plg : undefined;

    };

    _initEngineJP();

  }

  function _initWebMIDI(access, sysex) {

    _engine._type = 'webmidi';

    _engine._version = 43;

    _engine._sysex = !!sysex;

    _engine._access = access;

    _engine._inMap = {};

    _engine._outMap = {};

    _engine._outsW = [];

    _engine._insW = [];

    var watcher;

    function _closeAll() {

      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);

    }

    _engine._refresh = function() {

      _engine._outs = [];

      _engine._ins = [];

      _engine._access.outputs.forEach(function(port) {

        _engine._outs.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});

      });

      _engine._access.inputs.forEach(function(port) {

        _engine._ins.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});

      });

      _postRefresh();

    };

    _engine._openOut = function(port, name) {

      var impl = _engine._outMap[name];

      if (!impl) {

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allOuts[name].manufacturer,

            version: _engine._allOuts[name].version,

            type: 'MIDI-out',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _close: function(port) { _engine._closeOut(port); },

          _closeAll: _closeAll,

          _receive: function(a) { if (impl.dev && a.length) this.dev.send(a.slice()); }

        };

      }

      var found;

      _engine._access.outputs.forEach(function(dev) {

        if (dev.name === name) found = dev;

      });

      if (found) {

        impl.dev = found;

        _engine._outMap[name] = impl;

        port._orig._impl = impl;

        _push(impl.clients, port._orig);

        port._info = impl.info;

        port._receive = function(arg) { impl._receive(arg); };

        port._close = function() { impl._close(this); };

        if (impl.dev.open) {

          port._pause();

          impl.dev.open().then(function() {

            port._resume();

          }, function() {

            port._crash();

          });

        }

      }

      else port._break();

    };

    _engine._openIn = function(port, name) {

      var impl = _engine._inMap[name];

      if (!impl) {

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allIns[name].manufacturer,

            version: _engine._allIns[name].version,

            type: 'MIDI-in',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _close: function(port) { _engine._closeIn(port); },

          _closeAll: _closeAll,

          handle: function(evt) {

            for (var i = 0; i < this.clients.length; i++) {

              var msg = MIDI([].slice.call(evt.data));

              this.clients[i]._emit(msg);

            }

          }

        };

      }

      var found;

      _engine._access.inputs.forEach(function(dev) {

        if (dev.name === name) found = dev;

      });

      if (found) {

        impl.dev = found;

        var makeHandle = function(x) { return function(evt) { x.handle(evt); }; };

        impl.dev.onmidimessage = makeHandle(impl);

        _engine._inMap[name] = impl;

        port._orig._impl = impl;

        _push(impl.clients, port._orig);

        port._info = impl.info;

        port._close = function() { impl._close(this); };

        if (impl.dev.open) {

          port._pause();

          impl.dev.open().then(function() {

            port._resume();

          }, function() {

            port._crash();

          });

        }

      }

      else port._break();

    };

    _engine._closeOut = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length) {

        if (impl.dev && impl.dev.close) impl.dev.close();

        impl.dev = undefined;

      }

    };

    _engine._closeIn = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length) {

        if (impl.dev) {

          impl.dev.onmidimessage = null;

          if (impl.dev.close) impl.dev.close();

        }

        impl.dev = undefined;

      }

    };

    _engine._close = function() {

      _engine._unwatch();

    };

    _engine._watch = function() {

      _engine._access.onstatechange = function() {

        watcher = true;

        _schedule(function() {

          if (watcher) {

            _engine._refresh();

            watcher = false;

          }

        });

      };

    };

    _engine._unwatch = function() {

      _engine._access.onstatechange = undefined;

    };

  }

  function _initCRX(msg, ver) {

    _engine._type = 'extension';

    _engine._version = ver;

    _engine._sysex = true;

    _engine._pool = [];

    _engine._outs = [];

    _engine._ins = [];

    _engine._inArr = [];

    _engine._outArr = [];

    _engine._inMap = {};

    _engine._outMap = {};

    _engine._outsW = [];

    _engine._insW = [];

    _engine.refreshClients = [];

    _engine._msg = msg;

    _engine._newPlugin = function() {

      var plugin = { id: _engine._pool.length };

      _engine._pool.push(plugin);

      if (!plugin.id) plugin.ready = true;

      else document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['new'] }));

    };

    _engine._newPlugin();

    _engine._refresh = function(client) {

      _engine.refreshClients.push(client);

      client._pause();

      _schedule(function() {

        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['refresh'] }));

      });

    };

    function _closeAll() {

      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);

    }

    _engine._openOut = function(port, name) {

      var impl = _engine._outMap[name];

      if (!impl) {

        if (_engine._pool.length <= _engine._outArr.length) _engine._newPlugin();

        var plugin = _engine._pool[_engine._outArr.length];

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allOuts[name].manufacturer,

            version: _engine._allOuts[name].version,

            type: 'MIDI-out',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openout', plugin.id, name] })); },

          _close: function(port) { _engine._closeOut(port); },

          _closeAll: _closeAll,

          _receive: function(a) { if (a.length) { var v = a.slice(); v.splice(0, 0, 'play', plugin.id); document.dispatchEvent(new CustomEvent('jazz-midi', {detail: v})); } }

        };

        impl.plugin = plugin;

        plugin.output = impl;

        _engine._outArr.push(impl);

        _engine._outMap[name] = impl;

      }

      port._orig._impl = impl;

      _push(impl.clients, port._orig);

      port._info = impl.info;

      port._receive = function(arg) { impl._receive(arg); };

      port._close = function() { impl._close(this); };

      if (!impl.open) {

        port._pause();

        if (impl.plugin.ready) impl._start();

      }

    };

    _engine._openIn = function(port, name) {

      var impl = _engine._inMap[name];

      if (!impl) {

        if (_engine._pool.length <= _engine._inArr.length) _engine._newPlugin();

        var plugin = _engine._pool[_engine._inArr.length];

        impl = {

          name: name,

          clients: [],

          info: {

            name: name,

            manufacturer: _engine._allIns[name].manufacturer,

            version: _engine._allIns[name].version,

            type: 'MIDI-in',

            sysex: _engine._sysex,

            engine: _engine._type

          },

          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openin', plugin.id, name] })); },

          _close: function(port) { _engine._closeIn(port); },

          _closeAll: _closeAll

        };

        impl.plugin = plugin;

        plugin.input = impl;

        _engine._inArr.push(impl);

        _engine._inMap[name] = impl;

      }

      port._orig._impl = impl;

      _push(impl.clients, port._orig);

      port._info = impl.info;

      port._close = function() { impl._close(this); };

      if (!impl.open) {

        port._pause();

        if (impl.plugin.ready) impl._start();

      }

    };

    _engine._closeOut = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length && impl.open) {

        impl.open = false;

        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closeout', impl.plugin.id] }));

      }

    };

    _engine._closeIn = function(port) {

      var impl = port._impl;

      _pop(impl.clients, port._orig);

      if (!impl.clients.length && impl.open) {

        impl.open = false;

        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closein', impl.plugin.id] }));

      }

    };

    _engine._close = function() {

      _engine._unwatch();

    };

    var watcher;

    _engine._watch = function() {

      _engine._insW = _engine._ins;

      _engine._outsW = _engine._outs;

      watcher = setInterval(function() {

        document.dispatchEvent(new CustomEvent('jazz-midi', {detail:['refresh']}));

      }, 250);

    };

    _engine._unwatch = function() {

      clearInterval(watcher);

      watcher = undefined;

    };

    document.addEventListener('jazz-midi-msg', function() {

      var v = _engine._msg.innerText.split('\\n');

      var impl, i, j;

      _engine._msg.innerText = '';

      for (i = 0; i < v.length; i++) {

        var a = [];

        try { a = JSON.parse(v[i]); } catch (err) {}

        if (!a.length) continue;

        if (a[0] === 'refresh') {

          if (a[1].ins) {

            for (j = 0; j < a[1].ins.length; j++) a[1].ins[j].type = _engine._type;

            _engine._ins = a[1].ins;

          }

          if (a[1].outs) {

            for (j = 0; j < a[1].outs.length; j++) a[1].outs[j].type = _engine._type;

            _engine._outs = a[1].outs;

          }

          _postRefresh();

          for (j = 0; j < _engine.refreshClients.length; j++) _engine.refreshClients[j]._resume();

          _engine.refreshClients = [];

        }

        else if (a[0] === 'version') {

          var plugin = _engine._pool[a[1]];

          if (plugin) {

            plugin.ready = true;

            if (plugin.input) plugin.input._start();

            if (plugin.output) plugin.output._start();

          }

        }

        else if (a[0] === 'openout') {

          impl = _engine._pool[a[1]].output;

          if (impl) {

            if (a[2] == impl.name) {

              impl.open = true;

              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();

            }

            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();

          }

        }

        else if (a[0] === 'openin') {

          impl = _engine._pool[a[1]].input;

          if (impl) {

            if (a[2] == impl.name) {

              impl.open = true;

              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();

            }

            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();

          }

        }

        else if (a[0] === 'midi') {

          impl = _engine._pool[a[1]].input;

          if (impl && impl.clients) {

            for (j = 0; j < impl.clients.length; j++) {

              var msg = MIDI(a.slice(3));

              impl.clients[j]._emit(msg);

            }

          }

        }

      }

    });

  }



  var JZZ = function(opt) {

    if (!_jzz) _initJZZ(opt);

    return _jzz._thenable();

  };

  JZZ.JZZ = JZZ;

  JZZ.version = _version;

  JZZ.info = function() { return _J.prototype.info(); };



  function Widget(arg) {

    var self = new _M();

    if (arg instanceof Object) _for(arg, function(k) { self[k] = arg[k]; });

    self._resume();

    return self;

  }

  JZZ.Widget = Widget;

  _J.prototype.Widget = JZZ.Widget;

  JZZ.addMidiIn = function(name, widget) {

    var info = _clone(widget._info || {});

    info.name = name;

    info.type = info.type || 'javascript';

    info.manufacturer = info.manufacturer || 'virtual';

    info.version = info.version || '0.0';

    var engine = {

      _info: function() { return info; },

      _openIn: function(port) {

        port._pause();

        port._info = _clone(info);

        port._close = function() { widget.disconnect(port); };

        widget.connect(port);

        port._resume();

      }

    };

    return JZZ.lib.registerMidiIn(name, engine);

  };

  JZZ.addMidiOut = function(name, widget) {

    var info = _clone(widget._info || {});

    info.name = name;

    info.type = info.type || 'javascript';

    info.manufacturer = info.manufacturer || 'virtual';

    info.version = info.version || '0.0';

    var engine = {

      _info: function() { return info; },

      _openOut: function(port) {

        port._pause();

        port._info = _clone(info);

        port._close = function() { port.disconnect(); };

        _connect.apply(port, [widget]);

        port._resume();

      }

    };

    return JZZ.lib.registerMidiOut(name, engine);

  };



  // JZZ.SMPTE



  function SMPTE() {

    var self = this instanceof SMPTE ? this : self = new SMPTE();

    SMPTE.prototype.reset.apply(self, arguments);

    return self;

  }

  SMPTE.prototype.reset = function(arg) {

    if (arg instanceof SMPTE) {

      this.setType(arg.getType());

      this.setHour(arg.getHour());

      this.setMinute(arg.getMinute());

      this.setSecond(arg.getSecond());

      this.setFrame(arg.getFrame());

      this.setQuarter(arg.getQuarter());

      return this;

    }

    var arr = arg instanceof Array ? arg : arguments;

    this.setType(arr[0]);

    this.setHour(arr[1]);

    this.setMinute(arr[2]);

    this.setSecond(arr[3]);

    this.setFrame(arr[4]);

    this.setQuarter(arr[5]);

    return this;

  };

  function _fixDropFrame() { if (this.type == 29.97 && !this.second && this.frame < 2 && this.minute % 10) this.frame = 2; }

  SMPTE.prototype.isFullFrame = function() { return this.quarter == 0 || this.quarter == 4; };

  SMPTE.prototype.getType = function() { return this.type; };

  SMPTE.prototype.getHour = function() { return this.hour; };

  SMPTE.prototype.getMinute = function() { return this.minute; };

  SMPTE.prototype.getSecond = function() { return this.second; };

  SMPTE.prototype.getFrame = function() { return this.frame; };

  SMPTE.prototype.getQuarter = function() { return this.quarter; };

  SMPTE.prototype.setType = function(x) {

    if (typeof x == 'undefined' || x == 24) this.type = 24;

    else if (x == 25) this.type = 25;

    else if (x == 29.97) { this.type = 29.97; _fixDropFrame.apply(this); }

    else if (x == 30) this.type = 30;

    else throw RangeError('Bad SMPTE frame rate: ' + x);

    if (this.frame >= this.type) this.frame = this.type - 1; // could not be more than 29

    return this;

  };

  SMPTE.prototype.setHour = function(x) {

    if (typeof x == 'undefined') x = 0;

    if (x != parseInt(x) || x < 0 || x >= 24) throw RangeError('Bad SMPTE hours value: ' + x);

    this.hour = x;

    return this;

  };

  SMPTE.prototype.setMinute = function(x) {

    if (typeof x == 'undefined') x = 0;

    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE minutes value: ' + x);

    this.minute = x;

    _fixDropFrame.apply(this);

    return this;

  };

  SMPTE.prototype.setSecond = function(x) {

    if (typeof x == 'undefined') x = 0;

    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE seconds value: ' + x);

    this.second = x;

    _fixDropFrame.apply(this);

    return this;

  };

  SMPTE.prototype.setFrame = function(x) {

    if (typeof x == 'undefined') x = 0;

    if (x != parseInt(x) || x < 0 || x >= this.type) throw RangeError('Bad SMPTE frame number: ' + x);

    this.frame = x;

    _fixDropFrame.apply(this);

    return this;

  };

  SMPTE.prototype.setQuarter = function(x) {

    if (typeof x == 'undefined') x = 0;

    if (x != parseInt(x) || x < 0 || x >= 8) throw RangeError('Bad SMPTE quarter frame: ' + x);

    this.quarter = x;

    return this;

  };

  SMPTE.prototype.incrFrame = function() {

    this.frame++;

    if (this.frame >= this.type) {

      this.frame = 0;

      this.second++;

      if (this.second >= 60) {

        this.second = 0;

        this.minute++;

        if (this.minute >= 60) {

          this.minute = 0;

          this.hour = this.hour >= 23 ? 0 : this.hour + 1;

        }

      }

    }

    _fixDropFrame.apply(this);

    return this;

  };

  SMPTE.prototype.decrFrame = function() {

    if (!this.second && this.frame == 2 && this.type == 29.97 && this.minute % 10) this.frame = 0; // drop-frame

    this.frame--;

    if (this.frame < 0) {

      this.frame = this.type == 29.97 ? 29 : this.type - 1;

      this.second--;

      if (this.second < 0) {

        this.second = 59;

        this.minute--;

        if (this.minute < 0) {

          this.minute = 59;

          this.hour = this.hour ? this.hour - 1 : 23;

        }

      }

    }

    return this;

  };

  SMPTE.prototype.incrQF = function() {

    this.backwards = false;

    this.quarter = (this.quarter + 1) & 7;

    if (this.quarter == 0 || this.quarter == 4) this.incrFrame();

    return this;

  };

  SMPTE.prototype.decrQF = function() {

    this.backwards = true;

    this.quarter = (this.quarter + 7) & 7;

    if (this.quarter == 3 || this.quarter == 7) this.decrFrame();

    return this;

  };

  function _825(a) { return [[24, 25, 29.97, 30][(a[7] >> 1) & 3], ((a[7] & 1) << 4) | a[6], (a[5] << 4) | a[4], (a[3] << 4) | a[2], (a[1] << 4) | a[0]]; }

  SMPTE.prototype.read = function(m) {

    if (!(m instanceof MIDI)) m = MIDI.apply(null, arguments);

    if (m[0] == 0xf0 && m[1] == 0x7f && m[3] == 1 && m[4] == 1 && m[9] == 0xf7) {

      this.type = [24, 25, 29.97, 30][(m[5] >> 5) & 3];

      this.hour = m[5] & 31;

      this.minute = m[6];

      this.second = m[7];

      this.frame = m[8];

      this.quarter = 0;

      this._ = undefined;

      this._b = undefined;

      this._f = undefined;

      return true;

    }

    if (m[0] == 0xf1 && typeof m[1] != 'undefined') {

      var q = m[1] >> 4;

      var n = m[1] & 15;

      if (q == 0) {

        if (this._ == 7) {

          if (this._f == 7) {

            this.reset(_825(this._a));

            this.incrFrame();

          }

          this.incrFrame();

        }

      }

      else if (q == 3) {

        if (this._ == 4) {

          this.decrFrame();

        }

      }

      else if (q == 4) {

        if (this._ == 3) {

          this.incrFrame();

        }

      }

      else if (q == 7) {

        if (this._ === 0) {

          if (this._b === 0) {

            this.reset(_825(this._a));

            this.decrFrame();

          }

          this.decrFrame();

        }

      }

      if (!this._a) this._a = [];

      this._a[q] = n;

      this._f = this._f === q - 1 || q == 0 ? q : undefined;

      this._b = this._b === q + 1 || q == 7 ? q : undefined;

      this._ = q;

      this.quarter = q;

      return true;

    }

    return false;

  };

  function _mtc(t) {

    if (!t.backwards && t.quarter >= 4) t.decrFrame(); // continue encoding previous frame

    else if (t.backwards && t.quarter < 4) t.incrFrame();

    var ret;

    switch (t.quarter >> 1) {

      case 0: ret = t.frame; break;

      case 1: ret = t.second; break;

      case 2: ret = t.minute; break;

      default: ret = t.hour;

    }

    if (t.quarter & 1) ret >>= 4;

    else ret &= 15;

    if (t.quarter == 7) {

      if (t.type == 25) ret |= 2;

      else if (t.type == 29.97) ret |= 4;

      else if (t.type == 30) ret |= 6;

    }

    // restore original t

    if (!t.backwards && t.quarter >= 4) t.incrFrame();

    else if (t.backwards && t.quarter < 4) t.decrFrame();

    return ret | (t.quarter << 4);

  }

  function _hrtype(t) {

    if (t.type == 25) return t.hour | 0x20;

    if (t.type == 29.97) return t.hour | 0x40;

    if (t.type == 30) return t.hour | 0x60;

    return t.hour;

  }

  function _dec(x) { return x < 10 ? '0' + x : x; }

  function _smptetxt(x) {

    var arr = [];

    for (var i = 0; i < x.length; i++) arr[i] = _dec(i ? x[i] : x[i] & 0x1f);

    return arr.join(':');

  }

  SMPTE.prototype.toString = function() { return _smptetxt([this.hour, this.minute, this.second, this.frame]); };

  JZZ.SMPTE = SMPTE;

  _J.prototype.SMPTE = SMPTE;



  // JZZ.MIDI



  function MIDI(arg) {

    var self = this instanceof MIDI ? this : self = new MIDI();

    var i;

    if (arg instanceof MIDI) {

      self._from = arg._from.slice();

      _for(arg, function(i) { if (i != '_from') self[i] = arg[i]; });

      return self;

    }

    else self._from = [];

    if (typeof arg == 'undefined') return self;

    var arr = arg instanceof Array ? arg : arguments;

    for (i = 0; i < arr.length; i++) {

      n = arr[i];

      if (i == 1) {

        if (self[0] >= 0x80 && self[0] <= 0xAF) n = MIDI.noteValue(n);

        if (self[0] >= 0xC0 && self[0] <= 0xCF) n = MIDI.programValue(n);

      }

      if (n != parseInt(n) || n < 0 || n > 255) _throw(arr[i]);

      self.push(n);

    }

    return self;

  }

  MIDI.prototype = [];

  MIDI.prototype.constructor = MIDI;

  var _noteNum = {};

  MIDI.noteValue = function(x) { return typeof x == 'undefined' ? undefined : _noteNum[x.toString().toLowerCase()]; };

  MIDI.programValue = function(x) { return x; };

  MIDI.freq = function(n, a) {

    if (typeof a == 'undefined') a = 440.0;

    _float(a);

    if (n != parseFloat(n)) n = _7bn(n);

    return (a * Math.pow(2, (n - 69.0) / 12.0));

  };

  function _float(x) { if (x != parseFloat(x)) throw TypeError('Not a number: ' + x); }

  MIDI.shift = function(f, f0) {

    if (typeof f0 == 'undefined') f0 = 440;

    _float(f);

    _float(f0);

    return Math.log2(f / f0) * 12;

  };

  MIDI.midi = function(f, f0) { return MIDI.shift(f, f0) + 69; };

  MIDI.to14b = function(x) {

    _float(x);

    return x <= 0 ? 0 : x >= 1 ? 0x3fff : Math.floor(x * 0x4000);

  };

  MIDI.to21b = function(x) {

    if (typeof x == 'undefined') return 0x1fffff;

    _float(x);

    if (x <= 0) return 0;

    x = (Math.floor(x) << 14) + MIDI.to14b(x - Math.floor(x));

    return x < 0x1fffff ? x : 0x1ffffe;

  };

  function _MIDI() {}

  _MIDI.prototype = MIDI;

  MIDI._sxid = 0x7f;

  MIDI.sxId = function(id) {

    if (typeof id == 'undefined') id = MIDI._sxid;

    if (id == this._sxid) return this;

    id = _7b(id);

    var ret = new _MIDI();

    ret._ch = this._ch;

    ret._sxid = id;

    return ret;

  };

  MIDI.ch = function(c) {

    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;

    var ret = new _MIDI();

    if (typeof c != 'undefined') c = _ch(c);

    ret._ch = c;

    ret._sxid = this._sxid;

    return ret;

  };



  var _noteMap = { c:0, d:2, e:4, f:5, g:7, a:9, b:11, h:11 };

  _for(_noteMap, function(k) {

    for (n = 0; n < 12; n++) {

      m = _noteMap[k] + n * 12;

      if (m > 127) break;

      _noteNum[k+n] = m;

      if (m > 0) { _noteNum[k + 'b' + n] = m - 1; _noteNum[k + 'bb' + n] = m - 2; }

      if (m < 127) { _noteNum[k + '#' + n] = m + 1; _noteNum[k + '##' + n] = m + 2; }

    }

  });

  for (n = 0; n < 128; n++) _noteNum[n] = n;

  function _throw(x) { throw RangeError('Bad MIDI value: ' + x); }

  function _bad(x) { throw TypeError('Invalid value: ' + x); }

  function _oor(x) { throw RangeError('Out of range: ' + x); }

  function _ch(c) { _validateChannel(c); return parseInt(c); }

  function _7b(n, m) { if (n != parseInt(n) || n < 0 || n > 0x7f) _throw(typeof m == 'undefined' ? n : m); return parseInt(n); }

  function _8b(n) { if (n != parseInt(n) || n < 0 || n > 0xff) _throw(n); return parseInt(n); }

  function _14b(n) { if (n != parseInt(n) || n < 0 || n > 0x3fff) _throw(n); return parseInt(n); }

  function _16b(n) { if (n != parseInt(n) || n < 0 || n > 0xffff) throw RangeError('Expected a 16-bit value: ' + n); return parseInt(n); }

  function _21b(n) { if (n != parseInt(n) || n < 0 || n > 0x1fffff) _throw(n); return parseInt(n); }

  function _7bn(n) { return _7b(MIDI.noteValue(n), n); }

  function _lsb(n) { return _14b(n) & 0x7f; }

  function _msb(n) { return _14b(n) >> 7; }

  function _8bs(s) { s = '' + s; for (var i = 0; i < s.length; i++) if (s.charCodeAt(i) > 255) _throw(s[i]); return s; }

  function _to777(n) { return [n >> 14, (n >> 7) & 0x7f, n & 0x7f]; }

  function _01(x, y) {

    if (x != parseFloat(x)) _bad(typeof y == 'undefined' ? x : y);

    if (x < 0 || x > 1) _oor(typeof y == 'undefined' ? x : y);

    return parseFloat(x);

 }

  function _rt(b) { return typeof b != 'undefined' && !b ? 0x7E : 0x7F; }

  function _ntu(x) {

    var k, m;

    var kkk = [];

    var vvv = {};

    _for(x, function(k) {

      m = _21b(x[k]);

      k = _7bn(k);

      if (k in vvv) throw RangeError('Duplicate MIDI value: ' + k);

      kkk.push(k);

      vvv[k] = m;

    });

    kkk.sort();

    var out = [kkk.length];

    for (k = 0; k < kkk.length; k++) out = out.concat([kkk[k]], _to777(vvv[kkk[k]]));

    return out;

  }

  function _f2ntu(x) {

    var out = {};

    _for (x, function(k) { out[k] = MIDI.to21b(x[k] == parseFloat(x[k]) ? x[k] : _7bn(x[k])); });

    return out;

  }

  function _hz2ntu(x) {

    var out = {};

    _for (x, function(k) { out[k] = MIDI.to21b(MIDI.midi(x[k])); });

    return out;

  }

  function _12x7(a) {

    var out = [];

    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');

    for (var i = 0; i < 12; i++) out.push(_7b(a[i]));

    return out;

  }

  function _12x14(a) {

    var out = [];

    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');

    for (var i = 0; i < 12; i++) {

      out.push(_msb(a[i]));

      out.push(_lsb(a[i]));

    }

    return out;

  }

  var _helperMPE = {

    noteOff: function(c, n, v) { if (typeof v == 'undefined') v = 64; return [0x80 + _ch(c), _7bn(n), _7b(v)]; },

    noteOn: function(c, n, v) { if (typeof v == 'undefined') v = 127; return [0x90 + _ch(c), _7bn(n), _7b(v)]; },

    aftertouch: function(c, n, v) { return [0xA0 + _ch(c), _7bn(n), _7b(v)]; },

  };

  var _helperCH = {

    control: function(c, n, v) { return [0xB0 + _ch(c), _7b(n), _7b(v)]; },

    program: function(c, n) { return [0xC0 + _ch(c), _7b(MIDI.programValue(n), n)]; },

    pressure: function(c, n) { return [0xD0 + _ch(c), _7b(n)]; },

    pitchBend: function(c, n, l) { return typeof l == 'undefined' ? [0xE0 + _ch(c), _lsb(n), _msb(n)] : [0xE0 + _ch(c), _7b(l), _7b(n)]; },

    pitchBendF: function(c, x) { return _helperCH.pitchBend(c, MIDI.to14b((x + 1) / 2)); },

    bankMSB: function(c, n) { return [0xB0 + _ch(c), 0x00, _7b(n)]; },

    bankLSB: function(c, n) { return [0xB0 + _ch(c), 0x20, _7b(n)]; },

    modMSB: function(c, n) { return [0xB0 + _ch(c), 0x01, _7b(n)]; },

    modLSB: function(c, n) { return [0xB0 + _ch(c), 0x21, _7b(n)]; },

    breathMSB: function(c, n) { return [0xB0 + _ch(c), 0x02, _7b(n)]; },

    breathLSB: function(c, n) { return [0xB0 + _ch(c), 0x22, _7b(n)]; },

    footMSB: function(c, n) { return [0xB0 + _ch(c), 0x04, _7b(n)]; },

    footLSB: function(c, n) { return [0xB0 + _ch(c), 0x24, _7b(n)]; },

    portamentoMSB: function(c, n) { return [0xB0 + _ch(c), 0x05, _7b(n)]; },

    portamentoLSB: function(c, n) { return [0xB0 + _ch(c), 0x25, _7b(n)]; },

    dataMSB: function(c, n) { return [0xB0 + _ch(c), 0x06, _7b(n)]; },

    dataLSB: function(c, n) { return [0xB0 + _ch(c), 0x26, _7b(n)]; },

    volumeMSB: function(c, n) { return [0xB0 + _ch(c), 0x07, _7b(n)]; },

    volumeLSB: function(c, n) { return [0xB0 + _ch(c), 0x27, _7b(n)]; },

    balanceMSB: function(c, n) { return [0xB0 + _ch(c), 0x08, _7b(n)]; },

    balanceLSB: function(c, n) { return [0xB0 + _ch(c), 0x28, _7b(n)]; },

    panMSB: function(c, n) { return [0xB0 + _ch(c), 0x0A, _7b(n)]; },

    panLSB: function(c, n) { return [0xB0 + _ch(c), 0x2A, _7b(n)]; },

    expressionMSB: function(c, n) { return [0xB0 + _ch(c), 0x0B, _7b(n)]; },

    expressionLSB: function(c, n) { return [0xB0 + _ch(c), 0x2B, _7b(n)]; },

    damper: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x40, b ? 127 : 0]; },

    portamento: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x41, b ? 127 : 0]; },

    sostenuto: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x42, b ? 127 : 0]; },

    soft: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x43, b ? 127 : 0]; },

    legato: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x44, b ? 127 : 0]; },

    hold2: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x45, b ? 127 : 0]; },

    soundVariation: function(c, n) { return [0xB0 + _ch(c), 0x46, _7bn(n)]; },

    filterResonance: function(c, n) { return [0xB0 + _ch(c), 0x47, _7bn(n)]; },

    releaseTime: function(c, n) { return [0xB0 + _ch(c), 0x48, _7bn(n)]; },

    attackTime: function(c, n) { return [0xB0 + _ch(c), 0x49, _7bn(n)]; },

    brightness: function(c, n) { return [0xB0 + _ch(c), 0x4A, _7bn(n)]; },

    decayTime: function(c, n) { return [0xB0 + _ch(c), 0x4B, _7bn(n)]; },

    vibratoRate: function(c, n) { return [0xB0 + _ch(c), 0x4C, _7bn(n)]; },

    vibratoDepth: function(c, n) { return [0xB0 + _ch(c), 0x4D, _7bn(n)]; },

    vibratoDelay: function(c, n) { return [0xB0 + _ch(c), 0x4E, _7bn(n)]; },

    ptc: function(c, n) { return [0xB0 + _ch(c), 0x54, _7bn(n)]; },

    dataIncr: function(c) { return [0xB0 + _ch(c), 0x60, 0]; },

    dataDecr: function(c) { return [0xB0 + _ch(c), 0x61, 0]; },

    nrpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x62, _7b(n)]; },

    nrpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x63, _7b(n)]; },

    rpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x64, _7b(n)]; },

    rpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x65, _7b(n)]; },

    allSoundOff: function(c) { return [0xB0 + _ch(c), 0x78, 0]; },

    resetAllControllers: function(c) { return [0xB0 + _ch(c), 0x79, 0]; },

    localControl: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x7a, b ? 127 : 0]; },

    allNotesOff: function(c) { return [0xB0 + _ch(c), 0x7b, 0]; },

    omni: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), b ? 0x7d : 0x7c, 0]; },

    mono: function(c, n) { if (typeof n == 'undefined') n = 1; return [0xB0 + _ch(c), 0x7e, _7b(n)]; },

    poly: function(c) { return [0xB0 + _ch(c), 0x7f, 0]; },

  };

  var _helperNC = { // no channel

    mtc: function(t) { return [0xF1, _mtc(t)]; },

    songPosition: function(n, l) { return typeof l == 'undefined' ? [0xF2, _lsb(n), _msb(n)] : [0xF2, _7b(l), _7b(n)]; },

    songSelect: function(n) { return [0xF3, _7b(n)]; },

    tune: function() { return [0xF6]; },

    clock: function() { return [0xF8]; },

    start: function() { return [0xFA]; },

    continue: function() { return [0xFB]; },

    stop: function() { return [0xFC]; },

    active: function() { return [0xFE]; },

    sxIdRequest: function() { return [0xF0, 0x7E, this._sxid, 0x06, 0x01, 0xF7]; },

    sxTuningDumpRequest: function(n, k) { return typeof k == 'undefined' ?

      [0xF0, 0x7E, this._sxid, 0x08, 0x00, _7b(n), 0xF7] : [0xF0, 0x7E, this._sxid, 0x08, 0x03, _7b(n), _7b(k), 0xF7]; },

    sxFullFrame: function(t) { return [0xF0, 0x7F, this._sxid, 0x01, 0x01, _hrtype(t), t.getMinute(), t.getSecond(), t.getFrame(), 0xF7]; },

    sxMasterVolume: function(n, l) { return typeof l == 'undefined' ?

      [0xF0, 0x7F, this._sxid, 0x04, 0x01, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x01, _7b(l), _7b(n), 0xF7]; },

    sxMasterVolumeF: function(x) { return _helperNC.sxMasterVolume.call(this, MIDI.to14b(_01(x))); },

    sxMasterFineTuning: function(n, l) { return typeof l == 'undefined' ?

      [0xF0, 0x7F, this._sxid, 0x04, 0x03, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x03, _7b(l), _7b(n), 0xF7]; },

    sxMasterFineTuningF: function(x) { return _helperNC.sxMasterFineTuning.call(this, MIDI.to14b(_01((x % 1 + 1) / 2, x))); },

    sxMasterCoarseTuning: function(n) { return [0xF0, 0x7F, this._sxid, 0x04, 0x04, 0x00, _7b(n), 0xF7]; },

    sxMasterCoarseTuningF: function(x) { return _helperNC.sxMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },

    sxNoteTuning: function(a, b, c, d) { return b == parseInt(b) ?

      [0xF0, _rt(d), this._sxid, 0x08, 0x07, _7b(a), _7b(b)].concat(_ntu(c), [0xF7]) :

      [0xF0, 0x7F, this._sxid, 0x08, 0x02, _7b(a)].concat(_ntu(b), [0xF7]); },

    sxNoteTuningF: function(a, b, c, d) { return b == parseInt(b) ?

      _helperNC.sxNoteTuning.call(this, a, b, _f2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _f2ntu(b)); },

    sxNoteTuningHZ: function(a, b, c, d) { return b == parseInt(b) ?

      _helperNC.sxNoteTuning.call(this, a, b, _hz2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _hz2ntu(b)); },

    sxScaleTuning1: function(a, b, c) { return a == parseInt(a) ?

      [0xF0, _rt(c), this._sxid, 0x08, 0x08].concat(_to777(_16b(a)), _12x7(b), [0xF7]) :

      _helperNC.sxScaleTuning1.call(this, 0xffff, a, b); },

    sxScaleTuning1F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning1F.call(this, 0xffff, a, b);

      var v = []; for (var i = 0; i < b.length; i++) {

        if (b[i] < -0.64 || b[i] > 0.63) throw RangeError('Out of range: ' + b[i]);

        v.push(Math.floor(b[i] * 100 + 64)); }

      return _helperNC.sxScaleTuning1.call(this, a, v, c); },

    sxScaleTuning2: function(a, b, c) { return a == parseInt(a) ?

      [0xF0, _rt(c), this._sxid, 0x08, 0x09].concat(_to777(_16b(a)), _12x14(b), [0xF7]) :

      _helperNC.sxScaleTuning2.call(this, 0xffff, a, b); },

    sxScaleTuning2F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning2F.call(this, 0xffff, a, b);

      var v = []; for (var i = 0; i < b.length; i++) {

        var x = (b[i] + 1) / 2;

        if (x < -1 || x > 1) throw RangeError('Out of range: ' + b[i]);

        v.push(MIDI.to14b((b[i] + 1) / 2)); }

      return _helperNC.sxScaleTuning2.call(this, a, v, c); },

    sxGM: function(gm) { if (typeof gm == 'undefined') gm = 1; return [0xF0, 0x7E, this._sxid, 0x09, gm ? gm == 2 ? 3 : 1 : 2, 0xF7]; },

    sxGS: function(arg) { var arr = typeof arg == 'undefined' ? [0x40, 0, 0x7F, 0] : arg instanceof Array ? arg : arguments;

      var c = 0; var a = [0xF0, 0x41, this._sxid, 0x42, 0x12];

      for (var i = 0; i < arr.length; i++) { var x = _7b(arr[i]); a.push(x); c += x; }

      c %= 128; a.push(c ? 128 - c : 0); a.push(0xf7); return a; },

    sxMidiSoft: function(n, s) {

      var a = [0xf0, 0x00, 0x20, 0x24, 0x00, _7b(n || 0)];

      s = typeof s == 'undefined' ? '' : '' + s;

      for (var i = 0; i < s.length; i++) a.push(_7b(s.charCodeAt(i)));

      a.push(0xf7); return a; },

    reset: function() { return [0xFF]; },

  };

  _helperNC.sxScaleTuning = _helperNC.sxScaleTuning2;

  _helperNC.sxScaleTuningF = _helperNC.sxScaleTuning2F;

  var _helperGCH = { // compound messages

    bank: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.bankMSB(c, _msb(m)), _helperCH.bankLSB(c, _lsb(m))] : [_helperCH.bankMSB(c, m), _helperCH.bankLSB(c, l)]; },

    modF: function(c, x) { return _helperGCH.mod(c, MIDI.to14b(x)); },

    mod: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.modMSB(c, _msb(m)), _helperCH.modLSB(c, _lsb(m))] : [_helperCH.modMSB(c, m), _helperCH.modLSB(c, l)]; },

    breathF: function(c, x) { return _helperGCH.breath(c, MIDI.to14b(x)); },

    breath: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.breathMSB(c, _msb(m)), _helperCH.breathLSB(c, _lsb(m))] : [_helperCH.breathMSB(c, m), _helperCH.breathLSB(c, l)]; },

    footF: function(c, x) { return _helperGCH.foot(c, MIDI.to14b(x)); },

    foot: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.footMSB(c, _msb(m)), _helperCH.footLSB(c, _lsb(m))] : [_helperCH.footMSB(c, m), _helperCH.footLSB(c, l)]; },

    portamentoTimeF: function(c, x) { return _helperGCH.portamentoTime(c, MIDI.to14b(x)); },

    portamentoTime: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.portamentoMSB(c, _msb(m)), _helperCH.portamentoLSB(c, _lsb(m))] : [_helperCH.portamentoMSB(c, m), _helperCH.portamentoLSB(c, l)]; },

    dataF: function(c, x) { return _helperGCH.data(c, MIDI.to14b(x)); },

    data: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.dataMSB(c, _msb(m)), _helperCH.dataLSB(c, _lsb(m))] : [_helperCH.dataMSB(c, m), _helperCH.dataLSB(c, l)]; },

    volumeF: function(c, x) { return _helperGCH.volume(c, MIDI.to14b(x)); },

    volume: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.volumeMSB(c, _msb(m)), _helperCH.volumeLSB(c, _lsb(m))] : [_helperCH.volumeMSB(c, m), _helperCH.volumeLSB(c, l)]; },

    balanceF: function(c, x) { return _helperGCH.balance(c, MIDI.to14b((x + 1) / 2)); },

    balance: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.balanceMSB(c, _msb(m)), _helperCH.balanceLSB(c, _lsb(m))] : [_helperCH.balanceMSB(c, m), _helperCH.balanceLSB(c, l)]; },

    panF: function(c, x) { return _helperGCH.pan(c, MIDI.to14b((x + 1) / 2)); },

    pan: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.panMSB(c, _msb(m)), _helperCH.panLSB(c, _lsb(m))] : [_helperCH.panMSB(c, m), _helperCH.panLSB(c, l)]; },

    expressionF: function(c, x) { return _helperGCH.expression(c, MIDI.to14b(x)); },

    expression: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.expressionMSB(c, _msb(m)), _helperCH.expressionLSB(c, _lsb(m))] : [_helperCH.expressionMSB(c, m), _helperCH.expressionLSB(c, l)]; },

    nrpn: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.nrpnMSB(c, _msb(m)), _helperCH.nrpnLSB(c, _lsb(m))] : [_helperCH.nrpnMSB(c, m), _helperCH.nrpnLSB(c, l)]; },

    rpn: function(c, m, l) { return typeof l == 'undefined' ?

      [_helperCH.rpnMSB(c, _msb(m)), _helperCH.rpnLSB(c, _lsb(m))] : [_helperCH.rpnMSB(c, m), _helperCH.rpnLSB(c, l)]; },

    rpnPitchBendRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 0).concat(_helperGCH.data(c, m, l)); },

    rpnPitchBendRangeF: function(c, x) { return _helperGCH.rpnPitchBendRange(c, _7b(x - x % 1), Math.floor((x % 1) * 100)); },

    rpnFineTuning: function(c, m, l) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.data(c, m, l)); },

    rpnFineTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.dataF(c, (x % 1 + 1) / 2)); },

    rpnCoarseTuning: function(c, m) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, m)]); },

    rpnCoarseTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, 0x40 + (x - x % 1))]); },

    rpnTuning: function(c, n, m, l) { return _helperGCH.rpnCoarseTuning(c, n).concat(_helperGCH.rpnFineTuning(c, m, l)); },

    rpnTuningF: function(c, x) { return _helperGCH.rpnCoarseTuningF(c, x).concat(_helperGCH.rpnFineTuningF(c, x)); },

    rpnTuningA: function(c, a) { return _helperGCH.rpnTuningF(c, MIDI.shift(a)); },

    rpnSelectTuningProgram: function(c, n) { return _helperGCH.rpn(c, 0, 3).concat([_helperCH.dataMSB(c, n)]); },

    rpnSelectTuningBank: function(c, n) { return _helperGCH.rpn(c, 0, 4).concat([_helperCH.dataMSB(c, n)]); },

    rpnSelectTuning: function(c, n, k) { return typeof k == 'undefined' ?

      _helperGCH.rpnSelectTuningProgram(c, n) : _helperGCH.rpnSelectTuningBank(c, n).concat(_helperGCH.rpnSelectTuningProgram(c, k)); },

    rpnModulationDepthRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 5).concat(_helperGCH.data(c, m, l)); },

    rpnModulationDepthRangeF: function(c, x) { return _helperGCH.rpnModulationDepthRange(c, _7b(x - x % 1), Math.floor((x % 1) * 128)); },

    rpnNull: function(c) { return _helperGCH.rpn(c, 0x7f, 0x7f); },

    mode1: function(c) { return [ _helperCH.omni(c, true), _helperCH.poly(c) ]; },

    mode2: function(c) { return [ _helperCH.omni(c, true), _helperCH.mono(c) ]; },

    mode3: function(c) { return [ _helperCH.omni(c, false), _helperCH.poly(c) ]; },

    mode4: function(c) { return [ _helperCH.omni(c, false), _helperCH.mono(c) ]; },

  };

  var _helperGNC = { // compound messages no channel

    sxMasterTuning: function(n, m, l) { return [_helperNC.sxMasterCoarseTuning.call(this, n), _helperNC.sxMasterFineTuning.call(this, m, l)]; },

    sxMasterTuningF: function(x) { return [_helperNC.sxMasterCoarseTuningF.call(this, x), _helperNC.sxMasterFineTuningF.call(this, x)]; },

    sxMasterTuningA: function(a) { return _helperGNC.sxMasterTuningF.call(this, MIDI.shift(a)); },

  };

  function _smf(ff, dd) {

    var midi = new MIDI();

    midi.ff = _8b(ff);

    midi.dd = typeof dd == 'undefined' ? '' : _8bs(dd);

    return midi;

  }

  var _helperSMF = { // Standard MIDI File events

    smf: function(arg) {

      if (arg instanceof MIDI) return new MIDI(arg);

      var arr = arg instanceof Array ? arg : arguments;

      var ff = _8b(arr[0]);

      var dd = '';

      if (arr.length == 2) dd = _2s(arr[1]);

      else if (arr.length > 2) dd = _2s(Array.prototype.slice.call(arr, 1));

      return _smf(ff, dd);

    },

    smfSeqNumber: function(dd) {

      if (dd == parseInt(dd)) {

        if (dd < 0 || dd > 0xffff) throw RangeError('Sequence number out of range: ' + dd);

        dd = String.fromCharCode(dd >> 8) + String.fromCharCode(dd & 0xff);

      }

      else {

        dd = '' + dd;

        if (dd.length == 0) dd = '\\x00\\x00';

        else if (dd.length == 1) dd = '\\x00' + dd;

        else if (dd.length > 2) throw RangeError('Sequence number out of range' + _smftxt(dd));

      }

      return _smf(0, dd);

    },

    smfText: function(dd) { return _smf(1, JZZ.lib.toUTF8(dd)); },

    smfCopyright: function(dd) { return _smf(2, JZZ.lib.toUTF8(dd)); },

    smfSeqName: function(dd) { return _smf(3, JZZ.lib.toUTF8(dd)); },

    smfInstrName: function(dd) { return _smf(4, JZZ.lib.toUTF8(dd)); },

    smfLyric: function(dd) { return _smf(5, JZZ.lib.toUTF8(dd)); },

    smfMarker: function(dd) { return _smf(6, JZZ.lib.toUTF8(dd)); },

    smfCuePoint: function(dd) { return _smf(7, JZZ.lib.toUTF8(dd)); },

    smfProgName: function(dd) { return _smf(8, JZZ.lib.toUTF8(dd)); },

    smfDevName: function(dd) { return _smf(9, JZZ.lib.toUTF8(dd)); },

    smfChannelPrefix: function(dd) {

      if (dd == parseInt(dd)) {

        _validateChannel(dd);

        dd = String.fromCharCode(dd);

      }

      else {

        dd = '' + dd;

        if (dd.length == 0) dd = '\\x00';

        else if (dd.length > 1 || dd.charCodeAt(0) > 15) throw RangeError('Channel number out of range' + _smftxt(dd));

      }

      return _smf(32, dd);

    },

    smfMidiPort: function(dd) {

      if (dd == parseInt(dd)) {

        if (dd < 0 || dd > 127) throw RangeError('Port number out of range: ' + dd);

        dd = String.fromCharCode(dd);

      }

      else {

        dd = '' + dd;

        if (dd.length == 0) dd = '\\x00';

        else if (dd.length > 1 || dd.charCodeAt(0) > 127) throw RangeError('Port number out of range' + _smftxt(dd));

      }

      return _smf(33, dd);

    },

    smfEndOfTrack: function(dd) {

      if (_2s(dd) != '') throw RangeError('Unexpected data' + _smftxt(_2s(dd)));

      return _smf(47);

    },

    smfTempo: function(dd) { // microseconds per quarter note

      if (('' + dd).length == 3) return _smf(81, dd);

      if (dd == parseInt(dd) && dd > 0 && dd <= 0xffffff) {

        return _smf(81, String.fromCharCode(dd >> 16) + String.fromCharCode((dd >> 8) & 0xff) + String.fromCharCode(dd & 0xff));

      }

      throw RangeError('Out of range' + _smftxt(_2s(dd)));

    },

    smfBPM: function(bpm) { return _helperSMF.smfTempo(Math.round(60000000.0 / bpm)); },

    smfSMPTE: function(dd) {

      if (dd instanceof SMPTE) return _smf(84, String.fromCharCode(dd.hour) + String.fromCharCode(dd.minute) + String.fromCharCode(dd.second) + String.fromCharCode(dd.frame) + String.fromCharCode((dd.quarter % 4) * 25));

      var s = '' + dd;

      if (s.length == 5) {

        return _smf(84, dd);

      }

      var arr = dd instanceof Array ? dd : Array.prototype.slice.call(arguments);

      arr.splice(0, 0, 30);

      return _helperSMF.smfSMPTE(new SMPTE(arr));

    },

    smfTimeSignature: function(a, b, c, d) {

      var nn, dd, cc, bb;

      var m = ('' + a ).match(/^\\s*(\\d+)\\s*\\/\\s*(\\d+)\\s*$/);

      if (m) {

        nn = parseInt(m[1]);

        dd = parseInt(m[2]);

        if (nn > 0 && nn < 0x100 && dd > 0 && !(dd & (dd - 1))) {

          cc = dd; dd = 0;

          for (cc >>= 1; cc; cc >>= 1) dd++;

          cc = b == parseInt(b) ? b : 24;

          bb = c == parseInt(c) ? c : 8;

          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));

        }

        else if (('' + a ).length == 4) return _smf(88, a);

      }

      else if (a == parseInt(a) && b == parseInt(b)) {

        if (a > 0 && a < 0x100 && b > 0 && !(b & (b - 1))) {

          nn = a;

          dd = 0;

          cc = b;

          for (cc >>= 1; cc; cc >>= 1) dd++;

          cc = c == parseInt(c) ? c : 24;

          bb = d == parseInt(d) ? d : 8;

          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));

        }

        else if (('' + a ).length == 4) return _smf(88, a);

        a = a + '/' + b;

      }

      else if (('' + a ).length == 4) return _smf(88, a);

      throw RangeError('Wrong time signature' + _smftxt(_2s('' + a)));

    },

    smfKeySignature: function(dd) {

      dd = '' + dd;

      var m = dd.match(/^\\s*([A-H][b#]?)\\s*(|maj|major|dur|m|min|minor|moll)\\s*$/i);

      if (m) {

        var sf = {

          CB: 0, GB: 1, DB: 2, AB: 3, EB: 4, BB: 5, F: 6, C: 7, G: 8, D: 9, A: 10,

          E:11, B: 12, H: 12, 'F#': 13, 'C#': 14, 'G#': 15, 'D#': 16, 'A#': 17

        }[m[1].toUpperCase()];

        var mi = { '': 0, MAJ: 0, MAJOR: 0, DUR: 0, M: 1, MIN: 1, MINOR: 1, MOLL: 1}[m[2].toUpperCase()];

        if (typeof sf != 'undefined' && typeof mi != 'undefined') {

          if (mi) sf -= 3;

          sf -= 7;

          if (sf >= -7 && sf < 0) dd = String.fromCharCode(256 + sf) + String.fromCharCode(mi);

          else if (sf >= 0 && sf <= 7) dd = String.fromCharCode(sf) + String.fromCharCode(mi);

        }

      }

      if (dd.length == 2 && dd.charCodeAt(1) <= 1 && (dd.charCodeAt(0) <= 7 || dd.charCodeAt(0) <= 255 && dd.charCodeAt(0) >= 249)) return _smf(89, dd);

      throw RangeError('Incorrect key signature' + _smftxt(dd));

    },

    smfSequencer: function(dd) { return _smf(127, _2s(dd)); }

  };



  var _helpers = {};

  function _copyHelperNC(name, func) {

    MIDI[name] = function() { return new MIDI(func.apply(this, arguments)); };

    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };

  }

  function _copyHelperSMF(name, func) {

    MIDI[name] = function() { return func.apply(this, arguments); };

    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };

  }

  function _copyHelperGNC(name, func) {

    MIDI[name] = function() {

      var i;

      var g = [];

      var a = func.apply(this, arguments);

      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));

      return g;

    };

    _helpers[name] = function() {

      var a = func.apply(this, arguments);

      var g = this;

      for (var i = 0; i < a.length; i++) g = g.send(a[i]);

      return g;

    };

  }

  function _copyHelperMPE(name, func) {

    MIDI[name] = function() {

      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));

    };

    _helpers[name] = function() {

      if (typeof this._master != 'undefined') {

        var msg = new MIDI(func.apply(this, [this._master].concat(Array.prototype.slice.call(arguments))));

        msg._mpe = msg[1];

        return this.send(msg);

      }

      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));

    };

  }

  function _copyHelperCH(name, func) {

    MIDI[name] = function() {

      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));

    };

    _helpers[name] = function() {

      if (typeof this._master != 'undefined') {

        var chan;

        var args = Array.prototype.slice.call(arguments);

        if (args.length < func.length) args = [this._master].concat(args);

        else {

          chan = _7bn(args[0]);

          args[0] = this._master;

        }

        var msg = new MIDI(func.apply(this, args));

        msg._mpe = chan;

        return this.send(msg);

      }

      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));

    };

  }

  function _copyHelperGCH(name, func) {

    MIDI[name] = function() {

      var i;

      var g = [];

      var a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));

      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));

      return g;

    };

    _helpers[name] = function() {

      var i;

      var a;

      var g;

      if (typeof this._master != 'undefined') {

        var chan;

        var args = Array.prototype.slice.call(arguments);

        if (args.length < func.length) args = [this._master].concat(args);

        else {

          chan = _7bn(args[0]);

          args[0] = this._master;

        }

        a = func.apply(this, args);

        g = this;

        for (i = 0; i < a.length; i++) {

          var msg = MIDI(a[i]);

          msg._mpe = chan;

          g = g.send(msg);

        }

        return g;

      }

      a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));

      g = this;

      for (i = 0; i < a.length; i++) g = g.send(a[i]);

      return g;

    };

  }



  _for(_helperNC, function(n) { _copyHelperNC(n, _helperNC[n]); });

  _for(_helperSMF, function(n) { _copyHelperSMF(n, _helperSMF[n]); });

  _for(_helperGNC, function(n) { _copyHelperGNC(n, _helperGNC[n]); });

  _for(_helperMPE, function(n) { _copyHelperMPE(n, _helperMPE[n]); });

  _for(_helperCH, function(n) { _copyHelperCH(n, _helperCH[n]); });

  _for(_helperGCH, function(n) { _copyHelperGCH(n, _helperGCH[n]); });



  function _copyMidiHelpers(M) {

    _for(_helpers, function(n) { M.prototype[n] = _helpers[n]; });

  }

  _copyMidiHelpers(_M);



  var _channelMap = { a:10, b:11, c:12, d:13, e:14, f:15, A:10, B:11, C:12, D:13, E:14, F:15 };

  for (k = 0; k < 16; k++) _channelMap[k] = k;

  MIDI.prototype.getChannel = function() {

    if (this.ff == 0x20 && this.dd.length == 1 && this.dd.charCodeAt(0) < 16) return this.dd.charCodeAt(0);

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0xef) return;

    return c & 15;

  };

  MIDI.prototype.setChannel = function(x) {

    x = _channelMap[x];

    if (typeof x == 'undefined') return this;

    if (this.ff == 0x20) this.dd = String.fromCharCode(x);

    else {

      var c = this[0];

      if (typeof c != 'undefined' && c >= 0x80 && c <= 0xef) this[0] = (c & 0xf0) | x;

    }

    return this;

  };

  MIDI.prototype.getNote = function() {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return;

    return this[1];

  };

  MIDI.prototype.setNote = function(x) {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return this;

    x = MIDI.noteValue(x);

    if (typeof x != 'undefined') this[1] = x;

    return this;

  };

  MIDI.prototype.getVelocity = function() {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return;

    return this[2];

  };

  MIDI.prototype.setVelocity = function(x) {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return this;

    x = parseInt(x);

    if (x >= 0 && x < 128) this[2] = x;

    return this;

  };

  MIDI.prototype.getSysExId = function() {

    if (this[0] == 0xf0) return this[2];

  };

  MIDI.prototype.setSysExId = function(x) {

    if (this[0] == 0xf0 && this.length > 2) {

      x = parseInt(x);

      if (x >= 0 && x < 128) this[2] = x;

    }

    return this;

  };

  MIDI.prototype.getData = function() {

    if (typeof this.dd != 'undefined') return this.dd.toString();

  };

  MIDI.prototype.setData = function(dd) {

    this.dd = _2s(dd);

    return this;

  };

  function _is_yamaha_smf(ff, dd) { return ff == 0x7f && typeof dd != 'undefined' && dd.charCodeAt(0) == 0x43 && dd.charCodeAt(1) == 0x7b; }

  function _is_yamaha_chord(ff, dd) { return _is_yamaha_smf(ff, dd) && dd.charCodeAt(2) == 1; }

  function _yamaha_chord(a, b) {

    if (a >= 0 && a <= 0x7f && b >= 0 && b <= 0x7f) {

      var c = a & 0xf;

      var d = a >> 4;

      if (c > 0 && c < 8 && d < 7) c = ['C', 'D', 'E', 'F', 'G', 'A', 'B'][c - 1] + ['bbb', 'bb', 'b', '', '#', '##', '###'][d];

      else return '-';

      if (b > 34) return c + '?';

      else return c + [

        '', '6', 'Maj7', 'Maj7(#11)', '(9)', 'Maj7(9)', '6(9)', 'aug', 'm', 'm6', 'm7', 'm7b5',

        'm(9)', 'm7(9)', 'm7(11)', 'm+7', 'm+7(9)', 'dim', 'dim7', '7', '7sus4', '7b5', '7(9)',

        '7(#11)', '7(13)', '7(b9)', '7(b13)', '7(#9)', 'Maj7aug', '7aug', '1+8', '1+5', 'sus4', '1+2+5', 'cc'][b];

    }

    return '-';

  }

  MIDI.prototype.getText = function() {

    if (typeof this.dd != 'undefined') {

      if (_is_yamaha_chord(this.ff, this.dd)) return _yamaha_chord(this.dd.charCodeAt(3), this.dd.charCodeAt(4));

      else return JZZ.lib.fromUTF8(this.dd);

    }

    if (this.isMidiSoft()) {

      var s = [];

      for (var i = 6; i < this.length - 1; i++) s.push(String.fromCharCode(this[i]));

      return s.join('');

    }

  };

  MIDI.prototype.setText = function(dd) {

    this.dd = JZZ.lib.toUTF8(dd);

    return this;

  };

  MIDI.prototype.getTempo = function() {

    if (this.ff == 0x51 && typeof this.dd != 'undefined') {

      return this.dd.charCodeAt(0) * 65536 + this.dd.charCodeAt(1) * 256 + this.dd.charCodeAt(2);

    }

  };

  MIDI.prototype.getBPM = function() {

    var ms = this.getTempo();

    if (ms) return 60000000 / ms;

  };

  MIDI.prototype.getTimeSignature = function() {

    if (this.ff == 0x58 && typeof this.dd != 'undefined') {

       return [this.dd.charCodeAt(0), 1 << this.dd.charCodeAt(1)];

    }

  };

  MIDI.prototype.getKeySignature = function() {

    if (this.ff == 0x59 && typeof this.dd != 'undefined') {

      var sf = this.dd.charCodeAt(0);

      var mi = this.dd.charCodeAt(1);

      if (sf & 0x80) sf = sf - 0x100;

      if (sf >= -7 && sf <= 7 && mi >= 0 && mi <= 1) {

        return [sf,

          ['Cb', 'Gb', 'Db', 'Ab', 'Eb', 'Bb', 'F', 'C', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#', 'G#', 'D#', 'A#'][mi ? sf + 10 : sf + 7],

          !!mi

        ];

      }

    }

  };



  MIDI.prototype.isNoteOn = function() {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x90 || c > 0x9f) return false;

    return this[2] > 0 ? true : false;

  };

  MIDI.prototype.isNoteOff = function() {

    var c = this[0];

    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return false;

    if (c < 0x90) return true;

    return this[2] == 0 ? true : false;

  };

  MIDI.prototype.isSysEx = function() {

    return this[0] == 0xf0;

  };

  MIDI.prototype.isFullSysEx = function() {

    return this[0] == 0xf0 && this[this.length - 1] == 0xf7;

  };

  MIDI.prototype.isMidiSoft = function() {

    return this.isFullSysEx() && this[1] == 0 && this[2] == 0x20 && this[3] == 0x24 && this[4] == 0;

  };

  MIDI.prototype.isSMF = function() {

    return this.ff >= 0 && this.ff <= 0x7f;

  };

  MIDI.prototype.isEOT = function() {

    return this.ff == 0x2f;

  };

  MIDI.prototype.isTempo = function() {

    return this.ff == 0x51;

  };

  MIDI.prototype.isTimeSignature = function() {

    return this.ff == 0x58;

  };

  MIDI.prototype.isKeySignature = function() {

    return this.ff == 0x59;

  };

  MIDI.prototype.isGmReset = function() {

    return this.match([0xf0, 0x7e, [0, 0], 0x09, [0, 0], 0xf7]);

  };

  MIDI.prototype.isGsReset = function() {

    return this.match([0xf0, 0x41, [0, 0], 0x42, 0x12, 0x40, 0, 0x7f, 0, 0x41, 0xf7]);

  };

  MIDI.prototype.isXgReset = function() {

    return this.match([0xf0, 0x43, [0x10, 0xf0], 0x4c, 0, 0, 0x7e, 0, 0xf7]);

  };

  MIDI.prototype.match = function(a, n) {

    var i, m;

    for (i = 0; i < a.length; i++) {

      m = a[i][1];

      if (typeof m == 'undefined') {

        if (this[i] != a[i]) return false;

      }

      else {

        if ((this[i] & m) != (a[i][0] & m)) return false;

      }

    }

    return true;

  };



  function _s2a(x) {

    var a = [];

    for (var i = 0; i < x.length; i++) {

      a[i] = x.charCodeAt(i);

    }

    return a;

  }

  function _a2s(x) {

    var a = '';

    for (var i = 0; i < x.length; i++) {

      a += String.fromCharCode(x[i]);

    }

    return a;

  }

  function _2s(x) {

    return x instanceof Array ? _a2s(x) : typeof x == 'undefined' ? '' : '' + x;

  }

  function _s2n(x) {

    var n = 0;

    for (var i = 0; i < x.length; i++) n = (n << 8) + x.charCodeAt(i);

    return n;

  }



  function __hex(x) { return (x < 16 ? '0' : '') + x.toString(16); }

  function _hex(x) {

    var a = [];

    for (var i = 0; i < x.length; i++) {

      a[i] = __hex(x[i]);

    }

    return a.join(' ');

  }

  function _toLine(s) {

    var out = '';

    for (var i = 0; i < s.length; i++) {

      if (s[i] == '\\n') out += '\\\\n';

      else if (s[i] == '\\r') out += '\\\\r';

      else if (s[i] == '\\t') out += '\\\\t';

      else if (s.charCodeAt(i) < 32) out += '\\\\x' + __hex(s.charCodeAt(i));

      else out += s[i];

    }

    return out;

  }

  function _smfhex(dd) {

    return dd.length ? ': ' + _hex(_s2a(dd)) : '';

  }

  function _smftxt(dd) {

    return dd.length ? ': ' + _toLine(JZZ.lib.fromUTF8(dd)) : '';

  }

  MIDI.prototype.label = function(s) {

    this.lbl = this.lbl ? this.lbl + ', ' + s : s;

    return this;

  };

  MIDI.prototype.toString = function() {

    return this.lbl ? this._str() + ' (' + this.lbl + ')' : this._str();

  };

  MIDI.prototype._str = function() {

    var s;

    var ss;

    if (!this.length) {

      if (typeof this.ff != 'undefined') {

        s = 'ff' + __hex(this.ff) + ' -- ';

        if (this.ff == 0) s += 'Sequence Number: ' + _s2n(this.dd);

        else if (this.ff > 0 && this.ff < 10) s += ['', 'Text', 'Copyright', 'Sequence Name', 'Instrument Name', 'Lyric', 'Marker', 'Cue Point', 'Program Name', 'Device Name'][this.ff] + _smftxt(this.dd);

        else if (this.ff == 32) s += 'Channel Prefix' + _smfhex(this.dd);

        else if (this.ff == 33) s += 'MIDI Port' + _smfhex(this.dd);

        else if (this.ff == 47) s += 'End of Track' + _smfhex(this.dd);

        else if (this.ff == 81) {

          var bpm = Math.round(this.getBPM() * 100) / 100;

          s += 'Tempo: ' + bpm + ' bpm';

        }

        else if (this.ff == 84) s += 'SMPTE Offset: ' + _smptetxt(_s2a(this.dd));

        else if (this.ff == 88) {

          var d = 1 << this.dd.charCodeAt(1);

          s += 'Time Signature: ' + this.dd.charCodeAt(0) + '/' + d;

          s += ' ' + this.dd.charCodeAt(2) + ' ' + this.dd.charCodeAt(3);

        }

        else if (this.ff == 89) {

          s += 'Key Signature: ';

          var ks = this.getKeySignature();

          if (ks) {

            s += ks[1];

            if (ks[2]) s += ' min';

          }

          else s+= 'invalid';

        }

        else if (this.ff == 127) {

          if (this.dd.charCodeAt(0) == 0x43) {

            if (this.dd.charCodeAt(1) == 0x7b) {

              s += '[XF:' + __hex(this.dd.charCodeAt(2)) + ']';

              ss = { 0: 'Version', 1: 'Chord', 2: 'Rehearsal Mark', 3: 'Phrase Mark', 4: 'Max Phrase Mark',

                5: 'Fingering Number', 12: 'Guide Track Flag', 16: 'Guitar Info', 18: 'Chord Voicing',

                127: 'XG Song Data Number' }[this.dd.charCodeAt(2)];

              s += ss ? ' ' + ss : '';

              s += ': ';

              if (this.dd.charCodeAt(2) == 0) {

                return s + this.dd.substr(3, 4) + ' ' + _hex(_s2a(this.dd.substr(7)));

              }

              if (this.dd.charCodeAt(2) == 1) {

                return s + this.getText();

              }

              return s + _hex(_s2a(this.dd.substr(3)));

            }

          }

          s += 'Sequencer Specific' + _smfhex(this.dd);

        }

        else s += 'SMF' + _smfhex(this.dd);

        return s;

      }

      return 'empty';

    }

    s = _hex(this);

    if (this[0] < 0x80) return s;

    ss = {

      241: 'MIDI Time Code',

      242: 'Song Position',

      243: 'Song Select',

      244: 'Undefined',

      245: 'Undefined',

      246: 'Tune request',

      248: 'Timing clock',

      249: 'Undefined',

      250: 'Start',

      251: 'Continue',

      252: 'Stop',

      253: 'Undefined',

      254: 'Active Sensing',

      255: 'Reset'

    }[this[0]];

    if (ss) return s + ' -- ' + ss;

    if (this.isMidiSoft()) {

      ss = _toLine(this.getText());

      if (ss) ss = ' ' + ss;

      return s + ' -- [K:' + __hex(this[5]) + ']' + ss;

    }

    var c = this[0] >> 4;

    ss = {8: 'Note Off', 10: 'Aftertouch', 12: 'Program Change', 13: 'Channel Aftertouch', 14: 'Pitch Wheel'}[c];

    if (ss) return s + ' -- ' + ss;

    if (c == 9) return s + ' -- ' + (this[2] ? 'Note On' : 'Note Off');

    if (c != 11) return s;

    ss = {

      0: 'Bank Select MSB',

      1: 'Modulation Wheel MSB',

      2: 'Breath Controller MSB',

      4: 'Foot Controller MSB',

      5: 'Portamento Time MSB',

      6: 'Data Entry MSB',

      7: 'Channel Volume MSB',

      8: 'Balance MSB',

      10: 'Pan MSB',

      11: 'Expression Controller MSB',

      12: 'Effect Control 1 MSB',

      13: 'Effect Control 2 MSB',

      16: 'General Purpose Controller 1 MSB',

      17: 'General Purpose Controller 2 MSB',

      18: 'General Purpose Controller 3 MSB',

      19: 'General Purpose Controller 4 MSB',

      31: 'Karaoke',

      32: 'Bank Select LSB',

      33: 'Modulation Wheel LSB',

      34: 'Breath Controller LSB',

      36: 'Foot Controller LSB',

      37: 'Portamento Time LSB',

      38: 'Data Entry LSB',

      39: 'Channel Volume LSB',

      40: 'Balance LSB',

      42: 'Pan LSB',

      43: 'Expression Controller LSB',

      44: 'Effect control 1 LSB',

      45: 'Effect control 2 LSB',

      48: 'General Purpose Controller 1 LSB',

      49: 'General Purpose Controller 2 LSB',

      50: 'General Purpose Controller 3 LSB',

      51: 'General Purpose Controller 4 LSB',

      64: 'Damper Pedal',

      65: 'Portamento',

      66: 'Sostenuto',

      67: 'Soft Pedal',

      68: 'Legato',

      69: 'Hold 2',

      70: 'Sound Variation',

      71: 'Filter Resonance',

      72: 'Release Time',

      73: 'Attack Time',

      74: 'Brightness',

      75: 'Decay Time',

      76: 'Vibrato Rate',

      77: 'Vibrato Depth',

      78: 'Vibrato Delay',

      79: 'Sound Controller 10',

      80: 'General Purpose Controller 5',

      81: 'General Purpose Controller 6',

      82: 'General Purpose Controller 7',

      83: 'General Purpose Controller 8',

      84: 'Portamento Control',

      88: 'High Resolution Velocity Prefix',

      91: 'Effects 1 Depth',

      92: 'Effects 2 Depth',

      93: 'Effects 3 Depth',

      94: 'Effects 4 Depth',

      95: 'Effects 5 Depth',

      96: 'Data Increment',

      97: 'Data Decrement',

      98: 'Non-Registered Parameter Number LSB',

      99: 'Non-Registered Parameter Number MSB',

      100: 'Registered Parameter Number LSB',

      101: 'Registered Parameter Number MSB',

      120: 'All Sound Off',

      121: 'Reset All Controllers',

      122: 'Local Control On/Off',

      123: 'All Notes Off',

      124: 'Omni Mode Off',

      125: 'Omni Mode On',

      126: 'Mono Mode On',

      127: 'Poly Mode On'

    }[this[1]];

    if (this[1] >= 64 && this[1] <= 69) ss += this[2] < 64 ? ' Off' : ' On';

    if (!ss) ss = 'Undefined';

    return s + ' -- ' + ss;

  };

  MIDI.prototype._stamp = function(obj) { this._from.push(obj._orig ? obj._orig : obj); return this; };

  MIDI.prototype._unstamp = function(obj) {

    if (typeof obj == 'undefined') this._from = [];

    else {

      if (obj._orig) obj = obj._orig;

      var i = this._from.indexOf(obj);

      if (i > -1) this._from.splice(i, 1);

    }

    return this;

  };

  MIDI.prototype._stamped = function(obj) {

    if (obj._orig) obj = obj._orig;

    for (var i = 0; i < this._from.length; i++) if (this._from[i] == obj) return true;

    return false;

  };



  JZZ.MIDI = MIDI;

  _J.prototype.MIDI = MIDI;



  function _clear_ctxt() {

    var i;

    this._cc = [];

    for (i = 0; i < 16; i++) this._cc[i] = {};

  }

  function _rpn_txt(msb, lsb) {

    var a = typeof msb == 'undefined' ? '??' : __hex(msb);

    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);

    var c = {

      '0000': 'Pitch Bend Sensitivity',

      '0001': 'Channel Fine Tune',

      '0002': 'Channel Coarse Tune',

      '0003': 'Select Tuning Program',

      '0004': 'Select Tuning Bank',

      '0005': 'Vibrato Depth Range',

      '7f7f': 'NONE'

    }[a + '' + b];

    return 'RPN ' + a + ' ' + b + (c ? ': ' + c : '');

  }

  function _nrpn_txt(msb, lsb) {

    var a = typeof msb == 'undefined' ? '??' : __hex(msb);

    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);

    return 'NRPN ' + a + ' ' + b;

  }

  function _read_ctxt(msg) {

    if (!msg.length || msg[0] < 0x80) return msg;

    if (msg[0] == 0xff) { this._clear(); return msg; }

    var ch = msg[0] & 15;

    var st = msg[0] >> 4;

    if (st == 12) {

      msg._bm = this._cc[ch].bm;

      msg._bl = this._cc[ch].bl;

      if (JZZ.MIDI.programName) msg.label(JZZ.MIDI.programName(msg[1], msg._bm, msg._bl));

    }

    else if (st == 11) {

      switch (msg[1]) {

        case 0: this._cc[ch].bm = msg[2]; break;

        case 32: this._cc[ch].bl = msg[2]; break;

        case 98: this._cc[ch].nl = msg[2]; this._cc[ch].rn = 'n'; break;

        case 99: this._cc[ch].nm = msg[2]; this._cc[ch].rn = 'n'; break;

        case 100: this._cc[ch].rl = msg[2]; this._cc[ch].rn = 'r'; break;

        case 101: this._cc[ch].rm = msg[2]; this._cc[ch].rn = 'r'; break;

        case 6: case 38: case 96: case 97:

          if (this._cc[ch].rn == 'r') {

            msg._rm = this._cc[ch].rm;

            msg._rl = this._cc[ch].rl;

            msg.label(_rpn_txt(this._cc[ch].rm, this._cc[ch].rl));

          }

          if (this._cc[ch].rn == 'n') {

            msg._nm = this._cc[ch].rm;

            msg._nl = this._cc[ch].nl; 

            msg.label(_nrpn_txt(this._cc[ch].nm, this._cc[ch].nl));

          }

          break;

      }

    }

    else if (msg.isFullSysEx()) {

      if (msg[1] == 0x7f) {

        if (msg[3] == 4) {

          if (msg[4] == 1) msg.label('Master Volume');

          else if (msg[4] == 2) msg.label('Master Balance');

        }

      }

      else if (msg[1] == 0x7e) {

        if (msg[3] == 6) {

          if (msg[4] == 1) msg.label('Device ID Request');

          else if (msg[4] == 2) {

            msg.label('Device ID Response');

          }

        }

        else if (msg[3] == 9) {

          if (msg[4] == 1) { msg.label('GM1 System On'); this._clear(); this._gm = '1'; }

          else if (msg[4] == 2) { msg.label('GM System Off'); this._clear(); this._gm = '0'; }

          else if (msg[4] == 3) { msg.label('GM2 System On'); this._clear(); this._gm = '2'; }

        }

      }

      else if (msg[1] == 0x43) {

        if ((msg[2] & 0xf0) == 0x10 && msg[3] == 0x4c && msg[4] == 0 && msg[5] == 0 && msg[6] == 0x7e && msg[7] == 0) {

          msg.label('XG System On'); this._clear(); this._gm = 'Y';

        }

      }

      else if (msg[1] == 0x41) {

        if (msg[3] == 0x42 && msg[4] == 0x12 && msg[5] == 0x40 && msg[6] == 0 && msg[7] == 0x7f && msg[8] == 0 && msg[9] == 0x41) {

          msg.label('GS Reset'); this._clear(); this._gm = 'R';

        }

      }

    }

    return msg;

  }

  function Context() {

    var self = new _M();

    self._clear = _clear_ctxt;

    self._read = _read_ctxt;

    self._receive = function(msg) { this._emit(this._read(msg)); };

    self._clear();

    self._resume();

    return self;

  }

  JZZ.Context = Context;

  _J.prototype.Context = Context;



  function MPE() {

    var self = this instanceof MPE ? this : self = new MPE();

    self.reset();

    if (arguments.length) MPE.prototype.setup.apply(self, arguments);

    return self;

  }

  MPE.validate = function(arg) {

    var a = arg instanceof Array ? arg : arguments;

    if (a[0] != parseInt(a[0]) || a[0] < 0 || a[0] > 14) throw RangeError('Bad master channel value: ' + a[0]);

    if (a[1] != parseInt(a[1]) || a[1] < 0 || a[0] + a[1] > 15) throw RangeError('Bad zone size value: ' + a[1]);

  };

  MPE.prototype.reset = function() { for (var n = 0; n < 16; n++) this[n] = { band: 0, master: n }; };

  MPE.prototype.setup = function(m, n) {

    MPE.validate(m, n);

    var k;

    var last = m + n;

    if (this[m].master == m && this[m].band == n) return;

    if (!n && !this[m].band) return;

    if (this[m].band) {

      k = m + this[m].band;

      if (last < k) last = k;

    }

    else if (this[m].master == m - 1) {

      k = m - 1;

      k = k + this[k].band;

      if (last < k) last = k;

      this[m - 1] = { band: 0, master: m - 1 };

    }

    else if (this[m].master != m) {

      k = this[m].master;

      k = k + this[k].band;

      if (last < k) last = k;

      this[this[m].master].band = m - this[m].master - 1;

    }

    this[m].master = m;

    this[m].band = n;

    for (k = m + 1; k <= m + n; k++) {

      if (this[k].band && last < k + this[k].band) last = k + this[k].band;

      this[k] = { band: 0, master: m };

    }

    for (; k <= last; k++) this[k] = { band: 0, master: k };

  };

  MPE.prototype.filter = function(msg) {

    var c = msg.getChannel();

    if (!this[c] || !this[this[c].master].band) return msg;

    var m = this[c].master;

    var n = this[m].band;

    var i, j, k;

    if (typeof msg._mpe != 'undefined') {

      k = 256;

      for (i = m + 1; i <= m + n; i++) {

        if (!this[i].notes) {

          if (k > 0) { c = i; k = 0; }

        }

        else {

          if (k > this[i].notes.length) { c = i; k = this[i].notes.length; }

          for (j = 0; j < this[i].notes.length; j++) {

            if (this[i].notes[j] == msg._mpe) { c = i; k = -1; break; }

          }

        }

      }

      msg.setChannel(c);

      msg._mpe = undefined;

    }

    if (c == m) return msg; // bad mpe

    if (msg.isNoteOn()) {

      if (!this[c].notes) this[c].notes = [];

      _push(this[c].notes, msg.getNote());

    }

    else if (msg.isNoteOff()) {

      if (this[c].notes) _pop(this[c].notes, msg.getNote());

    }

    return msg;

  };

  JZZ.MPE = MPE;



  JZZ.lib = {};

  JZZ.lib.now = _now;

  JZZ.lib.schedule = _schedule;

  JZZ.lib.openMidiOut = function(name, engine) {

    var port = new _M();

    engine._openOut(port);

    port._info = engine._info(name);

    return port;

  };

  JZZ.lib.openMidiIn = function(name, engine) {

    var port = new _M();

    engine._openIn(port);

    port._info = engine._info(name);

    return port;

  };

  JZZ.lib.registerMidiOut = function(name, engine) {

    var x = engine._info(name);

    for (var i = 0; i < _virtual._outs.length; i++) if (_virtual._outs[i].name == x.name) return false;

    x.engine = engine;

    _virtual._outs.push(x);

    if (_jzz) {

      _postRefresh();

      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }

    }

    return true;

  };

  JZZ.lib.registerMidiIn = function(name, engine) {

    var x = engine._info(name);

    for (var i = 0; i < _virtual._ins.length; i++) if (_virtual._ins[i].name == x.name) return false;

    x.engine = engine;

    _virtual._ins.push(x);

    if (_jzz) {

      _postRefresh();

      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }

    }

    return true;

  };

  var _ac;

  function _initAudioContext() {

    if (!_ac && typeof window !== 'undefined') {

      var AudioContext = window.AudioContext || window.webkitAudioContext;

      if (AudioContext) {

        _ac = new AudioContext();

        if (_ac && !_ac.createGain) _ac.createGain = _ac.createGainNode;

        var _activateAudioContext = function() {

          if (_ac.state != 'running') {

            _ac.resume();

            var osc = _ac.createOscillator();

            var gain = _ac.createGain();

            try { gain.gain.value = 0; } catch (err) {}

            gain.gain.setTargetAtTime(0, _ac.currentTime, 0.01);

            osc.connect(gain);

            gain.connect(_ac.destination);

            if (!osc.start) osc.start = osc.noteOn;

            if (!osc.stop) osc.stop = osc.noteOff;

            osc.start(0.1); osc.stop(0.11);

          }

          else {

            document.removeEventListener('touchstart', _activateAudioContext);

            document.removeEventListener('touchend', _activateAudioContext);

            document.removeEventListener('mousedown', _activateAudioContext);

            document.removeEventListener('keydown', _activateAudioContext);

          }

        };

        document.addEventListener('touchstart', _activateAudioContext);

        document.addEventListener('touchend', _activateAudioContext);

        document.addEventListener('mousedown', _activateAudioContext);

        document.addEventListener('keydown', _activateAudioContext);

        _activateAudioContext();

      }

    }

  }

  JZZ.lib.copyMidiHelpers = _copyMidiHelpers;

  JZZ.lib.getAudioContext = function() { _initAudioContext(); return _ac; };

  var _b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

  JZZ.lib.fromBase64 = function(input) {

    var output = '';

    var chr1, chr2, chr3;

    var enc1, enc2, enc3, enc4;

    var i = 0;

    input = input.replace(/[^A-Za-z0-9+/=]/g, '');

    while (i < input.length) {

      enc1 = _b64.indexOf(input.charAt(i++));

      enc2 = _b64.indexOf(input.charAt(i++));

      enc3 = _b64.indexOf(input.charAt(i++));

      enc4 = _b64.indexOf(input.charAt(i++));

      chr1 = (enc1 << 2) | (enc2 >> 4);

      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);

      chr3 = ((enc3 & 3) << 6) | enc4;

      output = output + String.fromCharCode(chr1);

      if (enc3 != 64) {

        output = output + String.fromCharCode(chr2);

      }

      if (enc4 != 64) {

        output = output + String.fromCharCode(chr3);

      }

    }

    return output;

  };

  JZZ.lib.toBase64 = function(data) {

    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc = '', arr = [];

    if (!data) return data;

    do {

      o1 = data.charCodeAt(i++);

      o2 = data.charCodeAt(i++);

      o3 = data.charCodeAt(i++);

      bits = o1 << 16 | o2 << 8 | o3;

      h1 = bits >> 18 & 0x3f;

      h2 = bits >> 12 & 0x3f;

      h3 = bits >> 6 & 0x3f;

      h4 = bits & 0x3f;

      arr[ac++] = _b64.charAt(h1) + _b64.charAt(h2) + _b64.charAt(h3) + _b64.charAt(h4);

    } while(i < data.length);

    enc = arr.join('');

    var r = data.length % 3;

    return (r ? enc.slice(0, r - 3) + '==='.slice(r) : enc);

  };

  JZZ.lib.fromUTF8 = function(data) {

    data = typeof data == 'undefined' ? '' : '' + data;

    var out = '';

    var i, n, m;

    for (i = 0; i < data.length; i++) {

      n = data.charCodeAt(i);

      if (n > 0xff) return data;

      if (n < 0x80) out += data[i];

      else if ((n & 0xe0) == 0xc0) {

        n = (n & 0x1f) << 6;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f);

        out += String.fromCharCode(n);

      }

      else if ((n & 0xf0) == 0xe0) {

        n = (n & 0x0f) << 12;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f) << 6;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f);

        out += String.fromCharCode(n);

      }

      else if ((n & 0xf8) == 0xf0) {

        n = (n & 0x07) << 18;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f) << 12;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f) << 6;

        i++; if (i >= data.length) return data;

        m = data.charCodeAt(i);

        if ((m & 0xc0) != 0x80) return data;

        n += (m & 0x3f);

        if (n > 0x10ffff) return data;

        n -= 0x10000;

        out += String.fromCharCode(0xd800 + (n >> 10));

        out += String.fromCharCode(0xdc00 + (n & 0x3ff));

      }

    }

    return out;

  };

  JZZ.lib.toUTF8 = function(data) {

    data = typeof data == 'undefined' ? '' : '' + data;

    var out = '';

    var i, n;

    for (i = 0; i < data.length; i++) {

      n = data.charCodeAt(i);

      if (n < 0x80) out += data[i];

      else if (n < 0x800) {

        out += String.fromCharCode(0xc0 + (n >> 6));

        out += String.fromCharCode(0x80 + (n & 0x3f));

      }

      else if (n < 0x10000) {

        out += String.fromCharCode(0xe0 + (n >> 12));

        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));

        out += String.fromCharCode(0x80 + (n & 0x3f));

      }

      /* istanbul ignore next */

      else {

        out += String.fromCharCode(0xf0 + (n >> 18));

        out += String.fromCharCode(0x80 + ((n >> 12) & 0x3f));

        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));

        out += String.fromCharCode(0x80 + (n & 0x3f));

      }

    }

    return out;

  };



  // Web MIDI API

  var _wma = [];

  var _outputMap = {};

  var _inputMap = {};



  var Promise = _scope.Promise;

  /* istanbul ignore next */

  if (typeof Promise !== 'function') {

    Promise = function(executor) {

      this.executor = executor;

    };

    Promise.prototype.then = function(resolve, reject) {

      if (typeof resolve !== 'function') {

        resolve = _nop;

      }

      if (typeof reject !== 'function') {

        reject = _nop;

      }

      this.executor(resolve, reject);

    };

  }

  function DOMException(name, message, code) {

    this.name = name;

    this.message = message;

    this.code = code;

  }



  function MIDIConnectionEvent(port, target) {

    this.bubbles = false;

    this.cancelBubble = false;

    this.cancelable = false;

    this.currentTarget = target;

    this.defaultPrevented = false;

    this.eventPhase = 0;

    this.path = [];

    this.port = port;

    this.returnValue = true;

    this.srcElement = target;

    this.target = target;

    this.timeStamp = _now();

    this.type = 'statechange';

  }



  function MIDIMessageEvent(port, data) {

    this.bubbles = false;

    this.cancelBubble = false;

    this.cancelable = false;

    this.currentTarget = port;

    this.data = data;

    this.defaultPrevented = false;

    this.eventPhase = 0;

    this.path = [];

    this.receivedTime = _now();

    this.returnValue = true;

    this.srcElement = port;

    this.target = port;

    this.timeStamp = this.receivedTime;

    this.type = 'midimessage';

  }



  function _statechange(p, a) {

    if (p) {

      if (p.onstatechange) p.onstatechange(new MIDIConnectionEvent(p, p));

      if (a.onstatechange) a.onstatechange(new MIDIConnectionEvent(p, a));

    }

  }



  function MIDIInput(a, p) {

    var self = this;

    var _open = false;

    var _ochng = null;

    var _onmsg = null;

    this.type = 'input';

    this.id = p.id;

    this.name = p.name;

    this.manufacturer = p.man;

    this.version = p.ver;

    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });

    Object.defineProperty(this, 'connection', { get: function() {

      return _open ? p.proxy ? 'open' : 'pending' : 'closed';

    }, enumerable: true });

    Object.defineProperty(this, 'onmidimessage', {

      get: function() { return _onmsg; },

      set: function(value) {

        if (_func(value)) {

          _onmsg = value;

          if (!_open) self.open().then(_nop, _nop);

        }

        else _onmsg = null;

      },

      enumerable: true

    });

    Object.defineProperty(this, 'onstatechange', {

      get: function() { return _ochng; },

      set: function(value) {

        if (_func(value)) _ochng = value;

        else _ochng = null;

      },

      enumerable: true

    });

    this.open = function() {

      return new Promise(function(resolve, reject) {

        if (_open) resolve(self);

        else {

          p.open().then(function() {

            if (!_open) {

              _open = true;

              _statechange(self, a);

            }

            resolve(self);

          }, function() {

            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));

          });

        }

      });

    };

    this.close = function() {

      return new Promise(function(resolve/*, reject*/) {

        if (_open) {

          _open = false;

          p.close();

          _statechange(self, a);

        }

        resolve(self);

      });

    };

    Object.freeze(this);

  }



  function _split(q) {

    var i, k;

    while (q.length) {

      for (i = 0; i < q.length; i++) if (q[i] == parseInt(q[i]) && q[i] >= 0x80 && q[i] <= 0xff && q[i] != 0xf7) break;

      q.splice(0, i);

      if (!q.length) return;

      if (q[0] == 0xf0) {

        for (i = 1; i < q.length; i++) if (q[i] == 0xf7) break;

        if (i == q.length) return;

        return q.splice(0, i + 1);

      }

      else {

        k = _datalen(q[0]) + 1;

        if (k > q.length) return;

        for (i = 1; i < k; i++) if (q[i] != parseInt(q[i]) || q[i] < 0 || q[i] >= 0x80) break;

        if (i == k) return q.splice(0, i);

        else q.splice(0, i);

      }

    }

  }



  function _InputProxy(id, name, man, ver) {

    var self = this;

    this.id = id;

    this.name = name;

    this.man = man;

    this.ver = ver;

    this.connected = true;

    this.ports = [];

    this.pending = [];

    this.proxy = undefined;

    this.queue = [];

    this.onmidi = function(msg) {

      var m;

      self.queue = self.queue.concat(msg.slice());

      for (m = _split(self.queue); m; m = _split(self.queue)) {

        for (i = 0; i < self.ports.length; i++) {

          if (self.ports[i][0].onmidimessage && (m[0] != 0xf0 || self.ports[i][1])) {

            self.ports[i][0].onmidimessage(new MIDIMessageEvent(self, new Uint8Array(m)));

          }

        }

      }

    };

  }

  _InputProxy.prototype.open = function() {

    var self = this;

    return new Promise(function(resolve, reject) {

      var i;

      if (self.proxy || !self.connected) resolve();

      else {

        self.pending.push([resolve, reject]);

        if (self.pending.length == 1) {

          JZZ().openMidiIn(self.name).or(function() {

            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();

            self.pending = [];

          }).and(function() {

            self.proxy = this;

            self.proxy.connect(self.onmidi);

            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();

            self.pending = [];

          });

        }

      }

    });

  };

  _InputProxy.prototype.close = function() {

    var i;

    if (this.proxy) {

      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;

      this.proxy.close();

      this.proxy = undefined;

    }

  };

  _InputProxy.prototype.disconnect = function() {

    this.connected = false;

    if (this.proxy) {

      this.proxy.close();

      this.proxy = undefined;

    }

  };

  _InputProxy.prototype.reconnect = function() {

    var self = this;

    var i, p;

    var a = [];

    this.connected = true;

    for (i = 0; i < _wma.length; i++) {

      p = _wma[i].inputs.get(this.id);

      if (p.connection == 'closed') _statechange(p, _wma[i]);

      else a.push([p, _wma[i]]);

    }

    if (a.length) {

      JZZ()._openMidiInNR(self.name).or(function() {

        for (i = 0; i < a.length; i++) a[i][0].close();

      }).and(function() {

        self.proxy = this;

        self.proxy.connect(self.onmidi);

        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);

      });

    }

  };



  function _datalen(x) {

    if (x >= 0x80 && x <= 0xbf || x >= 0xe0 && x <= 0xef || x == 0xf2) return 2;

    if (x >= 0xc0 && x <= 0xdf || x == 0xf1 || x == 0xf3) return 1;

    return 0;

  }



  var _epr = \"Failed to execute 'send' on 'MIDIOutput': \";



  function _validate(arr, sysex) {

    var i, k;

    var msg;

    var data = [];

    for (i = 0; i < arr.length; i++) {

      if (arr[i] != parseInt(arr[i]) || arr[i] < 0 || arr[i] > 255) throw TypeError(_epr + arr[i] + ' is not a UInt8 value.');

    }

    k = 0;

    for (i = 0; i < arr.length; i++) {

      if (!k) {

        if (arr[i] < 0x80) throw TypeError(_epr + 'Running status is not allowed at index ' + i + ' (' + arr[i] + ').');

        if (arr[i] == 0xf7) throw TypeError(_epr + 'Unexpected end of system exclusive message at index ' + i + ' (' + arr[i] + ').');

        msg = [arr[i]];

        data.push(msg);

        if (arr[i] == 0xf0) {

          if (!sysex) throw new DOMException('InvalidAccessError', _epr + 'System exclusive messag is not allowed at index ' + i + ' (' + arr[i] + ').', 15);

          k = -1;

          for (; i < arr.length; i++) {

            msg.push(arr[i]);

            if (arr[i] == 0xf7) {

              k = 0;

              break;

            }

          }

        }

        else {

          k = _datalen(arr[i]);

        }

      }

      else {

        if (arr[i] > 0x7f) throw TypeError(_epr + 'Unexpected status byte at index ' + i + ' (' + arr[i] + ').');

        msg.push(arr[i]);

        k--;

      }

    }

    if (k) throw TypeError(_epr + 'Message is incomplete');

    return [data];

  }



  function MIDIOutput(a, p) {

    var self = this;

    var _open = false;

    var _ochng = null;

    this.type = 'output';

    this.id = p.id;

    this.name = p.name;

    this.manufacturer = p.man;

    this.version = p.ver;

    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });

    Object.defineProperty(this, 'connection', { get: function() {

      return _open ? p.proxy ? 'open' : 'pending' : 'closed';

    }, enumerable: true });

    Object.defineProperty(this, 'onstatechange', {

      get: function() { return _ochng; },

      set: function(value) {

        if (_func(value)) _ochng = value;

        else _ochng = null;

      },

      enumerable: true

    });

    this.open = function() {

      return new Promise(function(resolve, reject) {

        if (_open) resolve(self);

        else {

          p.open().then(function() {

            if (!_open) {

              _open = true;

              _statechange(self, a);

            }

            resolve(self);

          }, function() {

            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));

          });

        }

      });

    };

    this.close = function() {

      return new Promise(function(resolve/*, reject*/) {

        if (_open) {

          _open = false;

          self.clear();

          p.close();

          _statechange(self, a);

        }

        resolve(self);

      });

    };

    this.clear = function() {

    };

    this.send = function(data, timestamp) {

      _validate(data, a.sysexEnabled);

      if (!p.connected) throw new DOMException('InvalidStateError', 'Port is not connected', 11);

      if (_open) {

        var now = _now();

        if (timestamp > now) setTimeout(function() { p.proxy.send(data); }, timestamp - now);

        else p.proxy.send(data);

      }

      else this.open().then(function() { self.send(data, timestamp); }, _nop);

    };

    Object.freeze(this);

  }



  function _OutputProxy(id, name, man, ver) {

    this.id = id;

    this.name = name;

    this.man = man;

    this.ver = ver;

    this.connected = true;

    this.ports = [];

    this.pending = [];

    this.proxy = undefined;

  }

  _OutputProxy.prototype.open = function() {

    var self = this;

    return new Promise(function(resolve, reject) {

      var i;

      if (self.proxy || !self.connected) resolve();

      else {

        self.pending.push([resolve, reject]);

        if (self.pending.length == 1) {

          JZZ().openMidiOut(self.name).or(function() {

            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();

            self.pending = [];

          }).and(function() {

            self.proxy = this;

            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();

            self.pending = [];

          });

        }

      }

    });

  };

  _OutputProxy.prototype.close = function() {

    var i;

    if (this.proxy) {

      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;

      this.proxy.close();

      this.proxy = undefined;

    }

  };

  _OutputProxy.prototype.disconnect = function() {

    this.connected = false;

    if (this.proxy) {

      this.proxy.close();

      this.proxy = undefined;

    }

  };

  _OutputProxy.prototype.reconnect = function() {

    var self = this;

    var i, p;

    var a = [];

    this.connected = true;

    for (i = 0; i < _wma.length; i++) {

      p = _wma[i].outputs.get(this.id);

      if (p.connection == 'closed') _statechange(p, _wma[i]);

      else a.push([p, _wma[i]]);

    }

    if (a.length) {

      JZZ()._openMidiOutNR(self.name).or(function() {

        for (i = 0; i < a.length; i++) a[i][0].close();

      }).and(function() {

        self.proxy = this;

        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);

      });

    }

  };



  function _Maplike(data) {

    this.has = function(id) {

      return data.hasOwnProperty(id) && data[id].connected;

    };

    this.keys = function() {

      try { // some old browsers may have no Map object

        var m = new Map();

        for (var id in data) if (this.has(id)) m.set(id, this.get(id));

        return m.keys();

      } catch (e) {}

    };

    this.values = function() {

      try {

        var m = new Map();

        for (var id in data) if (this.has(id)) m.set(id, this.get(id));

        return m.values();

      } catch (e) {}

    };

    this.entries = function() {

      try {

        var m = new Map();

        for (var id in data) if (this.has(id)) m.set(id, this.get(id));

        return m.entries();

      } catch (e) {}

    };

    this.forEach = function(fun, self) {

      if (typeof self == 'undefined') self = this;

      for (var id in data) if (this.has(id)) fun.call(self, this.get(id), id, this);

    };

    Object.defineProperty(this, 'size', {

      get: function() {

        var len = 0;

        for (var id in data) if (this.has(id)) len++;

        return len;

      },

      enumerable: true

    });

  }



  function MIDIInputMap(_access, _inputs) {

    this.get = function(id) {

      if (_inputMap.hasOwnProperty(id) && _inputMap[id].connected) {

        if (!_inputs[id]) {

          _inputs[id] = new MIDIInput(_access, _inputMap[id]);

          _inputMap[id].ports.push([_inputs[id], _access.sysexEnabled]);

        }

        return _inputs[id];

      }

    };

    Object.freeze(this);

  }

  MIDIInputMap.prototype = new _Maplike(_inputMap);

  MIDIInputMap.prototype.constructor = MIDIInputMap;



  function MIDIOutputMap(_access, _outputs) {

    this.get = function(id) {

      if (_outputMap.hasOwnProperty(id) && _outputMap[id].connected) {

        if (!_outputs[id]) {

          _outputs[id] = new MIDIOutput(_access, _outputMap[id]);

          _outputMap[id].ports.push([_outputs[id], _access.sysexEnabled]);

        }

        return _outputs[id];

      }

    };

    Object.freeze(this);

  }

  MIDIOutputMap.prototype = new _Maplike(_outputMap);

  MIDIOutputMap.prototype.constructor = MIDIOutputMap;



  function _wm_watch(x) {

    var i, k, p, a;

    for (i = 0; i < x.inputs.added.length; i++) {

      p = x.inputs.added[i];

      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);

      _inputMap[p.id].reconnect();

    }

    for (i = 0; i < x.outputs.added.length; i++) {

      p = x.outputs.added[i];

      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);

      _outputMap[p.id].reconnect();

    }

    for (i = 0; i < x.inputs.removed.length; i++) {

      p = x.inputs.removed[i];

      if (_inputMap.hasOwnProperty(p.id)) {

        a = [];

        for (k = 0; k < _wma.length; k++) a.push([_wma[k].inputs.get(p.id), _wma[k]]);

        _inputMap[p.id].disconnect();

        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);

      }

    }

    for (i = 0; i < x.outputs.removed.length; i++) {

      p = x.outputs.removed[i];

      if (_outputMap.hasOwnProperty(p.id)) {

        a = [];

        for (k = 0; k < _wma.length; k++) a.push([_wma[k].outputs.get(p.id), _wma[k]]);

        _outputMap[p.id].disconnect();

        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);

      }

    }

  }



  function MIDIAccess(sysex) {

    var _inputs = {};

    var _outputs = {};

    var _onstatechange = null;

    var self = this;

    this.sysexEnabled = sysex;

    this.inputs = new MIDIInputMap(self, _inputs);

    this.outputs = new MIDIOutputMap(self, _outputs);

    Object.defineProperty(this, 'onstatechange', {

      get: function() { return _onstatechange; },

      set: function(f) { _onstatechange = _func(f) ? f : null; },

      enumerable: true

    });

    Object.freeze(this);

    var i;

    var p;

    var info = _jzz._info;

    for (i = 0; i < info.inputs.length; i++) {

      p = info.inputs[i];

      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);

    }

    for (i = 0; i < info.outputs.length; i++) {

      p = info.outputs[i];

      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);

    }

    if (!_wma.length) JZZ().onChange(_wm_watch);

    _wma.push(this);

  }



  JZZ.requestMIDIAccess = function(opt) {

    return new Promise(function(resolve, reject) {

      JZZ.JZZ(opt).or(function() {

      }).and(function() {

        var sysex = !!(opt && opt.sysex);

        if (sysex && !this.info().sysex) reject(new DOMException('SecurityError', 'Sysex is not allowed', 18));

        else {

          var wma = new MIDIAccess(sysex);

          resolve(wma);

        }

      });

    });

  };

  if (typeof navigator !== 'undefined' && !navigator.requestMIDIAccess) navigator.requestMIDIAccess = JZZ.requestMIDIAccess;

  JZZ.close = function() { if (_engine._close) _engine._close(); };



  return JZZ;

}function _Tiny() {



  if (!JZZ) return;

  if (!JZZ.synth) JZZ.synth = {};

  if (JZZ.synth.Tiny) return;



  var _version = '1.2.7';



function WebAudioTinySynth(opt){

  this.__proto__ = this.sy =

  /* webaudio-tynysynth core object */

  {

    is:\"webaudio-tinysynth\",

    properties:{

      masterVol:  {type:Number, value:0.5, observer:\"setMasterVol\"},

      reverbLev:  {type:Number, value:0.3, observer:\"setReverbLev\"},

      quality:    {type:Number, value:1, observer:\"setQuality\"},

      debug:      {type:Number, value:0},

      src:        {type:String, value:null, observer:\"loadMIDIUrl\"},

      loop:       {type:Number, value:0},

      //internalcontext: {type:Number, value:1},

      tsmode:     {type:Number, value:0},

      voices:     {type:Number, value:64},

      useReverb:  {type:Number, value:1},

      /**/

    },

    /**/

    program:[],

    drummap:[],

    program1:[

      // 1-8 : Piano

      [{w:\"sine\",v:.4,d:0.7,r:0.1,},{w:\"triangle\",v:3,d:0.7,s:0.1,g:1,a:0.01,k:-1.2}],

      [{w:\"triangle\",v:0.4,d:0.7,r:0.1,},{w:\"triangle\",v:4,t:3,d:0.4,s:0.1,g:1,k:-1,a:0.01,}],

      [{w:\"sine\",d:0.7,r:0.1,},{w:\"triangle\",v:4,f:2,d:0.5,s:0.5,g:1,k:-1}],

      [{w:\"sine\",d:0.7,v:0.2,},{w:\"triangle\",v:4,t:3,f:2,d:0.3,g:1,k:-1,a:0.01,s:0.5,}],

      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],

      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:8,t:7,f:1,d:0.5,s:1,g:1,k:-.7}],

      [{w:\"sawtooth\",v:0.34,d:2,},{w:\"sine\",v:8,f:0.1,d:2,s:1,r:2,g:1,}],

      [{w:\"triangle\",v:0.34,d:1.5,},{w:\"square\",v:6,f:0.1,d:1.5,s:0.5,r:2,g:1,}],

      /* 9-16 : Chromatic Perc*/

      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],

      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:11,t:6,d:0.2,s:0.4,g:1,}],

      [{w:\"sine\",v:0.2,d:0.3,r:0.3,},{w:\"sine\",v:11,t:5,d:0.1,s:0.4,g:1,}],

      [{w:\"sine\",v:0.2,d:0.6,r:0.6,},{w:\"triangle\",v:11,t:5,f:1,s:0.5,g:1,}],

      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:6,t:5,d:0.02,g:1,}],

      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],

      [{w:\"sine\",v:0.2,d:1,r:1,},{w:\"sine\",v:11,t:3.5,d:1,r:1,g:1,}],

      [{w:\"triangle\",v:0.2,d:0.5,r:0.2,},{w:\"sine\",v:6,t:2.5,d:0.2,s:0.1,r:0.2,g:1,}],

      /* 17-24 : Organ */

      [{w:\"w9999\",v:0.22,s:0.9,},{w:\"w9999\",v:0.22,t:2,f:2,s:0.9,}],

      [{w:\"w9999\",v:0.2,s:1,},{w:\"sine\",v:11,t:6,f:2,s:0.1,g:1,h:0.006,r:0.002,d:0.002,},{w:\"w9999\",v:0.2,t:2,f:1,h:0,s:1,}],

      [{w:\"w9999\",v:0.2,d:0.1,s:0.9,},{w:\"w9999\",v:0.25,t:4,f:2,s:0.5,}],

      [{w:\"w9999\",v:0.3,a:0.04,s:0.9,},{w:\"w9999\",v:0.2,t:8,f:2,a:0.04,s:0.9,}],

      [{w:\"sine\",v:0.2,a:0.02,d:0.05,s:1,},{w:\"sine\",v:6,t:3,f:1,a:0.02,d:0.05,s:1,g:1,}],

      [{w:\"triangle\",v:0.2,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:7,t:3,f:1,d:0.05,s:1.5,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:0.2,s:0.5,},{w:\"square\",v:1,d:0.03,s:2,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:0.1,s:0.8,},{w:\"square\",v:1,a:0.3,d:0.1,s:2,g:1,}],

      /* 25-32 : Guitar */

      [{w:\"sine\",v:0.3,d:0.5,f:1,},{w:\"triangle\",v:5,t:3,f:-1,d:1,s:0.1,g:1,}],

      [{w:\"sine\",v:0.4,d:0.6,f:1,},{w:\"triangle\",v:12,t:3,d:0.6,s:0.1,g:1,f:-1,}],

      [{w:\"triangle\",v:0.3,d:1,f:1,},{w:\"triangle\",v:6,f:-1,d:0.4,s:0.5,g:1,t:3,}],

      [{w:\"sine\",v:0.3,d:1,f:-1,},{w:\"triangle\",v:11,f:1,d:0.4,s:0.5,g:1,t:3,}],

      [{w:\"sine\",v:0.4,d:0.1,r:0.01},{w:\"sine\",v:7,g:1,}],

      [{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],

      [{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],//[{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.4,d:1,},{w:\"square\",v:4,f:2,d:1,s:0.7,g:1,}],

      [{w:\"sine\",v:0.2,t:1.5,a:0.005,h:0.2,d:0.6,},{w:\"sine\",v:11,t:5,f:2,d:1,s:0.5,g:1,}],

      /* 33-40 : Bass */

      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],

      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],

      [{w:\"w9999\",d:0.3,v:0.7,s:0.5,},{w:\"sawtooth\",v:1.2,d:0.02,s:0.5,g:1,h:0,r:0.02,}],

      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],

      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],

      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],

      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],

      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],

      /* 41-48 : Strings */

      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],

      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],

      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],

      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],

      [{w:\"sine\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:6,f:2.5,d:0.05,s:1.1,g:1,}],

      [{w:\"sine\",v:0.3,d:0.1,r:0.1,},{w:\"square\",v:4,t:3,d:1,s:0.2,g:1,}],

      [{w:\"sine\",v:0.3,d:0.5,r:0.5,},{w:\"sine\",v:7,t:2,f:2,d:1,r:1,g:1,}],

      [{w:\"triangle\",v:0.6,h:0.03,d:0.3,r:0.3,t:0.5,},{w:\"n0\",v:8,t:1.5,d:0.08,r:0.08,g:1,}],

      /* 49-56 : Ensamble */

      [{w:\"sawtooth\",v:0.3,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],

      [{w:\"sawtooth\",v:0.3,f:-2,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],

      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,t:2,f:2,a:1,d:1,s:1,}],

      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,f:2,a:0.02,d:1,s:1,}],

      [{w:\"triangle\",v:0.3,a:0.03,s:1,},{w:\"sine\",v:3,t:5,f:1,d:1,s:1,g:1,}],

      [{w:\"sine\",v:0.4,a:0.03,s:0.9,},{w:\"sine\",v:1,t:2,f:3,d:0.03,s:0.2,g:1,}],

      [{w:\"triangle\",v:0.6,a:0.05,s:0.5,},{w:\"sine\",v:1,f:0.8,d:0.2,s:0.2,g:1,}],

      [{w:\"square\",v:0.15,a:0.01,d:0.2,r:0.2,t:0.5,h:0.03,},{w:\"square\",v:4,f:0.5,d:0.2,r:11,a:0.01,g:1,h:0.02,},{w:\"square\",v:0.15,t:4,f:1,a:0.02,d:0.15,r:0.15,h:0.03,},{g:3,w:\"square\",v:4,f:-0.5,a:0.01,h:0.02,d:0.15,r:11,}],

      /* 57-64 : Brass */

      [{w:\"square\",v:0.2,a:0.01,d:1,s:0.6,r:0.04,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.2,a:0.04,d:1,s:0.4,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.15,a:0.04,s:1,},{w:\"sine\",v:2,d:0.1,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,r:0.08,},{w:\"sine\",v:1,f:0.2,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:0.5,s:0.7,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],

      /* 65-72 : Reed */

      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],

      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],

      [{w:\"sine\",v:0.4,a:0.02,d:0.7,s:0.5,},{w:\"square\",v:5,t:2,d:0.2,s:0.5,g:1,}],

      [{w:\"sine\",v:0.3,a:0.05,d:0.2,s:0.8,},{w:\"sawtooth\",v:6,f:0.1,d:0.1,s:0.3,g:1,}],

      [{w:\"sine\",v:0.3,a:0.03,d:0.2,s:0.4,},{w:\"square\",v:7,f:0.2,d:1,s:0.1,g:1,}],

      [{w:\"square\",v:0.2,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],

      /* 73-80 : Pipe */

      [{w:\"sine\",a:0.02,d:2,},{w:\"sine\",v:6,t:2,d:0.04,g:1,}],

      [{w:\"sine\",v:0.7,a:0.03,d:0.4,s:0.4,},{w:\"sine\",v:4,t:2,f:0.2,d:0.4,g:1,}],

      [{w:\"sine\",v:0.7,a:0.02,d:0.4,s:0.6,},{w:\"sine\",v:3,t:2,d:0,s:1,g:1,}],

      [{w:\"sine\",v:0.4,a:0.06,d:0.3,s:0.3,},{w:\"sine\",v:7,t:2,d:0.2,s:0.2,g:1,}],

      [{w:\"sine\",a:0.02,d:0.3,s:0.3,},{w:\"sawtooth\",v:3,t:2,d:0.3,g:1,}],

      [{w:\"sine\",v:0.4,a:0.02,d:2,s:0.1,},{w:\"sawtooth\",v:8,t:2,f:1,d:0.5,g:1,}],

      [{w:\"sine\",v:0.7,a:0.03,d:0.5,s:0.3,},{w:\"sine\",v:0.003,t:0,f:4,d:0.1,s:0.002,g:1,}],

      [{w:\"sine\",v:0.7,a:0.02,d:2,},{w:\"sine\",v:1,t:2,f:1,d:0.02,g:1,}],

      /* 81-88 : SynthLead */

      [{w:\"square\",v:0.3,d:1,s:0.5,},{w:\"square\",v:1,f:0.2,d:1,s:0.5,g:1,}],

      [{w:\"sawtooth\",v:0.3,d:2,s:0.5,},{w:\"square\",v:2,f:0.1,s:0.5,g:1,}],

      [{w:\"triangle\",v:0.5,a:0.05,d:2,s:0.6,},{w:\"sine\",v:4,t:2,g:1,}],

      [{w:\"triangle\",v:0.3,a:0.01,d:2,s:0.3,},{w:\"sine\",v:22,t:2,f:1,d:0.03,s:0.2,g:1,}],

      [{w:\"sawtooth\",v:0.3,d:1,s:0.5,},{w:\"sine\",v:11,t:11,a:0.2,d:0.05,s:0.3,g:1,}],

      [{w:\"sine\",v:0.3,a:0.06,d:1,s:0.5,},{w:\"sine\",v:7,f:1,d:1,s:0.2,g:1,}],

      [{w:\"sawtooth\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sawtooth\",v:0.3,t:0.75,d:0.7,a:0.1,s:0.3,r:0.2,}],

      [{w:\"triangle\",v:0.3,a:0.01,d:0.7,s:0.5,},{w:\"square\",v:5,t:0.5,d:0.7,s:0.5,g:1,}],

      /* 89-96 : SynthPad */

      [{w:\"triangle\",v:0.3,a:0.02,d:0.3,s:0.3,r:0.3,},{w:\"square\",v:3,t:4,f:1,a:0.02,d:0.1,s:1,g:1,},{w:\"triangle\",v:0.08,t:0.5,a:0.1,h:0,d:0.1,s:0.5,r:0.1,b:0,c:0,}],

      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.7,r:0.3,},{w:\"sine\",v:2,f:1,d:0.3,s:1,g:1,}],

      [{w:\"square\",v:0.3,a:0.03,d:0.5,s:0.3,r:0.1,},{w:\"square\",v:4,f:1,a:0.03,d:0.1,g:1,}],

      [{w:\"triangle\",v:0.3,a:0.08,d:1,s:0.3,r:0.1,},{w:\"square\",v:2,f:1,d:0.3,s:0.3,g:1,t:4,a:0.08,}],

      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sine\",v:0.1,t:2.001,f:1,d:1,s:50,g:1,}],

      [{w:\"triangle\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sine\",v:12,t:7,f:1,d:0.5,s:1.7,g:1,}],

      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sawtooth\",v:22,t:6,d:0.06,s:0.3,g:1,}],

      [{w:\"triangle\",v:0.3,a:0.05,d:11,r:0.3,},{w:\"triangle\",v:1,d:1,s:8,g:1,}],

      /* 97-104 : FX */

      [{w:\"sawtooth\",v:0.3,d:4,s:0.8,r:0.1,},{w:\"square\",v:1,t:2,f:8,a:1,d:1,s:1,r:0.1,g:1,}],

      [{w:\"triangle\",v:0.3,d:1,s:0.5,t:0.8,a:0.2,p:1.25,q:0.2,},{w:\"sawtooth\",v:0.2,a:0.2,d:0.3,s:1,t:1.2,p:1.25,q:0.2,}],

      [{w:\"sine\",v:0.3,d:1,s:0.3,},{w:\"square\",v:22,t:11,d:0.5,s:0.1,g:1,}],

      [{w:\"sawtooth\",v:0.3,a:0.04,d:1,s:0.8,r:0.1,},{w:\"square\",v:1,t:0.5,d:1,s:2,g:1,}],

      [{w:\"triangle\",v:0.3,d:1,s:0.3,},{w:\"sine\",v:22,t:6,d:0.6,s:0.05,g:1,}],

      [{w:\"sine\",v:0.6,a:0.1,d:0.05,s:0.4,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],

      [{w:\"sine\",a:0.1,d:0.05,s:0.4,v:0.8,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],

      [{w:\"square\",v:0.3,a:0.1,d:0.1,s:0.4,},{w:\"square\",v:1,f:1,d:0.3,s:0.1,g:1,}],

      /* 105-112 : Ethnic */

      [{w:\"sawtooth\",v:0.3,d:0.5,r:0.5,},{w:\"sawtooth\",v:11,t:5,d:0.05,g:1,}],

      [{w:\"square\",v:0.3,d:0.2,r:0.2,},{w:\"square\",v:7,t:3,d:0.05,g:1,}],

      [{w:\"triangle\",d:0.2,r:0.2,},{w:\"square\",v:9,t:3,d:0.1,r:0.1,g:1,}],

      [{w:\"triangle\",d:0.3,r:0.3,},{w:\"square\",v:6,t:3,d:1,r:1,g:1,}],

      [{w:\"triangle\",v:0.4,d:0.2,r:0.2,},{w:\"square\",v:22,t:12,d:0.1,r:0.1,g:1,}],

      [{w:\"sine\",v:0.25,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:1,t:2,d:0.03,s:11,g:1,}],

      [{w:\"sine\",v:0.3,a:0.05,d:11,},{w:\"square\",v:7,t:3,f:1,s:0.7,g:1,}],

      [{w:\"square\",v:0.3,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],

      /* 113-120 : Percussive */

      [{w:\"sine\",v:0.4,d:0.3,r:0.3,},{w:\"sine\",v:7,t:9,d:0.1,r:0.1,g:1,}],

      [{w:\"sine\",v:0.7,d:0.1,r:0.1,},{w:\"sine\",v:22,t:7,d:0.05,g:1,}],

      [{w:\"sine\",v:0.6,d:0.15,r:0.15,},{w:\"square\",v:11,t:3.2,d:0.1,r:0.1,g:1,}],

      [{w:\"sine\",v:0.8,d:0.07,r:0.07,},{w:\"square\",v:11,t:7,r:0.01,g:1,}],

      [{w:\"triangle\",v:0.7,t:0.5,d:0.2,r:0.2,p:0.95,},{w:\"n0\",v:9,g:1,d:0.2,r:0.2,}],

      [{w:\"sine\",v:0.7,d:0.1,r:0.1,p:0.9,},{w:\"square\",v:14,t:2,d:0.005,r:0.005,g:1,}],

      [{w:\"square\",d:0.15,r:0.15,p:0.5,},{w:\"square\",v:4,t:5,d:0.001,r:0.001,g:1,}],

      [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],

      /* 121-128 : SE */

      [{w:\"sine\",t:12.5,d:0,r:0,p:0.5,v:0.3,h:0.2,q:0.5,},{g:1,w:\"sine\",v:1,t:2,d:0,r:0,s:1,},{g:1,w:\"n0\",v:0.2,t:2,a:0.6,h:0,d:0.1,r:0.1,b:0,c:0,}],

      [{w:\"n0\",v:0.2,a:0.05,h:0.02,d:0.02,r:0.02,}],

      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],

      [{w:\"sine\",v:0.3,a:0.1,d:1,s:0.5,},{w:\"sine\",v:4,t:0,f:1.5,d:1,s:1,r:0.1,g:1,},{g:1,w:\"sine\",v:4,t:0,f:2,a:0.6,h:0,d:0.1,s:1,r:0.1,b:0,c:0,}],

      [{w:\"square\",v:0.3,t:0.25,d:11,s:1,},{w:\"square\",v:12,t:0,f:8,d:1,s:1,r:11,g:1,}],

      [{w:\"n0\",v:0.4,t:0.5,a:1,d:11,s:1,r:0.5,},{w:\"square\",v:1,t:0,f:14,d:1,s:1,r:11,g:1,}],

      [{w:\"sine\",t:0,f:1221,a:0.2,d:1,r:0.25,s:1,},{g:1,w:\"n0\",v:3,t:0.5,d:1,s:1,r:1,}],

      [{w:\"sine\",d:0.4,r:0.4,p:0.1,t:2.5,v:1,},{w:\"n0\",v:12,t:2,d:1,r:1,g:1,}],

    ],

    program0:[

// 1-8 : Piano

      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],

      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],

      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],

      [{w:\"sawtooth\",v:.3,d:.7}],                   [{w:\"sawtooth\",v:.3,d:.7}],

/* 9-16 : Chromatic Perc*/

      [{w:\"sine\",v:.5,d:.3,r:.3}],                  [{w:\"triangle\",v:.5,d:.3,r:.3}],

      [{w:\"square\",v:.2,d:.3,r:.3}],                [{w:\"square\",v:.2,d:.3,r:.3}],

      [{w:\"sine\",v:.5,d:.1,r:.1}],                  [{w:\"sine\",v:.5,d:.1,r:.1}],

      [{w:\"square\",v:.2,d:1,r:1}],                  [{w:\"sawtooth\",v:.3,d:.7,r:.7}],

/* 17-24 : Organ */

      [{w:\"sine\",v:0.5,a:0.01,s:1}],                [{w:\"sine\",v:0.7,d:0.02,s:0.7}],

      [{w:\"square\",v:.2,s:1}],                      [{w:\"triangle\",v:.5,a:.01,s:1}],

      [{w:\"square\",v:.2,a:.02,s:1}],                [{w:\"square\",v:0.2,a:0.02,s:1}],

      [{w:\"square\",v:0.2,a:0.02,s:1}],              [{w:\"square\",v:.2,a:.05,s:1}],

/* 25-32 : Guitar */

      [{w:\"triangle\",v:.5,d:.5}],                   [{w:\"square\",v:.2,d:.6}],

      [{w:\"square\",v:.2,d:.6}],                     [{w:\"triangle\",v:.8,d:.6}],

      [{w:\"triangle\",v:.4,d:.05}],                  [{w:\"square\",v:.2,d:1}],

      [{w:\"square\",v:.2,d:1}],                      [{w:\"sine\",v:.4,d:.6}],

/* 33-40 : Bass */

      [{w:\"triangle\",v:.7,d:.4}],                   [{w:\"triangle\",v:.7,d:.7}],

      [{w:\"triangle\",v:.7,d:.7}],                   [{w:\"triangle\",v:.7,d:.7}],

      [{w:\"square\",v:.3,d:.2}],                     [{w:\"square\",v:.3,d:.2}],

      [{w:\"square\",v:.3,d:.1,s:.2}],                [{w:\"sawtooth\",v:.4,d:.1,s:.2}],

/* 41-48 : Strings */

      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],

      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],

      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.3,d:.1}],

      [{w:\"sawtooth\",v:.3,d:.5,r:.5}],              [{w:\"triangle\",v:.6,d:.1,r:.1,h:0.03,p:0.8}],

/* 49-56 : Ensamble */

      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],

      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],

      [{w:\"triangle\",v:.3,a:.03,s:1}],              [{w:\"sine\",v:.3,a:.03,s:1}],

      [{w:\"triangle\",v:.3,a:.05,s:1}],              [{w:\"sawtooth\",v:.5,a:.01,d:.1}],

/* 57-64 : Brass */

      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],

      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:0.2,a:.05,d:0.01,s:1}],

      [{w:\"square\",v:.3,a:.05,s:1}],                [{w:\"square\",v:.3,s:.7}],

      [{w:\"square\",v:.3,s:.7}],                     [{w:\"square\",v:.3,s:.7}],

/* 65-72 : Reed */

      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.02,d:2}],

      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.04,d:2}],

      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.05,d:2}],

      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.03,d:2}],

/* 73-80 : Pipe */

      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],

      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],

      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],

      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],

/* 81-88 : SynthLead */

      [{w:\"square\",v:.3,s:.7}],                     [{w:\"sawtooth\",v:.4,s:.7}],

      [{w:\"triangle\",v:.5,s:.7}],                   [{w:\"sawtooth\",v:.4,s:.7}],

      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sine\",v:.4,a:.06,d:12}],

      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sawtooth\",v:.4,d:12}],

/* 89-96 : SynthPad */

      [{w:\"sawtooth\",v:.3,d:12}],                   [{w:\"triangle\",v:.5,d:12}],

      [{w:\"square\",v:.3,d:12}],                     [{w:\"triangle\",v:.5,a:.08,d:11}],

      [{w:\"sawtooth\",v:.5,a:.05,d:11}],             [{w:\"sawtooth\",v:.5,d:11}],

      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],

/* 97-104 : FX */

      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],

      [{w:\"square\",v:.3,d:11}],                     [{w:\"sawtooth\",v:0.5,a:0.04,d:11}],

      [{w:\"sawtooth\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,a:.8,d:11}],

      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"square\",v:.3,d:11}],

/* 105-112 : Ethnic */

      [{w:\"sawtooth\",v:.3,d:1,r:1}],                [{w:\"sawtooth\",v:.5,d:.3}],

      [{w:\"sawtooth\",v:.5,d:.3,r:.3}],              [{w:\"sawtooth\",v:.5,d:.3,r:.3}],

      [{w:\"square\",v:.3,d:.2,r:.2}],                [{w:\"square\",v:.3,a:.02,d:2}],

      [{w:\"sawtooth\",v:.2,a:.02,d:.7}],             [{w:\"triangle\",v:.5,d:1}],

/* 113-120 : Percussive */

      [{w:\"sawtooth\",v:.3,d:.3,r:.3}],              [{w:\"sine\",v:.8,d:.1,r:.1}],

      [{w:\"square\",v:.2,d:.1,r:.1,p:1.05}],         [{w:\"sine\",v:.8,d:.05,r:.05}],

      [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.96}],    [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.97}],

      [{w:\"square\",v:.3,d:.1,r:.1,}],               [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],

/* 121-128 : SE */

      [{w:\"triangle\",v:0.5,d:0.03,t:0,f:1332,r:0.001,p:1.1}],

      [{w:\"n0\",v:0.2,t:0.1,d:0.02,a:0.05,h:0.02,r:0.02}],

      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],

      [{w:\"sine\",v:0.3,a:0.8,d:1,t:0,f:1832}],

      [{w:\"triangle\",d:0.5,t:0,f:444,s:1,}],

      [{w:\"n0\",v:0.4,d:1,t:0,f:22,s:1,}],

      [{w:\"n0\",v:0.5,a:0.2,d:11,t:0,f:44}],

      [{w:\"n0\",v:0.5,t:0.25,d:0.4,r:0.4}],

    ],

    drummap1:[

/*35*/  [{w:\"triangle\",t:0,f:70,v:1,d:0.05,h:0.03,p:0.9,q:0.1,},{w:\"n0\",g:1,t:6,v:17,r:0.01,h:0,p:0,}],

        [{w:\"triangle\",t:0,f:88,v:1,d:0.05,h:0.03,p:0.5,q:0.1,},{w:\"n0\",g:1,t:5,v:42,r:0.01,h:0,p:0,}],

        [{w:\"n0\",f:222,p:0,t:0,r:0.01,h:0,}],

        [{w:\"triangle\",v:0.3,f:180,d:0.05,t:0,h:0.03,p:0.9,q:0.1,},{w:\"n0\",v:0.6,t:0,f:70,h:0.02,r:0.01,p:0,},{g:1,w:\"square\",v:2,t:0,f:360,r:0.01,b:0,c:0,}],

        [{w:\"square\",f:1150,v:0.34,t:0,r:0.03,h:0.025,d:0.03,},{g:1,w:\"n0\",t:0,f:13,h:0.025,d:0.1,s:1,r:0.1,v:1,}],

/*40*/  [{w:\"triangle\",f:200,v:1,d:0.06,t:0,r:0.06,},{w:\"n0\",g:1,t:0,f:400,v:12,r:0.02,d:0.02,}],

        [{w:\"triangle\",f:100,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.4,h:0.015,d:0.005,r:0.005,}],

        [{w:\"n1\",f:390,v:0.25,r:0.01,t:0,}],

        [{w:\"triangle\",f:120,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.5,h:0.015,d:0.005,r:0.005,}],

        [{w:\"n1\",v:0.25,f:390,r:0.03,t:0,h:0.005,d:0.03,}],

/*45*/  [{w:\"triangle\",f:140,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],

        [{w:\"n1\",v:0.25,f:390,t:0,d:0.2,r:0.2,},{w:\"n0\",v:0.3,t:0,c:0,f:440,h:0.005,d:0.05,}],

        [{w:\"triangle\",f:155,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],

        [{w:\"triangle\",f:180,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],

        [{w:\"n1\",v:0.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],

/*50*/  [{w:\"triangle\",f:220,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],

        [{w:\"n1\",f:500,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.1,t:0,r:0.01,f:440,}],

        [{w:\"n1\",v:0.3,f:800,d:0.2,r:0.2,h:0.05,t:0,},{w:\"square\",t:0,v:1,d:0.1,r:0.1,p:0.1,f:220,g:1,}],

        [{w:\"sine\",f:1651,v:0.15,d:0.2,r:0.2,h:0,t:0,},{w:\"sawtooth\",g:1,t:1.21,v:7.2,d:0.1,r:11,h:1,},{g:1,w:\"n0\",v:3.1,t:0.152,d:0.002,r:0.002,}],

        null,

/*55*/  [{w:\"n1\",v:.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],

        null,

        [{w:\"n1\",v:0.3,f:555,d:0.25,r:0.25,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,f:440,a:0.005,h:0.02,}],

        [{w:\"sawtooth\",f:776,v:0.2,d:0.3,t:0,r:0.3,},{g:1,w:\"n0\",v:2,t:0,f:776,a:0.005,h:0.02,d:0.1,s:1,r:0.1,c:0,},{g:11,w:\"sine\",v:0.1,t:0,f:22,d:0.3,r:0.3,b:0,c:0,}],

        [{w:\"n1\",f:440,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.4,t:0,r:0.01,f:440,}],

/*60*/  null,null,null,null,null,

/*65*/  null,null,null,null,null,

/*70*/  null,null,null,null,null,

/*75*/  null,null,null,null,null,

/*80*/  [{w:\"sine\",f:1720,v:0.3,d:0.02,t:0,r:0.02,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],

        [{w:\"sine\",f:1720,v:0.3,d:0.25,t:0,r:0.25,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],

    ],

    drummap0:[

/*35*/[{w:\"triangle\",t:0,f:110,v:1,d:0.05,h:0.02,p:0.1,}],

      [{w:\"triangle\",t:0,f:150,v:0.8,d:0.1,p:0.1,h:0.02,r:0.01,}],

      [{w:\"n0\",f:392,v:0.5,d:0.01,p:0,t:0,r:0.05}],

      [{w:\"n0\",f:33,d:0.05,t:0,}],

      [{w:\"n0\",f:100,v:0.7,d:0.03,t:0,r:0.03,h:0.02,}],

/*40*/[{w:\"n0\",f:44,v:0.7,d:0.02,p:0.1,t:0,h:0.02,}],

      [{w:\"triangle\",f:240,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"n0\",f:440,v:0.2,r:0.01,t:0,}],

      [{w:\"triangle\",f:270,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"n0\",f:440,v:0.2,d:0.04,r:0.04,t:0,}],

/*45*/[{w:\"triangle\",f:300,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"n0\",f:440,v:0.2,d:0.1,r:0.1,h:0.02,t:0,}],

      [{w:\"triangle\",f:320,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"triangle\",f:360,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.1,h:0.05,t:0,p:0.1,}],

/*50*/[{w:\"triangle\",f:400,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],

      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],

      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],

      [{w:\"n0\",f:440,v:0.3,d:0.1,p:0.9,t:0,r:0.1,}],

      [{w:\"n0\",f:200,v:0.2,d:0.05,p:0.9,t:0,}],

/*55*/[{w:\"n0\",f:440,v:0.3,d:0.12,p:0.9,t:0,}],

      [{w:\"sine\",f:800,v:0.4,d:0.06,t:0,}],

      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],

      [{w:\"n0\",f:33,v:0.3,d:0.2,p:0.9,t:0,}],

      [{w:\"n0\",f:300,v:0.3,d:0.14,p:0.9,t:0,}],

/*60*/[{w:\"sine\",f:200,d:0.06,t:0,}],

      [{w:\"sine\",f:150,d:0.06,t:0,}],

      [{w:\"sine\",f:300,t:0,}],

      [{w:\"sine\",f:300,d:0.06,t:0,}],

      [{w:\"sine\",f:250,d:0.06,t:0,}],

/*65*/[{w:\"square\",f:300,v:.3,d:.06,p:.8,t:0,}],

      [{w:\"square\",f:260,v:.3,d:.06,p:.8,t:0,}],

      [{w:\"sine\",f:850,v:.5,d:.07,t:0,}],

      [{w:\"sine\",f:790,v:.5,d:.07,t:0,}],

      [{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],

/*70*/[{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],

      [{w:\"triangle\",f:1800,v:0.4,p:0.9,t:0,h:0.03,}],

      [{w:\"triangle\",f:1800,v:0.3,p:0.9,t:0,h:0.13,}],

      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,r:0.01,}],

      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,h:0.04,r:0.01,}],

/*75*/[{w:\"n0\",f:440,v:0.3,t:0,}],

      [{w:\"sine\",f:800,t:0,}],

      [{w:\"sine\",f:700,t:0,}],

      [{w:\"n0\",f:330,v:0.3,t:0,}],

      [{w:\"n0\",f:330,v:0.3,t:0,h:0.1,r:0.01,p:0.7,}],

/*80*/[{w:\"sine\",t:0,f:1200,v:0.3,r:0.01,}],

      [{w:\"sine\",t:0,f:1200,v:0.3,d:0.2,r:0.2,}],



    ],

    /**/

    ready:function(){

      var i;

      this.pg=[]; this.vol=[]; this.ex=[]; this.bend=[]; this.rpnidx=[]; this.brange=[];

      this.sustain=[]; this.notetab=[]; this.rhythm=[];

      this.masterTuningC=0; this.masterTuningF=0; this.tuningC=[]; this.tuningF=[];

      this.maxTick=0, this.playTick=0, this.playing=0; this.releaseRatio=3.5;

      for(var i=0;i<16;++i){

        this.pg[i]=0; this.vol[i]=3*100*100/(127*127);

        this.bend[i]=0; this.brange[i]=0x100;

        this.tuningC[i]=0; this.tuningF[i]=0;

        this.rhythm[i]=0;

      }

      this.rhythm[9]=1;

      /**/

      this.preroll=0.2;

      this.relcnt=0;

      setInterval(

        function(){

          if(++this.relcnt>=3){

            this.relcnt=0;

            for(var i=this.notetab.length-1;i>=0;--i){

              var nt=this.notetab[i];

              if(this.actx.currentTime>nt.e){

                this._pruneNote(nt);

                this.notetab.splice(i,1);

              }

            }

            /**/

          }

          if(this.playing && this.song.ev.length>0){

            var e=this.song.ev[this.playIndex];

            while(this.actx.currentTime+this.preroll>this.playTime){

              if(e.m[0]==0xff51){

                this.song.tempo=e.m[1];

                this.tick2Time=4*60/this.song.tempo/this.song.timebase;

              }

              else

                this.send(e.m,this.playTime);

              ++this.playIndex;

              if(this.playIndex>=this.song.ev.length){

                if(this.loop){

                  e=this.song.ev[this.playIndex=0];

                  this.playTick=e.t;

                }

                else{

                  this.playTick=this.maxTick;

                  this.playing=0;

                  break;

                }

              }

              else{

                e=this.song.ev[this.playIndex];

                this.playTime+=(e.t-this.playTick)*this.tick2Time;

                this.playTick=e.t;

              }

            }

          }

        }.bind(this),60

      );

      //if(this.internalcontext){

      //  window.AudioContext = window.AudioContext || window.webkitAudioContext;

      //  this.setAudioContext(new AudioContext());

      //}

      this.isReady=1;

    },

    setMasterVol:function(v){

      if(v!=undefined)

        this.masterVol=v;

      if(this.out)

        this.out.gain.value=this.masterVol;

    },

    setReverbLev:function(v){

      if(v!=undefined)

        this.reverbLev=v;

      var r=parseFloat(this.reverbLev);

      if(this.rev&&!isNaN(r))

        this.rev.gain.value=r*8;

    },

    setLoop:function(f){

      this.loop=f;

    },

    setVoices:function(v){

      this.voices=v;

    },

    reset:function(){

      for(var i=0;i<16;++i){

        this.setProgram(i,0);

        this.setBendRange(i,0x100);

        this.setModulation(i,0);

        this.setChVol(i,100);

        this.setPan(i,64);

        this.resetAllControllers(i);

        this.allSoundOff(i);

        this.rhythm[i]=0;

        this.tuningC[i]=0;

        this.tuningF[i]=0;

      }

      this.masterTuningC=0;

      this.masterTuningF=0;

      this.rhythm[9]=1;

    },

    setQuality:function(q){

      var i,k,n,p;

      if(q!=undefined)

        this.quality=q;

      for(i=0;i<128;++i)

        this.setTimbre(0,i,this.program0[i]);

      for(i=0;i<this.drummap0.length;++i)

        this.setTimbre(1,i+35,this.drummap0[i]);

      if(this.quality){

        for(i=0;i<this.program1.length;++i)

          this.setTimbre(0,i,this.program1[i]);

        for(i=0;i<this.drummap.length;++i){

          if(this.drummap1[i])

            this.setTimbre(1,i+35,this.drummap1[i]);

        }

      }

    },

    setTimbre:function(m,n,p){

      var defp={g:0,w:\"sine\",t:1,f:0,v:0.5,a:0,h:0.01,d:0.01,s:0,r:0.05,p:1,q:1,k:0};

      function filldef(p){

        for(n=0;n<p.length;++n){

          for(k in defp){

            if(!p[n].hasOwnProperty(k) || typeof(p[n][k])==\"undefined\")

              p[n][k]=defp[k];

          }

        }

        return p;

      }

      if(m && n>=35 && n<=81)

        this.drummap[n-35] = filldef(p);

      if(m==0 && n>=0 && n<=127)

        this.program[n] = filldef(p);

    },

    _pruneNote:function(nt){

      for(var k=nt.o.length-1;k>=0;--k){

        if(nt.o[k].frequency){

          nt.o[k].frequency.cancelScheduledValues(0);

        }

        else{

          nt.o[k].playbackRate.cancelScheduledValues(0);

        }

        nt.g[k].gain.cancelScheduledValues(0);



        nt.o[k].stop();

        if(nt.o[k].detune) {

          try {

            this.chmod[nt.ch].disconnect(nt.o[k].detune);

          } catch (c) {}

        }

        nt.g[k].gain.value = 0;

      }

    },

    _limitVoices:function(ch,n){

      this.notetab.sort(function(n1,n2){

        if(n1.f!=n2.f) return n1.f-n2.f;

        if(n1.e!=n2.e) return n2.e-n1.e;

        return n2.t-n1.t;

      });

      for(var i=this.notetab.length-1;i>=0;--i){

        var nt=this.notetab[i];

        if(this.actx.currentTime>nt.e || i>=(this.voices-1)){

          this._pruneNote(nt);

          this.notetab.splice(i,1);

        }

      }

    },

    _note:function(t,ch,n,v,p){

      var out,sc,pn;

      var o=[],g=[],vp=[],fp=[],r=[];

      var f=440*Math.pow(2,(n-69 + this.masterTuningC + this.tuningC[ch] + (this.masterTuningF + this.tuningF[ch])/8192)/12);

      this._limitVoices(ch,n);

      for(var i=0;i<p.length;++i){

        pn=p[i];

        var dt=t+pn.a+pn.h;

        if(pn.g==0)

          out=this.chvol[ch], sc=v*v/16384, fp[i]=f*pn.t+pn.f;

        else if(pn.g>10)

          out=g[pn.g-11].gain, sc=1, fp[i]=fp[pn.g-11]*pn.t+pn.f;

        else if(o[pn.g-1].frequency)

          out=o[pn.g-1].frequency, sc=fp[pn.g-1], fp[i]=fp[pn.g-1]*pn.t+pn.f;

        else

          out=o[pn.g-1].playbackRate, sc=fp[pn.g-1]/440, fp[i]=fp[pn.g-1]*pn.t+pn.f;

        switch(pn.w[0]){

        case \"n\":

          o[i]=this.actx.createBufferSource();

          o[i].buffer=this.noiseBuf[pn.w];

          o[i].loop=true;

          o[i].playbackRate.value=fp[i]/440;

          if(pn.p!=1)

            this._setParamTarget(o[i].playbackRate,fp[i]/440*pn.p,t,pn.q);

          if (o[i].detune) {

            this.chmod[ch].connect(o[i].detune);

            o[i].detune.value=this.bend[ch];

          }

          break;

        default:

          o[i]=this.actx.createOscillator();

          o[i].frequency.value=fp[i];

          if(pn.p!=1)

            this._setParamTarget(o[i].frequency,fp[i]*pn.p,t,pn.q);

          if(pn.w[0]==\"w\")

            o[i].setPeriodicWave(this.wave[pn.w]);

          else

            o[i].type=pn.w;

          if (o[i].detune) {

            this.chmod[ch].connect(o[i].detune);

            o[i].detune.value=this.bend[ch];

          }

          break;

        }

        g[i]=this.actx.createGain();

        r[i]=pn.r;

        o[i].connect(g[i]); g[i].connect(out);

        vp[i]=sc*pn.v;

        if(pn.k)

          vp[i]*=Math.pow(2,(n-60)/12*pn.k);

        if(pn.a){

          g[i].gain.value=0;

          g[i].gain.setValueAtTime(0,t);

          g[i].gain.linearRampToValueAtTime(vp[i],t+pn.a);

        }

        else

          g[i].gain.setValueAtTime(vp[i],t);

        this._setParamTarget(g[i].gain,pn.s*vp[i],dt,pn.d);

        o[i].start(t);

        if(this.rhythm[ch]){

          // difference between '()=>' and 'function()': need to pack parameters

          o[i].onended = function(a, b) { return function() { if (b) a.disconnect(b); }; }(this.chmod[ch], o[i].detune);

          o[i].stop(t+p[0].d*this.releaseRatio);

        }

      }

      if(!this.rhythm[ch])

        this.notetab.push({t:t,e:99999,ch:ch,n:n,o:o,g:g,t2:t+pn.a,v:vp,r:r,f:0});

    },

    _setParamTarget:function(p,v,t,d){

      if(d!=0)

        p.setTargetAtTime(v,t,d);

      else

        p.setValueAtTime(v,t);

    },

    _releaseNote:function(nt,t){

      if(nt.ch!=9){

        for(var k=nt.g.length-1;k>=0;--k){

          nt.g[k].gain.cancelScheduledValues(t);

          if(t==nt.t2)

            nt.g[k].gain.setValueAtTime(nt.v[k],t);

          else if(t<nt.t2)

            nt.g[k].gain.setValueAtTime(nt.v[k]*(t-nt.t)/(nt.t2-nt.t),t);

          this._setParamTarget(nt.g[k].gain,0,t,nt.r[k]);

        }

      }

      nt.e=t+nt.r[0]*this.releaseRatio;

      nt.f=1;

    },

    setModulation:function(ch,v,t){

      this.chmod[ch].gain.setValueAtTime(v*100/127,this._tsConv(t));

    },

    setChVol:function(ch,v,t){

      this.vol[ch]=3*v*v/(127*127);

      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));

    },

    setPan:function(ch,v,t){

      if(this.chpan[ch])

        this.chpan[ch].pan.setValueAtTime((v-64)/64,this._tsConv(t));

    },

    setExpression:function(ch,v,t){

      this.ex[ch]=v*v/(127*127);

      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));

    },

    setSustain:function(ch,v,t){

      this.sustain[ch]=v;

      t=this._tsConv(t);

      if(v<64){

        for(var i=this.notetab.length-1;i>=0;--i){

          var nt=this.notetab[i];

          if(t>=nt.t && nt.ch==ch && nt.f==1)

            this._releaseNote(nt,t);

        }

      }

    },

    allSoundOff:function(ch){

      for(var i=this.notetab.length-1;i>=0;--i){

        var nt=this.notetab[i];

        if(nt.ch==ch){

          this._pruneNote(nt);

          this.notetab.splice(i,1);

        }

      }

    },

    resetAllControllers:function(ch){

      this.bend[ch]=0; this.ex[ch]=1.0;

      this.rpnidx[ch]=0x3fff; this.sustain[ch]=0;

      if(this.chvol[ch]){

        this.chvol[ch].gain.value=this.vol[ch]*this.ex[ch];

        this.chmod[ch].gain.value=0;

      }

    },

    setBendRange:function(ch,v){

      this.brange[ch]=v;

    },

    setProgram:function(ch,v){

      if(this.debug)

        console.log(\"Pg(\"+ch+\")=\"+v);

      this.pg[ch]=v;

    },

    setBend:function(ch,v,t){

      t=this._tsConv(t);

      var br=this.brange[ch]*100/127;

      this.bend[ch]=(v-8192)*br/8192;

      for(var i=this.notetab.length-1;i>=0;--i){

        var nt=this.notetab[i];

        if(nt.ch==ch){

          for(var k=nt.o.length-1;k>=0;--k){

            if(nt.o[k].frequency)

              if (nt.o[k].detune) nt.o[k].detune.setValueAtTime(this.bend[ch],t);

          }

        }

      }

    },

    noteOn:function(ch,n,v,t){

      if(v==0){

        this.noteOff(ch,n,t);

        return;

      }

      t=this._tsConv(t);

      if(this.rhythm[ch]){

        if(n>=35&&n<=81)

          this._note(t,ch,n,v,this.drummap[n-35]);

        return;

      }

      this._note(t,ch,n,v,this.program[this.pg[ch]]);

    },

    noteOff:function(ch,n,t){

      if(this.rhythm[ch])

        return;

      t=this._tsConv(t);

      for(var i=this.notetab.length-1;i>=0;--i){

        var nt=this.notetab[i];

        if(t>=nt.t && nt.ch==ch && nt.n==n && nt.f==0){

          nt.f=1;

          if(this.sustain[ch]<64)

            this._releaseNote(nt,t);

        }

      }

    },

    _tsConv:function(t){

      if(t==undefined||t<=0){

        t=0;

        if(this.actx)

          t=this.actx.currentTime;

      }

      else{

        if(this.tsmode)

          t=t*.001-this.tsdiff;

      }

      return t;

    },

    setTsMode:function(tsmode){

      this.tsmode=tsmode;

    },

    send:function(msg,t){    /* send midi message */

      var ch=msg[0]&0xf;

      var cmd=msg[0]&~0xf;

      if(cmd<0x80||cmd>=0x100)

        return;

      if(this.audioContext.state==\"suspended\"){

        this.audioContext.resume();

      }

      switch(cmd){

      case 0xb0:  /* ctl change */

        switch(msg[1]){

        case 1:  this.setModulation(ch,msg[2],t); break;

        case 7:  this.setChVol(ch,msg[2],t); break;

        case 10: this.setPan(ch,msg[2],t); break;

        case 11: this.setExpression(ch,msg[2],t); break;

        case 64: this.setSustain(ch,msg[2],t); break;

        case 98:  case 99: this.rpnidx[ch]=0x3fff; break; /* nrpn lsb/msb */

        case 100: this.rpnidx[ch]=(this.rpnidx[ch]&0x3f80)|msg[2]; break; /* rpn lsb */

        case 101: this.rpnidx[ch]=(this.rpnidx[ch]&0x7f)|(msg[2]<<7); break; /* rpn msb */

        case 6:  /* data entry msb */

          switch (this.rpnidx[ch]) {

            case 0:

              this.brange[ch]=(msg[2]<<7)+(this.brange[ch]&0x7f);

              break;

            case 1:

              this.tuningF[ch]=(msg[2]<<7)+((this.tuningF[ch]+0x2000)&0x7f)-0x2000;

              break;

            case 2:

              this.tuningC[ch]=msg[2]-0x40;

              break;

          }

          break;

        case 38:  /* data entry lsb */

          switch (this.rpnidx[ch]) {

            case 0:

              this.brange[ch]=(this.brange[ch]&0x3f80)|msg[2];

              break;

            case 1:

              this.tuningF[ch]=((this.tuningF[ch]+0x2000)&0x3f80)|msg[2]-0x2000;

              break;

            case 2: break;

          }

          break;

        case 120:  /* all sound off */

        case 123:  /* all notes off */

        case 124: case 125: case 126: case 127: /* omni off/on mono/poly */

          this.allSoundOff(ch);

          break;

        case 121: this.resetAllControllers(ch); break;

        }

        break;

      case 0xc0: this.setProgram(ch,msg[1]); break;

      case 0xe0: this.setBend(ch,(msg[1]+(msg[2]<<7)),t); break;

      case 0x90: this.noteOn(ch,msg[1],msg[2],t); break;

      case 0x80: this.noteOff(ch,msg[1],t); break;

      case 0xf0:

        if (msg[0] == 0xff) {

          this.reset();

          break;

        }

        if(msg[0]!=254 && this.debug){

          var ds=[];

          for(var ii=0;ii<msg.length;++ii)

            ds.push(msg[ii].toString(16));

        }

        if (msg[0]==0xf0) {

          if (msg[1]==0x7f && msg[3]==4) {

            if (msg[4]==3 && msg.length >= 8) { // Master Fine Tuning

              this.masterTuningF = msg[6]*0x80 + msg[5] - 8192;

            }

            if (msg[4]==4 && msg.length >= 8) { // Master Coarse Tuning

              this.masterTuningC = msg[6]-0x40;

            }

          }

          if(msg[1]==0x41&&msg[3]==0x42&&msg[4]==0x12&&msg[5]==0x40){

            if((msg[6]&0xf0)==0x10&&msg[7]==0x15){

              var c=[9,0,1,2,3,4,5,6,7,8,10,11,12,13,14,15][msg[6]&0xf];

              this.rhythm[c]=msg[8];

            }

          }

        }

        break;

      }

    },

    _createWave:function(w){

      var imag=new Float32Array(w.length);

      var real=new Float32Array(w.length);

      for(var i=1;i<w.length;++i)

        imag[i]=w[i];

      return this.actx.createPeriodicWave(real,imag);

    },

    getAudioContext:function(){

      return this.actx;

    },

    setAudioContext:function(actx,dest){

      this.audioContext=this.actx=actx;

      this.dest=dest;

      if(!dest)

        this.dest=actx.destination;

      this.tsdiff=performance.now()*.001-this.actx.currentTime;

      this.out=this.actx.createGain();

      this.comp=this.actx.createDynamicsCompressor();

      var blen=this.actx.sampleRate*.5|0;

      this.convBuf=this.actx.createBuffer(2,blen,this.actx.sampleRate);

      this.noiseBuf={};

      this.noiseBuf.n0=this.actx.createBuffer(1,blen,this.actx.sampleRate);

      this.noiseBuf.n1=this.actx.createBuffer(1,blen,this.actx.sampleRate);

      var d1=this.convBuf.getChannelData(0);

      var d2=this.convBuf.getChannelData(1);

      var dn=this.noiseBuf.n0.getChannelData(0);

      var dr=this.noiseBuf.n1.getChannelData(0);

      for(var i=0;i<blen;++i){

        if(i/blen<Math.random()){

          d1[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;

          d2[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;

        }

        dn[i]=Math.random()*2-1;

      }

      for(var jj=0;jj<64;++jj){

        var r1=Math.random()*10+1;

        var r2=Math.random()*10+1;

        for(i=0;i<blen;++i){

          var dd=Math.sin((i/blen)*2*Math.PI*440*r1)*Math.sin((i/blen)*2*Math.PI*440*r2);

          dr[i]+=dd/8;

        }

      }

      if(this.useReverb){

        this.conv=this.actx.createConvolver();

        this.conv.buffer=this.convBuf;

        this.rev=this.actx.createGain();

        this.rev.gain.value=this.reverbLev;

        this.out.connect(this.conv);

        this.conv.connect(this.rev);

        this.rev.connect(this.comp);

      }

      this.setMasterVol();

      this.out.connect(this.comp);

      this.comp.connect(this.dest);

      this.chvol=[]; this.chmod=[]; this.chpan=[];

      this.wave={\"w9999\":this._createWave(\"w9999\")};

      this.lfo=this.actx.createOscillator();

      this.lfo.frequency.value=5;

      this.lfo.start(0);

      for(i=0;i<16;++i){

        this.chvol[i]=this.actx.createGain();

        if(this.actx.createStereoPanner){

          this.chpan[i]=this.actx.createStereoPanner();

          this.chvol[i].connect(this.chpan[i]);

          this.chpan[i].connect(this.out);

        }

        else{

          this.chpan[i]=null;

          this.chvol[i].connect(this.out);

        }

        this.chmod[i]=this.actx.createGain();

        this.lfo.connect(this.chmod[i]);

        this.pg[i]=0;

        this.resetAllControllers(i);

      }

      this.setReverbLev();

      this.reset();

    },

  }

/* webaudio-tinysynth coreobject */



;

  for(var k in this.sy.properties)

    this[k]=this.sy.properties[k].value;

  this.setQuality(1);

  if(opt){

    if(opt.useReverb!=undefined)

      this.useReverb=opt.useReverb;

    if(opt.quality!=undefined)

      this.setQuality(opt.quality);

    if(opt.voices!=undefined)

      this.setVoices(opt.voices);

  }

  this.ready();

}



  function _clone(obj, key, val) {

    if (typeof key == 'undefined') return _clone(obj, [], []);

    if (obj instanceof Object) {

      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];

      var ret;

      if (obj instanceof Array) ret = []; else ret = {};

      key.push(obj); val.push(ret);

      for(var k in obj) if (obj.hasOwnProperty(k)) ret[k] = _clone(obj[k], key, val);

      return ret;

    }

    return obj;

  }



  var _ac = JZZ.lib.getAudioContext();



  var _synth = {};

  var _noname = [];

  var _engine = {};



  _engine._info = function(name) {

    if (!name) name = 'JZZ.synth.Tiny';

    return {

      type: 'Web Audo',

      name: name,

      manufacturer: 'virtual',

      version: _version

    };

  };



  _engine._openOut = function(port, name) {

    if (!_ac) { port._crash('AudioContext not supported'); return; }

    var synth;

    if (typeof name !== 'undefined') {

      name = '' + name;

      if (!_synth[name]) _synth[name] = new WebAudioTinySynth();

      synth = _synth[name];

    }

    else {

      synth = new WebAudioTinySynth();

      _noname.push(synth);

    }

    synth.setAudioContext(_ac);

    port.plug = function(dest) {

      if (dest && (dest.context instanceof AudioContext || dest.context instanceof webkitAudioContext)) {

        synth.setAudioContext(dest.context, dest);

      }

    };

    port.setSynth = function(n, s, k) { synth.setTimbre(!!k, n, _clone(s)); };

    port.getSynth = function(n, k) { return k ? _clone(synth.drummap[n - 35]) : _clone(synth.program[n]); };

    port._info = _engine._info(name);

    port._receive = function(msg) { synth.send(msg); };

    port._resume();

  };



  JZZ.synth.Tiny = function(name) {

    return JZZ.lib.openMidiOut(name, _engine);

  };



  JZZ.synth.Tiny.register = function(name) {

    return _ac ? JZZ.lib.registerMidiOut(name, _engine) : false;

  };



  JZZ.synth.Tiny.version = function() { return _version; };



}function _SMF() {



  /* istanbul ignore next */

  if (JZZ.MIDI.SMF) return;



  var _ver = '1.6.2';



  var _now = JZZ.lib.now;

  function _error(s) { throw new Error(s); }



  function _num(n) {

    var s = '';

    if (n > 0x1fffff) s += String.fromCharCode(((n >> 21) & 0x7f) + 0x80);

    if (n > 0x3fff) s += String.fromCharCode(((n >> 14) & 0x7f) + 0x80);

    if (n > 0x7f) s += String.fromCharCode(((n >> 7) & 0x7f) + 0x80);

    s += String.fromCharCode(n & 0x7f);

    return s;

  }

  function _num2(n) {

    return String.fromCharCode(n >> 8) + String.fromCharCode(n & 0xff);

  }

  function _num4(n) {

    return String.fromCharCode((n >> 24) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode(n & 0xff);

  }

  function _num4le(n) {

    return String.fromCharCode(n & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 24) & 0xff);

  }



  function SMF() {

    var self = this;

    if (!(self instanceof SMF)) {

      self = new SMF();

      delete self.ppqn;

    }

    var type = 1;

    var ppqn = 96;

    var fps;

    var ppf;

    if (arguments.length == 1) {

      if (arguments[0] instanceof SMF) {

        return arguments[0].copy();

      }

      if (arguments[0] instanceof SYX) {

        self.type = 0;

        self.ppqn = ppqn;

        self.push(new MTrk());

        for (var i = 0; i < arguments[0].length; i++) self[0].add(0, arguments[0][i]);

        return self;

      }

      try {

        if (arguments[0] instanceof ArrayBuffer) {

          self.load(String.fromCharCode.apply(null, new Uint8Array(arguments[0])));

          return self;

        }

      }

      catch (err) {/**/}

      try {

        if (arguments[0] instanceof Uint8Array || arguments[0] instanceof Int8Array) {

          self.load(String.fromCharCode.apply(null, new Uint8Array(arguments[0])));

          return self;

        }

      }

      catch (err) {/**/}

      try {

        /* istanbul ignore next */

        if (arguments[0] instanceof Buffer) {

          self.load(arguments[0].toString('binary'));

          return self;

        }

      }

      catch (err) {/**/}

      if (typeof arguments[0] == 'string' && arguments[0] != '0' && arguments[0] != '1' && arguments[0] != '2') {

        self.load(arguments[0]);

        return self;

      }

      type = parseInt(arguments[0]);

    }

    else if (arguments.length == 2) {

      type = parseInt(arguments[0]);

      ppqn = parseInt(arguments[1]);

    }

    else if (arguments.length == 3) {

      type = parseInt(arguments[0]);

      fps = parseInt(arguments[1]);

      ppf = parseInt(arguments[2]);

    }

    else if (arguments.length) _error('Invalid parameters');

    if (isNaN(type) || type < 0 || type > 2) _error('Invalid parameters');

    self.type = type;

    if (typeof fps == 'undefined') {

      if (isNaN(ppqn) || ppqn < 0 || ppqn > 0xffff) _error('Invalid parameters');

      self.ppqn = ppqn;

    }

    else {

      if (fps != 24 && fps != 25 && fps != 29 && fps != 30) _error('Invalid parameters');

      if (isNaN(ppf) || ppf < 0 || ppf > 0xff) _error('Invalid parameters');

      self.fps = fps;

      self.ppf = ppf;

    }

    return self;

  }

  SMF.version = function() { return _ver; };



  SMF.prototype = [];

  SMF.prototype.constructor = SMF;

  SMF.prototype.copy = function() {

    var smf = new SMF();

    smf.type = this.type;

    smf.ppqn = this.ppqn;

    smf.fps = this.fps;

    smf.ppf = this.ppf;

    smf.rmi = this.rmi;

    smf.ntrk = this.ntrk;

    for (var i = 0; i < this.length; i++) smf.push(this[i].copy());

    return smf;

  };



  function _issue(off, msg, data, tick, track) {

    var w = { off: off, msg: msg, data: data };

    if (typeof tick != 'undefined') w.tick = tick;

    if (typeof track != 'undefined') w.track = track;

    return w;

  }

  SMF.prototype._complain = function(off, msg, data) {

    if (!this._warn) this._warn = [];

    this._warn.push(_issue(off, msg, data));

  };

  SMF.prototype.load = function(s) {

    var off = 0;

    if (s.substr(0, 4) == 'RIFF' && s.substr(8, 8) == 'RMIDdata') {

      this.rmi = true;

      off = 20;

      s = s.substr(20, s.charCodeAt(16) + s.charCodeAt(17) * 0x100 + s.charCodeAt(18) * 0x10000 + s.charCodeAt(19) * 0x1000000);

    }

    this.loadSMF(s, off);

  };



  var MThd0006 = 'MThd' + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(6);

  SMF.prototype.loadSMF = function(s, off) {

    if (!s.length) _error('Empty file');

    if (s.substr(0, 8) != MThd0006) {

      var z = s.indexOf(MThd0006);

      if (z != -1) {

        s = s.substr(z);

        this._complain(off, 'Extra leading characters', z);

        off += z;

      }

      else _error('Not a MIDI file');

    }

    this._off = off;

    this.type = s.charCodeAt(8) * 16 + s.charCodeAt(9);

    this._off_type = off + 8;

    this.ntrk = s.charCodeAt(10) * 16 + s.charCodeAt(11);

    this._off_ntrk = off + 10;

    if (s.charCodeAt(12) > 0x7f) {

      this.fps = 0x100 - s.charCodeAt(12);

      this.ppf = s.charCodeAt(13);

      this._off_fps = off + 12;

      this._off_ppf = off + 13;

    }

    else{

      this.ppqn = s.charCodeAt(12) * 256 + s.charCodeAt(13);

      this._off_ppqn = off + 12;

    }

    if (this.type > 2) this._complain(8 + off, 'Invalid MIDI file type', this.type);

    else if (this.type == 0 && this.ntrk > 1) this._complain(10 + off, 'Wrong number of tracks for the type 0 MIDI file', this.ntrk);

    if (!this.ppf && !this.ppqn) _error('Invalid MIDI header');

    var n = 0;

    var p = 14;

    while (p < s.length - 8) {

      var offset = p + off;

      var type = s.substr(p, 4);

      if (type == 'MTrk') n++;

      var len = (s.charCodeAt(p + 4) << 24) + (s.charCodeAt(p + 5) << 16) + (s.charCodeAt(p + 6) << 8) + s.charCodeAt(p + 7);

      if (len <= 0) { // broken file

        len = s.length - p - 8;

        this._complain(p + off + 4, 'Invalid track length', s.charCodeAt(p + 4) + '/' + s.charCodeAt(p + 5) + '/' + s.charCodeAt(p + 6) + '/' + s.charCodeAt(p + 7));

      }

      p += 8;

      var data = s.substr(p, len);

      this.push(new Chunk(type, data, offset));

      if (type == 'MThd') this._complain(offset, 'Unexpected chunk type', 'MThd');

      p += len;

    }

    if (n != this.ntrk) {

      this._complain(off + 10, 'Incorrect number of tracks', this.ntrk);

      this.ntrk = n;

    }

    if (!this.ntrk)  _error('No MIDI tracks');

    if (!this.type && this.ntrk > 1 || this.type > 2)  this.type = 1;

    if (p < s.length) this._complain(off + p, 'Extra trailing characters', s.length - p);

    if (p > s.length) this._complain(off + s.length, 'Incomplete data', p - s.length);

  };



  function Warn(obj) {

    if (!(this instanceof Warn)) return new Warn(obj);

    for (var k in obj) if (obj.hasOwnProperty(k)) this[k] = obj[k];

  }

  Warn.prototype.toString = function() {

    var a = [];

    if (typeof this.off != 'undefined') a.push('offset ' + this.off);

    if (typeof this.track != 'undefined') a.push('track ' + this.track);

    if (typeof this.tick != 'undefined') a.push('tick ' + this.tick);

    return a.join(' ') + ' -- ' + this.msg + ' (' + this.data + ')';

  };



  SMF.prototype.tracks = function() {

    var t = 0;

    for (var i = 0; i < this.length; i++) if (this[i] instanceof MTrk) t++;

    return t;

  };



  function _reset_state(w, s) {

    var i;

    for (i = 0; i < 16; i++) {

      if (s[i]) {

        if (s[i].rm && s[i].rl && s[i].rm[0][2] == 0x7f && s[i].rl[0][2] == 0x7f) {

          s[i].rm[1] = true;

          s[i].rl[1] = true;

        }

        _check_unused(w, s, i, 'bm');

        _check_unused(w, s, i, 'bl');

        _check_unused(w, s, i, 'nm');

        _check_unused(w, s, i, 'nl');

        _check_unused(w, s, i, 'rm');

        _check_unused(w, s, i, 'rl');

      }

      s[i] = {};

    }

  }

  function _update_state(w, s, msg) {

    if (!msg.length || msg[0] < 0x80) return;

    if (msg.isGmReset() || msg.isGsReset() || msg.isXgReset()) {

      _reset_state(w, s);

      return;

    }

    var st = msg[0] >> 4;

    var ch = msg[0] & 15;

    var m;

    if (st == 0xb) {

      switch (msg[1]) {

        case 0:

          _check_unused(w, s, ch, 'bm');

          s[ch].bm = [msg, false];

          break;

        case 0x20:

          _check_unused(w, s, ch, 'bl');

          s[ch].bl = [msg, false];

          break;

        case 0x62:

          _check_unused(w, s, ch, 'nl');

          _check_unused(w, s, ch, 'rm');

          _check_unused(w, s, ch, 'rl');

          s[ch].nl = [msg, false];

          break;

        case 0x63:

          _check_unused(w, s, ch, 'nm');

          _check_unused(w, s, ch, 'rm');

          _check_unused(w, s, ch, 'rl');

          s[ch].nm = [msg, false];

          break;

        case 0x64:

          _check_unused(w, s, ch, 'rl');

          _check_unused(w, s, ch, 'nm');

          _check_unused(w, s, ch, 'nl');

          s[ch].rl = [msg, false];

          break;

        case 0x65:

          _check_unused(w, s, ch, 'rm');

          _check_unused(w, s, ch, 'nm');

          _check_unused(w, s, ch, 'nl');

          s[ch].rm = [msg, false];

          break;

        case 0x6: case 0x26: case 0x60: case 0x61:

          if (s[ch].rm && s[ch].rl) {

            s[ch].rm[1] = true;

            s[ch].rl[1] = true;

          }

          if (s[ch].rm && !s[ch].rl && !s[ch].rm[1]) {

            m = s[ch].rm[0];

            w.push(_issue(m._off, 'No matching RPN LSB', m.toString(), m.tt, m.track));

            s[ch].rm[1] = true;

          }

          if (!s[ch].rm && s[ch].rl && !s[ch].rl[1]) {

            m = s[ch].rl[0];

            w.push(_issue(m._off, 'No matching RPN MSB', m.toString(), m.tt, m.track));

            s[ch].rl[1] = true;

          }

          if (s[ch].nm && s[ch].nl) {

            s[ch].nm[1] = true;

            s[ch].nl[1] = true;

          }

          if (s[ch].nm && !s[ch].nl && !s[ch].nm[1]) {

            m = s[ch].nm[0];

            w.push(_issue(m._off, 'No matching NRPN LSB', m.toString(), m.tt, m.track));

            s[ch].nm[1] = true;

          }

          if (!s[ch].nm && s[ch].nl && !s[ch].nl[1]) {

            m = s[ch].nl[0];

            w.push(_issue(m._off, 'No matching NRPN MSB', m.toString(), m.tt, m.track));

            s[ch].nl[1] = true;

          }

          if (!s[ch].rm && !s[ch].rl && !s[ch].nm && !s[ch].nl) {

            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));

          }

          if (s[ch].rm && s[ch].rl && s[ch].rm[0][2] == 0x7f && s[ch].rl[0][2] == 0x7f) {

            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));

          }

          break;

      }

      return;

    }

    if (st == 0xc) {

      if (s[ch].bm) s[ch].bm[1] = true;

      if (s[ch].bl) s[ch].bl[1] = true;

      if (s[ch].bl && !s[ch].bm) {

        m = s[ch].bl[0];

        w.push(_issue(m._off, 'No matching Bank Select MSB', m.toString(), m.tt, m.track));

      }

      if (s[ch].bm && !s[ch].bl) {

        m = s[ch].bm[0];

        w.push(_issue(m._off, 'No matching Bank Select LSB', m.toString(), m.tt, m.track));

      }

    }

  }

  function _check_unused(w, s, c, x) {

    if (s[c][x] && !s[c][x][1]) {

      var str;

      switch (x) {

        case 'bm': case 'bl': str = 'Obsolete Bank Select'; break;

        case 'nm': case 'nl': str = 'Obsolete NRPN'; break;

        case 'rm': case 'rl': str = 'Obsolete RPN'; break;

      }

      var m = s[c][x][0];

      w.push(_issue(m._off, str, m.toString(), m.tt, m.track));

      delete s[c][x];

    }

  }

  SMF.prototype.validate = function() {

    var i, k, z;

    var w = [];

    if (this._warn) for (i = 0; i < this._warn.length; i++) w.push(Warn(this._warn[i]));

    var mm = _sort(this);

    k = 0;

    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) {

      this[i]._validate(w, k);

      k++;

    }

    var st = {};

    _reset_state(w, st);

    for (i = 0; i < mm.length; i++) {

      z = _validate_midi(mm[i], this.type == 1);

      if (z) {

        z.track = mm[i].track;

        w.push(z);

      }

      _update_state(w, st, mm[i]);

    }

    _reset_state(w, st);

    w.sort(function(a, b) {

      return (a.off || 0) - (b.off || 0) || (a.track || 0) - (b.track || 0) || (a.tick || 0) - (b.tick || 0);

    });

    if (w.length) {

      for (i = 0; i < w.length; i++) w[i] = Warn(w[i]);

      return w;

    }

  };

  SMF.prototype.dump = function(rmi) {

    var s = '';

    if (rmi) {

      s = this.dump();

      return 'RIFF' + _num4le(s.length + 12) + 'RMIDdata' + _num4le(s.length) + s;

    }

    this.ntrk = 0;

    for (var i = 0; i < this.length; i++) {

      if (this[i] instanceof MTrk) this.ntrk++;

      s += this[i].dump();

    }

    s = (this.ppqn ? _num2(this.ppqn) : String.fromCharCode(0x100 - this.fps) + String.fromCharCode(this.ppf)) + s;

    s = MThd0006 + String.fromCharCode(0) + String.fromCharCode(this.type) + _num2(this.ntrk) + s;

    return s;

  };

  SMF.prototype.toBuffer = function(rmi) {

    return Buffer.from(this.dump(rmi), 'binary');

  };

  SMF.prototype.toUint8Array = function(rmi) {

    var str = this.dump(rmi);

    var buf = new ArrayBuffer(str.length);

    var arr = new Uint8Array(buf);

    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);

    return arr;

  };

  SMF.prototype.toArrayBuffer = function(rmi) {

    return this.toUint8Array(rmi).buffer;

  };

  SMF.prototype.toInt8Array = function(rmi) {

    return new Int8Array(this.toArrayBuffer(rmi));

  };

  SMF.prototype.toString = function() {

    var i;

    this.ntrk = 0;

    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) this.ntrk++;

    var a = ['SMF:', '  type: ' + this.type];

    if (this.ppqn) a.push('  ppqn: ' + this.ppqn);

    else a.push('  fps: ' + this.fps, '  ppf: ' + this.ppf);

    a.push('  tracks: ' + this.ntrk);

    for (i = 0; i < this.length; i++) {

      a.push(this[i].toString());

    }

    return a.join('\\n');

  };



  function _var2num(s) {

    if (!s.length) return 0; // missing last byte

    if (s.charCodeAt(0) < 0x80) return [1, s.charCodeAt(0)];

    var x = s.charCodeAt(0) & 0x7f;

    x <<= 7;

    if (s.charCodeAt(1) < 0x80) return [2, x + s.charCodeAt(1)];

    x += s.charCodeAt(1) & 0x7f;

    x <<= 7;

    if (s.charCodeAt(2) < 0x80) return [3, x + s.charCodeAt(2)];

    x += s.charCodeAt(2) & 0x7f;

    x <<= 7;

    x += s.charCodeAt(3) & 0x7f;

    return [4, s.charCodeAt(3) < 0x80 ? x : -x];

  }

  function _msglen(n) {

    switch (n & 0xf0) {

      case 0x80: case 0x90: case 0xa0: case 0xb0: case 0xe0: return 2;

      case 0xc0: case 0xD0: return 1;

    }

    switch (n) {

      case 0xf1: case 0xf3: return 1;

      case 0xf2: return 2;

    }

    return 0;

  }



  function _sort(smf) {

    var i, j;

    var tt = [];

    var mm = [];

    for (i = 0; i < smf.length; i++) if (smf[i] instanceof MTrk) tt.push(smf[i]);

    if (smf.type != 1) {

      for (i = 0; i < tt.length; i++) {

        for (j = 0; j < tt[i].length; j++) {

          tt[i][j].track = i;

          mm.push(tt[i][j]);

        }

      }

    }

    else {

      var t = 0;

      var pp = [];

      for (i = 0; i < tt.length; i++) pp[i] = 0;

      while (true) {

        var b = true;

        var m = 0;

        for (i = 0; i < tt.length; i++) {

          while (pp[i] < tt[i].length && tt[i][pp[i]].tt == t) {

            tt[i][pp[i]].track = i;

            mm.push(tt[i][pp[i]]);

            pp[i]++;

          }

          if (pp[i] >= tt[i].length) continue;

          if (b) m = tt[i][pp[i]].tt;

          b = false;

          if (m > tt[i][pp[i]].tt) m = tt[i][pp[i]].tt;

        }

        t = m;

        if (b) break;

      }

    }

    return mm;

  }



  SMF.prototype.annotate = function() {

    var mm = _sort(this);

    var ctxt = JZZ.Context();

    for (var i = 0; i < mm.length; i++) {

      if (mm[i].lbl) mm[i].lbl = undefined;

      ctxt._read(mm[i]);

    }

    return this;

  };



  SMF.prototype.player = function() {

    var pl = new Player();

    pl.ppqn = this.ppqn;

    pl.fps = this.fps;

    pl.ppf = this.ppf;

    var i;

    var e;

    var mm = _sort(this);

    if (this.type == 2) {

      var tr = 0;

      var m = 0;

      var t = 0;

      for (i = 0; i < mm.length; i++) {

        e = JZZ.MIDI(mm[i]);

        if (tr != e.track) {

          tr = e.track;

          m = t;

        }

        t = e.tt + m;

        e.tt = t;

        pl._data.push(e);

      }

    }

    else {

      for (i = 0; i < mm.length; i++) {

        e = JZZ.MIDI(mm[i]);

        pl._data.push(e);

      }

    }

    pl._type = this.type;

    pl._tracks = this.tracks();

    pl._timing();

    return pl;

  };



  function Chunk(t, d, off) {

    if (!(this instanceof Chunk)) return new Chunk(t, d, off);

    var i;

    if (this.sub[t]) return this.sub[t](t, d, off);

    if (typeof t != 'string' || t.length != 4) _error(\"Invalid chunk type: \" + t);

    for (i = 0; i < t.length; i++) if (t.charCodeAt(i) < 0 || t.charCodeAt(i) > 255) _error(\"Invalid chunk type: \" + t);

    if (typeof d != 'string') _error(\"Invalid data type: \" + d);

    for (i = 0; i < d.length; i++) if (d.charCodeAt(i) < 0 || d.charCodeAt(i) > 255) _error(\"Invalid data character: \" + d[i]);

    this.type = t;

    this.data = d;

    this._off = off;

  }

  SMF.Chunk = Chunk;

  Chunk.prototype = [];

  Chunk.prototype.constructor = Chunk;

  Chunk.prototype.copy = function() { return new Chunk(this.type, this.data); };



  Chunk.prototype.sub = {

    'MTrk': function(t, d, off) { return new MTrk(d, off); }

  };

  Chunk.prototype.dump = function() {

    return this.type + _num4(this.data.length) + this.data;

  };

  Chunk.prototype.toString = function() {

    return this.type + ': ' + this.data.length + ' bytes';

  };



  function _validate_msg_data(trk, s, p, m, t, off) {

    var x = s.substr(p, m);

    if (x.length < m) {

      trk._complain(off, 'Incomplete track data', m - x.length, t);

      x = (x + '\\x00\\x00').substr(0, m);

    }

    for (var i = 0; i < m; i++) if (x.charCodeAt(i) > 127) {

      trk._complain(off, 'Bad MIDI value', x.charCodeAt(i), t);

      x = x.substr(0, i) + '\\x00' + x.substr(i + 1);

    }

    return x;

  }

  function _validate_number(trk, s, off, t, tt) {

    var nn = _var2num(s);

    if (tt) t += nn[1];

    if (nn[1] < 0) {

      nn[1] = -nn[1];

      trk._complain(off, \"Bad byte sequence\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);

    }

    else if (nn[0] == 4 && nn[1] < 0x200000) {

      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);

    }

    else if (nn[0] == 3 && nn[1] < 0x4000) {

      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2), t);

    }

    else if (nn[0] == 2 && nn[1] < 0x80) {

      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1), t);

    }

    return nn;

  }



  function MTrk(s, off) {

    if (!(this instanceof MTrk)) return new MTrk(s, off);

    this._off = off;

    this._orig = this;

    this._tick = 0;

    if(typeof s == 'undefined') {

      this.push(new Event(0, '\\xff\\x2f', ''));

      return;

    }

    var t = 0;

    var p = 0;

    var w = '';

    var st;

    var m;

    off += 8;

    var offset = p + off;

    while (p < s.length) {

      m = _validate_number(this, s.substr(p, 4), offset, t, true);

      p += m[0];

      t += m[1];

      offset = p + off;

      if (s.charCodeAt(p) == 0xff) {

        st = s.substr(p, 2);

        if (st.length < 2) {

          this._complain(offset, 'Incomplete track data', 3 - st.length, t);

          st = '\\xff\\x2f';

        }

        p += 2;

        m = _validate_number(this, s.substr(p, 4), offset + 2, t);

        p += m[0];

        this.push (new Event(t, st, s.substr(p, m[1]), offset));

        p += m[1];

      }

      else if (s.charCodeAt(p) == 0xf0 || s.charCodeAt(p) == 0xf7) {

        st = s.substr(p, 1);

        p += 1;

        m = _validate_number(this, s.substr(p, 4), offset + 1, t);

        p += m[0];

        this.push(new Event(t, st, s.substr(p, m[1]), offset));

        p += m[1];

      }

      else if (s.charCodeAt(p) & 0x80) {

        w = s.substr(p, 1);

        p += 1;

        m = _msglen(w.charCodeAt(0));

        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);

        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset), offset));

        p += m;

      }

      else if (w.charCodeAt(0) & 0x80) {

        m = _msglen(w.charCodeAt(0));

        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);

        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset), offset));

        p += m;

      }

    }

  }

  SMF.MTrk = MTrk;



  MTrk.prototype = [];

  MTrk.prototype.constructor = MTrk;

  MTrk.prototype.type = 'MTrk';

  MTrk.prototype.copy = function() {

    var trk = new MTrk();

    trk.length = 0;

    for (var i = 0; i < this.length; i++) trk.push(new JZZ.MIDI(this[i]));

    return trk;

  };

  function _shortmsg(msg) {

    var s = msg.toString();

    if (s.length > 80) {

      s = s.substr(0, 78);

      s = s.substr(0, s.lastIndexOf(' ')) + ' ...';

    }

    return s;

  }

  function _metaevent_len(msg, name, len) {

    if (msg.dd.length < len) return _issue(msg._off, 'Invalid ' + name + ' meta event: ' + (msg.dd.length ? 'data too short' : 'no data'), _shortmsg(msg), msg.tt);

    if (msg.dd.length > len) return _issue(msg._off, 'Invalid ' + name + ' meta event: data too long', _shortmsg(msg), msg.tt);

  }

  function _timing_first_track(msg, name) {

    return _issue(msg._off, name + ' meta events must be in the first track', _shortmsg(msg), msg.tt);

  }

  function _validate_midi(msg, t1) {

    var issue;

    if (typeof msg.ff != 'undefined') {

      if (msg.ff > 0x7f) return _issue(msg._off, 'Invalid meta event', _shortmsg(msg), msg.tt);

      else if (msg.ff == 0) {

        issue = _metaevent_len(msg, 'Sequence Number', 2); if (issue) return issue;

      }

      else if (msg.ff < 10) {

        if (!msg.dd.length) return _issue(msg._off, 'Invalid Text meta event: no data', _shortmsg(msg), msg.tt);

      }

      else if (msg.ff == 32) {

        issue = _metaevent_len(msg, 'Channel Prefix', 1); if (issue) return issue;

        if (msg.dd.charCodeAt(0) > 15) return _issue(msg._off, 'Invalid Channel Prefix meta event: incorrect data', _shortmsg(msg), msg.tt);

      }

      else if (msg.ff == 33) {

        issue = _metaevent_len(msg, 'MIDI Port', 1); if (issue) return issue;

        if (msg.dd.charCodeAt(0) > 127) return _issue(msg._off, 'Invalid MIDI Port meta event: incorrect data', _shortmsg(msg), msg.tt);

      }

      else if (msg.ff == 47) {

        issue = _metaevent_len(msg, 'End of Track', 0); if (issue) return issue;

      }

      else if (msg.ff == 81) {

        issue = _metaevent_len(msg, 'Tempo', 3); if (issue) return issue;

        if (t1 && msg.track) return _timing_first_track(msg, 'Tempo');

      }

      else if (msg.ff == 84) {

        issue = _metaevent_len(msg, 'SMPTE', 5); if (issue) return issue;

        if ((msg.dd.charCodeAt(0) & 0x1f) >= 24 || msg.dd.charCodeAt(1) >= 60 || msg.dd.charCodeAt(2) >= 60 || msg.dd.charCodeAt(3) >= 30 || msg.dd.charCodeAt(4) >= 200 || msg.dd.charCodeAt(4) % 25) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect data', _shortmsg(msg), msg.tt);

        else if ((msg.dd.charCodeAt(0) >> 5) > 3) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect format', msg.dd.charCodeAt(0) >> 5, msg.tt);

        if (t1 && msg.track) return _timing_first_track(msg, 'SMPTE');

      }

      else if (msg.ff == 88) {

        issue = _metaevent_len(msg, 'Time Signature', 4); if (issue) return issue;

        if (msg.dd.charCodeAt(1) > 8) return _issue(msg._off, 'Invalid Time Signature meta event: incorrect data', _shortmsg(msg), msg.tt);

        if (t1 && msg.track) return _timing_first_track(msg, 'Time Signature');

      }

      else if (msg.ff == 89) {

        issue = _metaevent_len(msg, 'Key Signature', 2); if (issue) return issue;

        if (msg.dd.charCodeAt(1) > 1 || msg.dd.charCodeAt(0) > 255 || (msg.dd.charCodeAt(0) > 7 && msg.dd.charCodeAt(0) < 249)) return _issue(msg._off, 'Invalid Key Signature meta event: incorrect data', msg.toString(), msg.tt);

      }

      else if (msg.ff == 127) {

        // Sequencer Specific meta event

      }

      else {

        return _issue(msg._off, 'Unknown meta event', _shortmsg(msg), msg.tt);

      }

    }

    else {

      //

    }

  }

  MTrk.prototype._validate = function(w, k) {

    var i, z;

    if (this._warn) for (i = 0; i < this._warn.length; i++) {

      z = Warn(this._warn[i]);

      z.track = k;

      w.push(z);

    }

  };

  MTrk.prototype._complain = function(off, msg, data, tick) {

    if (!this._warn) this._warn = [];

    this._warn.push(_issue(off, msg, data, tick));

  };

  MTrk.prototype.dump = function() {

    var s = '';

    var t = 0;

    var m = '';

    var i, j;

    for (i = 0; i < this.length; i++) {

      s += _num(this[i].tt - t);

      t = this[i].tt;

      if (typeof this[i].dd != 'undefined') {

        s += '\\xff';

        s += String.fromCharCode(this[i].ff);

        s += _num(this[i].dd.length);

        s += this[i].dd;

      }

      else if (this[i][0] == 0xf0 || this[i][0] == 0xf7) {

        s += String.fromCharCode(this[i][0]);

        s += _num(this[i].length - 1);

        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);

      }

      else {

        if (this[i][0] != m) {

          m = this[i][0];

          s += String.fromCharCode(this[i][0]);

        }

        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);

      }

    }

    return 'MTrk' + _num4(s.length) + s;

  };

  MTrk.prototype.toString = function() {

    var a = ['MTrk:'];

    for (var i = 0; i < this.length; i++) {

      a.push(this[i].tt + ': ' + this[i].toString());

    }

    return a.join('\\n  ');

  };



  MTrk.prototype.add = function(t, msg) {

    t = parseInt(t);

    if(isNaN(t) || t < 0) _error('Invalid parameter');

    msg = JZZ.MIDI(msg);

    msg.tt = t;

    if (this[this._orig.length - 1].tt < t) this[this._orig.length - 1].tt = t; // end of track

    if (msg.ff == 0x2f || msg[0] > 0xf0 && msg[0] != 0xf7) return this;

    var i;

    for (i = 0; i < this._orig.length - 1; i++) {

      if (this._orig[i].tt > t) break;

    }

    this._orig.splice(i, 0, msg);

    return this;

  };



  MTrk.prototype._ch = undefined;

  MTrk.prototype._sxid = 0x7f;

  MTrk.prototype._image = function() {

    var F = function() {}; F.prototype = this._orig;

    var img = new F();

    img._ch = this._ch;

    img._sxid = this._sxid;

    img._tick = this._tick;

    return img;

  };

  MTrk.prototype.send = function(msg) { this._orig.add(this._tick, msg); return this; };

  MTrk.prototype.tick = function(t) {

    if (t != parseInt(t) || t < 0) throw RangeError('Bad tick value: ' + t);

    if (!t) return this;

    var img = this._image();

    img._tick = this._tick + t;

    return img;

  };

  MTrk.prototype.sxId = function(id) {

    if (typeof id == 'undefined') id = MTrk.prototype._sxid;

    if (id == this._sxid) return this;

    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);

    var img = this._image();

    img._sxid = id;

    return img;

  };

  MTrk.prototype.ch = function(c) {

    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;

    if (typeof c != 'undefined') {

      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');

    }

    var img = this._image();

    img._ch = c;

    return img;

  };

  MTrk.prototype.note = function(c, n, v, t) {

    this.noteOn(c, n, v);

    if (typeof this._ch == 'undefined') {

      if (t > 0) this.tick(t).noteOff(c, n);

    }

    else {

      if (v > 0) this.tick(v).noteOff(c);

    }

    return this;

  };

  JZZ.lib.copyMidiHelpers(MTrk);



  function Event(t, s, d, off) {

    var midi;

    if (s.charCodeAt(0) == 0xff) {

      midi = JZZ.MIDI.smf(s.charCodeAt(1), d);

    }

    else {

      var a = [s.charCodeAt(0)];

      for (var i = 0; i < d.length; i++) a.push(d.charCodeAt(i));

      midi = JZZ.MIDI(a);

    }

    if (typeof off != 'undefined') midi._off = off;

    midi.tt = t;

    return midi;

  }



  function Player() {

    var self = new JZZ.Widget();

    self._info.name = 'MIDI Player';

    self._info.manufacturer = 'Jazz-Soft';

    self._info.version = _ver;

    self.playing = false;

    self._loop = 0;

    self._data = [];

    self._pos = 0;

    self._tick = (function(x) { return function(){ x.tick(); }; })(self);

    for (var k in Player.prototype) if (Player.prototype.hasOwnProperty(k)) self[k] = Player.prototype[k];

    return self;

  }

  Player.prototype.onEnd = function() {};

  Player.prototype.loop = function(n) {

    if (n == parseInt(n) && n > 0) this._loop = n;

    else this._loop = n ? -1 : 0;

  };

  Player.prototype.play = function() {

    this.event = undefined;

    this.playing = true;

    this.paused = false;

    this._ptr = 0;

    this._pos = 0;

    this._p0 = 0;

    this._t0 = _now();

    this.tick();

  };

  Player.prototype.stop = function() {

    this._pos = 0;

    this.playing = false;

    this.event = 'stop';

    this.paused = undefined;

  };

  Player.prototype.pause = function() {

    this.event = 'pause';

  };

  Player.prototype.resume = function() {

    if (this.playing) return;

    if (this.paused) {

      this.event = undefined;

      this._t0 = _now();

      this.playing = true;

      this.paused = false;

      this.tick();

    }

    else this.play();

  };

  Player.prototype.sndOff = function() {

    var c;

    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.allSoundOff(c));

    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.resetAllControllers(c));

  };

  function _filter(e) { this._receive(e); }

  Player.prototype._filter = _filter;

  Player.prototype.filter = function(f) {

    this._filter = f instanceof Function ? f : _filter;

  };

  function _div(s) { return (s.charCodeAt(0) << 16) + (s.charCodeAt(1) << 8) + s.charCodeAt(2); }

  Player.prototype._receive = function(e) {

    if (e.ff == 0x51 && this.ppqn) {

      this._mul = this.ppqn * 1000.0 / _div(e.dd);

      this.mul = this._mul * this._speed;

      this._t0 = _now();

      this._p0 = this._pos;

    }

    this._emit(e);

  };

  Player.prototype.tick = function() {

    var t = _now();

    var e;

    this._pos = this._p0 + (t - this._t0) * this.mul;

    for(; this._ptr < this._data.length; this._ptr++) {

      e = this._data[this._ptr];

      if (e.tt > this._pos) break;

      this._filter(e);

    }

    if (this._ptr >= this._data.length) {

      if (this._loop && this._loop != -1) this._loop--;

      if (this._loop) {

        this._ptr = 0;

        this._p0 = 0;

        this._t0 = t;

      }

      else this.stop();

      this.onEnd();

    }

    if (this.event == 'stop') {

      this.playing = false;

      this.paused = false;

      this._pos = 0;

      this._ptr = 0;

      this.sndOff();

      this.event = undefined;

    }

    if (this.event == 'pause') {

      this.playing = false;

      this.paused = true;

      if (this._pos >= this._duration) this._pos = this._duration - 1;

      this._p0 = this._pos;

      this.sndOff();

      this.event = undefined;

    }

    if (this.playing) JZZ.lib.schedule(this._tick);

  };

  Player.prototype.trim = function() {

    var i, j, e;

    var data = [];

    var dt = 0;

    j = 0;

    for (i = 0; i < this._data.length; i++) {

      e = this._data[i];

      if (e.length || e.ff == 1 || e.ff == 5) {

        for (; j <= i; j++) data.push(this._data[j]);

      }

    }

    dt += this._data[i - 1].tt - this._data[j - 1].tt;

    this._data = data;

    this._timing();

    return dt;

  };

  Player.prototype._timing = function() {

    var i, m, t, e;

    this._duration = this._data[this._data.length - 1].tt;

    this._ttt = [];

    if (this.ppqn) {

      this._mul = this.ppqn / 500.0; // 120 bpm

      m = this._mul;

      t = 0;

      this._durationMS = 0;

      this._ttt.push({ t: 0, m: m, ms: 0 });

      for (i = 0; i < this._data.length; i++) {

        e = this._data[i];

        if (e.ff == 0x51) {

          this._durationMS += (e.tt - t) / m;

          t = e.tt;

          m = this.ppqn * 1000.0 / _div(e.dd);

          this._ttt.push({ t: t, m: m, ms: this._durationMS });

        }

      }

      this._durationMS += (this._duration - t) / m;

    }

    else {

      this._mul = this.fps * this.ppf / 1000.0; // 1s = fps*ppf ticks

      this._ttt.push({ t: 0, m: this._mul, ms: 0 });

      this._durationMS = this._duration / this._mul;

    }

    this._speed = 1;

    this.mul = this._mul;

    this._ttt.push({ t: this._duration, m: 0, ms: this._durationMS });

    if (!this._durationMS) this._durationMS = 1;

  };

  Player.prototype.speed = function(x) {

    if (typeof x != 'undefined') {

      if (isNaN(parseFloat(x)) || x <= 0) x = 1;

      this._speed = x;

      this.mul = this._mul * this._speed;

      this._p0 = this._pos - (_now() - this._t0) * this.mul;

    }

    return this._speed;

  };

  Player.prototype.type = function() { return this._type; };

  Player.prototype.tracks = function() { return this._tracks; };

  Player.prototype.duration = function() { return this._duration; };

  Player.prototype.durationMS = function() { return this._durationMS; };

  Player.prototype.position = function() { return this._pos; };

  Player.prototype.positionMS = function() { return this.tick2ms(this._pos); };

  Player.prototype.jump = function(t) {

    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);

    if (t < 0) t = 0.0;

    if (t >= this._duration) t = this._duration - 1;

    this._goto(t);

  };

  Player.prototype.jumpMS = function(ms) {

    if (isNaN(parseFloat(ms))) _error('Not a number: ' + ms);

    if (ms < 0) ms = 0.0;

    if (ms >= this._durationMS) ms = this._durationMS - 1;

    this._goto(this._ms2t(ms));

  };

  Player.prototype._t2ms = function(t) {

    if (!t) return 0.0;

    var i;

    for (i = 0; this._ttt[i].t < t; i++) ;

    i--;

    return this._ttt[i].ms + (t - this._ttt[i].t) / this._ttt[i].m;

  };

  Player.prototype._ms2t = function(ms) {

    if (!ms) return 0.0;

    var i;

    for (i = 0; this._ttt[i].ms < ms; i++) ;

    i--;

    return this._ttt[i].t + (ms - this._ttt[i].ms) * this._ttt[i].m;

  };

  Player.prototype._goto = function(t) {

    this._pos = t;

    if (!this.playing) this.paused = !!t;

    this._toPos();

    if (this.playing) this.sndOff();

  };

  Player.prototype._toPos = function() {

    for(this._ptr = 0; this._ptr < this._data.length; this._ptr++) {

      var e = this._data[this._ptr];

      if (e.tt >= this._pos) break;

      if (e.ff == 0x51 && this.ppqn) this._mul = this.ppqn * 1000.0 / _div(e.dd);

    }

    this.mul = this._mul * this._speed;

    this._t0 = _now();

    this._p0 = this._pos;

  };

  Player.prototype.tick2ms = function(t) {

    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);

    if (t <= 0) return 0.0;

    if (t >= this._duration) return this._durationMS;

    return this._t2ms(t);

  };

  Player.prototype.ms2tick = function(t) {

    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);

    if (t <= 0) return 0.0;

    if (t >= this._durationMS) return this._duration;

    return this._ms2t(t);

  };

  JZZ.MIDI.SMF = SMF;



  function _not_a_syx() { _error('Not a SYX file'); }



  function SYX(arg) {

    var self = this instanceof SYX ? this : self = new SYX();

    self._orig = self;

    if (typeof arg != 'undefined') {

      if (arg instanceof SMF) {

        self.copy(arg.player()._data);

        return self;

      }

      if (arg instanceof SYX) {

        self.copy(arg);

        return self;

      }

      try {

        if (arg instanceof ArrayBuffer) {

          arg = String.fromCharCode.apply(null, new Uint8Array(arg));

        }

      }

      catch (err) {/**/}

      try {

        if (arg instanceof Uint8Array || arg instanceof Int8Array) {

          arg = String.fromCharCode.apply(null, new Uint8Array(arg));

        }

      }

      catch (err) {/**/}

      try {

        /* istanbul ignore next */

        if (arg instanceof Buffer) {

          arg = arg.toString('binary');

        }

      }

      catch (err) {/**/}

      if (typeof arg != 'string') {

        arg = String.fromCharCode.apply(null, arg);

      }

      var x;

      var msg = [];

      var i = 0;

      var off = 0;

      while (i < arg.length) {

        if (arg.charCodeAt(i) != 0xf0) _not_a_syx();

        while (i < arg.length) {

          x = arg.charCodeAt(i);

          msg.push(x);

          if (x == 0xf7) {

            msg = JZZ.MIDI(msg);

            msg._off = off;

            self.push(JZZ.MIDI(msg));

            msg = [];

            off = i + 1;

            break;

          }

          i++;

        }

        i++;

      }

      if (msg.length) _not_a_syx();

      return self;

    }

    return self;

  }

  SYX.version = function() { return _ver; };

  SYX.prototype = [];

  SYX.prototype.constructor = SYX;



  SYX.prototype.copy = function(data) {

    for (var i = 0; i < data.length; i++) if (!data[i].isSMF()) {

      if (data[i].isFullSysEx()) this.push(JZZ.MIDI(data[i]));

      else _not_a_syx();

    }

  };

  SYX.prototype.dump = function() {

    var i, j, s = '';

    for (i = 0; i < this.length; i++) for (j = 0; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);

    return s;

  };

  SYX.prototype.toBuffer = function() {

    return Buffer.from(this.dump(), 'binary');

  };

  SYX.prototype.toUint8Array = function() {

    var str = this.dump();

    var buf = new ArrayBuffer(str.length);

    var arr = new Uint8Array(buf);

    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);

    return arr;

  };

  SYX.prototype.toArrayBuffer = function() {

    return this.toUint8Array().buffer;

  };

  SYX.prototype.toInt8Array = function() {

    return new Int8Array(this.toArrayBuffer());

  };

  SYX.prototype.toString = function() {

    var i;

    var a = ['SYX:'];

    for (i = 0; i < this.length; i++) {

      a.push(this[i].toString());

    }

    return a.join('\\n  ');

  };

  SYX.prototype.annotate = function() {

    var ctxt = JZZ.Context();

    for (var i = 0; i < this.length; i++) {

      if (this[i].lbl) this[i].lbl = undefined;

      ctxt._read(this[i]);

    }

    return this;

  };

  SYX.prototype.player = function() {

    var pl = new Player();

    pl.ppqn = 96;

    var i;

    for (i = 0; i < this.length; i++) {

      var e = JZZ.MIDI(this[i]);

      e.tt = 0;

      pl._data.push(e);

    }

    pl._type = 0;

    pl._tracks = 1;

    pl._timing();

    pl.sndOff = function() {};

    return pl;

  };



  SYX.prototype._ch = undefined;

  SYX.prototype._sxid = 0x7f;

  SYX.prototype._image = function() {

    var F = function() {}; F.prototype = this._orig;

    var img = new F();

    img._ch = this._ch;

    img._sxid = this._sxid;

    return img;

  };

  SYX.prototype.add = function(msg) {

    msg = JZZ.MIDI(msg);

    if (msg.isFullSysEx()) this._orig.push(msg);

    return this;

  };

  SYX.prototype.send = function(msg) { return this.add(msg); };

  SYX.prototype.sxId = function(id) {

    if (typeof id == 'undefined') id = SYX.prototype._sxid;

    if (id == this._sxid) return this;

    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);

    var img = this._image();

    img._sxid = id;

    return img;

  };

  SYX.prototype.ch = function(c) {

    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;

    if (typeof c != 'undefined') {

      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');

    }

    var img = this._image();

    img._ch = c;

    return img;

  };

  JZZ.lib.copyMidiHelpers(SYX);



  JZZ.MIDI.SYX = SYX;

}function _Player() {



  if (!JZZ.gui) JZZ.gui = {};

  if (JZZ.gui.Player) return;



  function empty() {}

  var _noBtn = { on: empty, off: empty, disable: empty, title: empty, div: {} };



  function Btn(html) {

    this.div = document.createElement('div');

    this.div.style.display = 'inline-block';

    this.div.style.position = 'absolute';

    this.div.style.boxSizing = 'content-box';

    this.div.style.top = '8px';

    this.div.style.margin = '0';

    this.div.style.padding = '2px';

    this.div.style.borderStyle = 'solid';

    this.div.style.borderWidth = '1px';

    this.div.style.borderColor = '#aaa';

    this.div.style.backgroundColor = '#888';

    this.div.style.lineHeight = '0';

    this.div.style.lineSpasing = '0';

    this.div.style.width = '18px';

    this.div.style.height = '18px';

    this.div.innerHTML = html;

  }

  Btn.prototype.on = function() {

    this.div.style.backgroundColor = '#ddd';

    this.div.style.borderColor = '#ccc';

    this.div.firstChild.style.fill = '#000';

  };

  Btn.prototype.off = function() {

    this.div.style.backgroundColor = '#aaa';

    this.div.style.borderColor = '#ccc';

    this.div.firstChild.style.fill = '#000';

  };

  Btn.prototype.disable = function() {

    this.div.style.backgroundColor = '#888';

    this.div.style.borderColor = '#aaa';

    this.div.firstChild.style.fill = '#555';

  };

  Btn.prototype.title = function(s) { this.div.title = s; };

  var svg_play = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 5v14l11-7z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';

  var svg_pause = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';

  var svg_stop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M6 6h12v12H6z\"/></svg>';

  var svg_loop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"/></svg>';

  var svg_more = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/></svg>';

  var svg_open = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M10 4H2v16h20V6H12l-2-2z\"/></svg>';

  var svg_link = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/></svg>';

  var svg_close = '<svg stroke=\"#ff8\" xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"7\" viewBox=\"0 0 7 7\"><line x1=\"1\" y1=\"1\" x2=\"6\" y2=\"6\"/><line x1=\"1\" y1=\"6\" x2=\"6\" y2=\"1\"/></svg>';



  function _stopProp(e) { e.stopPropagation(); e.preventDefault(); }



  function _createGUI(self, arg) {

    self.gui = document.createElement('div');

    self.gui.style.display = 'inline-block';

    self.gui.style.position = 'relative';

    self.gui.style.boxSizing = 'content-box';

    self.gui.style.margin = '0px';

    self.gui.style.padding = '0px';

    self.gui.style.borderStyle = 'none';

    self.gui.style.backgroundColor = '#888';

    self.gui.style.width = '270px';

    self.gui.style.height = '40px';



    var left = 8;

    var right = 238;

    var step = 28;



    if (arg.play) {

      self.playBtn = new Btn(svg_play);

      self.playBtn.div.style.left = left + 'px';

      left += step;

      self.playBtn.div.title = 'play';

      self.playBtn.div.addEventListener('click', function() { self.play(); });

      self.gui.appendChild(self.playBtn.div);

    }

    else self.playBtn = _noBtn;



    if (arg.pause) {

      self.pauseBtn = new Btn(svg_pause);

      self.pauseBtn.div.style.left = left + 'px';

      left += step;

      self.pauseBtn.div.title = 'pause';

      self.pauseBtn.div.addEventListener('click', function() { self.pause(); });

      self.gui.appendChild(self.pauseBtn.div);

    }

    else self.pauseBtn = _noBtn;



    if (arg.stop) {

      self.stopBtn = new Btn(svg_stop);

      self.stopBtn.div.style.left = left + 'px';

      left += step;

      self.stopBtn.div.title = 'stop';

      self.stopBtn.div.addEventListener('click', function() { self.stop(); });

      self.gui.appendChild(self.stopBtn.div);

    }

    else self.stopBtn = _noBtn;



    if (arg.loop) {

      self.loopBtn = new Btn(svg_loop);

      self.loopBtn.div.style.left = left + 'px';

      left += step;

      self.loopBtn.div.title = 'loop';

      self.loopBtn.div.addEventListener('click', function() { self.loop(); });

      self.gui.appendChild(self.loopBtn.div);

    }

    else self.loopBtn = _noBtn;



    if (arg.midi) {

      self.midiBtn = new Btn(svg_more);

      self.midiBtn.div.style.left = right + 'px';

      right -= step;

      self.midiBtn.div.title = 'midi';

      self.midiBtn.div.addEventListener('click', function() { self.settings(); });

      self.gui.appendChild(self.midiBtn.div);



      self.sel = document.createElement('select');

      self.sel.style.position = 'absolute';

      self.sel.style.top = '30px';

      self.sel.style.left = '40px';

      self.sel.style.width = '230px';

      self.sel.style.display = 'none';

      self.sel.style.zIndex = 1;

      self.sel.addEventListener('click', function() { self._selected(); });

      self.sel.addEventListener('keydown', function(e) { self._keydown(e); });

      self.sel.addEventListener('focusout', function() { self._closeselect(); });



      self.gui.appendChild(self.sel);

    }

    else self.midiBtn = _noBtn;



    if (arg.link) {

      self.linkBtn = new Btn(svg_link);

      self.linkBtn.div.style.left = right + 'px';

      right -= step;

      self.linkBtn.div.title = 'link';

      self.gui.appendChild(self.linkBtn.div);

    }



    if (arg.file) {

      self.fileBtn = new Btn(svg_open);

      self.fileBtn.div.style.left = right + 'px';

      right -= step;

      self.fileBtn.div.title = 'file';

      self.gui.appendChild(self.fileBtn.div);



      self.fileInput = document.createElement('input');

      self.fileInput.type = 'file';

      self.fileInput.style.position = 'fixed';

      self.fileInput.style.top = '-1000px';

      self.fileInput.accept = '.mid, .midi, .kar, .rmi, .syx';

      self.gui.appendChild(self.fileInput);



      if (window.FileReader) {

        self.fileBtn.off();

        self.fileBtn.div.addEventListener('click', function() { self.fileInput.click(); });

        self.fileInput.addEventListener('change', function(e) { _stopProp(e); if (e.target.files[0]) self.readFile(e.target.files[0]); });

        self.gui.addEventListener('drop', function(e) { _stopProp(e); self.fileBtn.off(); self.readFile(e.dataTransfer.files[0]); });

        self.gui.addEventListener('dragover', function(e) { _stopProp(e); self.fileBtn.on(); e.dataTransfer.dropEffect = 'copy'; });

        self.gui.addEventListener('dragexit', function(e) { _stopProp(e); self.fileBtn.off(); });

      }

    }

    else self.fileBtn = _noBtn;



    if (arg.close) {

      self.closeBtn = document.createElement('div');

      self.closeBtn.style.display = 'inline-block';

      self.closeBtn.style.position = 'absolute';

      self.closeBtn.style.boxSizing = 'content-box';

      self.closeBtn.style.top = '1px';

      self.closeBtn.style.left = '262px';

      self.closeBtn.style.margin = '0';

      self.closeBtn.style.padding = '0';

      self.closeBtn.style.backgroundColor = '#f44';

      self.closeBtn.style.width = '7px';

      self.closeBtn.style.height = '7px';

      self.closeBtn.style.lineHeight = '0';

      self.closeBtn.style.lineSpasing = '0';

      self.closeBtn.innerHTML = svg_close;

      self.closeBtn.title = 'close';

      self.closeBtn.addEventListener('click', function() { self.destroy(); });

      self.gui.appendChild(self.closeBtn);

    }



    self.rlen = right - left + 10;



    self.lbl = document.createElement('div');

    self.lbl.style.display = 'inline-block';

    self.lbl.style.position = 'absolute';

    self.lbl.style.top = '26px';

    self.lbl.style.left = left + 'px';

    self.lbl.style.width = (self.rlen + 10) + 'px';

    self.lbl.style.height = '12px';

    self.lbl.style.padding = '0';

    self.lbl.style.textAlign = 'center';

    self.lbl.style.color = '#aaa';

    self.lbl.style.fontSize = '12px';

    self.lbl.style.fontFamily = 'Arial, Helvetica, sans-serif';

    self.gui.appendChild(self.lbl);



    self.rail = document.createElement('div');

    self.rail.style.display = 'inline-block';

    self.rail.style.position = 'absolute';

    self.rail.style.boxSizing = 'content-box';

    self.rail.style.top = '19px';

    self.rail.style.left = (left + 5) + 'px';

    self.rail.style.width = self.rlen + 'px';

    self.rail.style.height = '0';

    self.rail.style.padding = '1px';

    self.rail.style.borderStyle = 'solid';

    self.rail.style.borderWidth = '1px';

    self.rail.style.borderRadius = '2px';

    self.rail.style.borderColor = '#aaa';

    self.rail.style.backgroundColor = '#888';

    self.gui.appendChild(self.rail);



    self.caret = document.createElement('div');

    self.caret.style.display = 'inline-block';

    self.caret.style.position = 'absolute';

    self.caret.style.boxSizing = 'content-box';

    self.caret.style.width = '2px';

    self.caret.style.height = '2px';

    self.caret.style.top = '-5px';

    self.caret.style.left = '-5px';

    self.caret.style.padding = '4px';

    self.caret.style.borderStyle = 'solid';

    self.caret.style.borderWidth = '1px';

    self.caret.style.borderRadius = '6px';

    self.caret.style.borderColor = '#aaa';

    self.caret.style.backgroundColor = '#888';

    self.caret.addEventListener('mousedown', function(e) { self._mousedown(e); });

    self.rail.appendChild(self.caret);



    window.addEventListener('mousemove', function(e) { self._mousemove(e); });

    window.addEventListener('mouseup', function(e) { self._mouseup(e); });

  }



  var _floating = 0;

  function Player(x, y) {

    if (!(this instanceof Player)) return new Player(x, y);

    var arg = {

      at: undefined,

      x: undefined,

      y: undefined,

      play: true,

      record: false,

      pause: true,

      stop: true,

      loop: true,

      file: false,

      link: false,

      midi: true,

      close: false,

      sndoff: true,

      ports: [undefined, /MIDI Through/i],

      connect: true

    };

    if (typeof x == 'object') for (var k in arg) if (arg.hasOwnProperty(k) && typeof x[k] != 'undefined') arg[k] = x[k];

    if (typeof arg.at == 'undefined') arg.at = x;

    if (typeof arg.x == 'undefined') arg.x = x;

    if (typeof arg.y == 'undefined') arg.y = y;

    _createGUI(this, arg);

    if (!(arg.ports instanceof Array)) arg.ports = [arg.ports];

    arg.ports.push(undefined);

    this._ports = arg.ports;

    this._conn = arg.connect;

    this._sndoff = arg.sndoff;

    this.disable();



    if (typeof arg.at == 'string') {

      try {

        document.getElementById(arg.at).appendChild(this.gui);

        return this;

      }

      catch(e) {}

    }

    try {

      arg.at.appendChild(this.gui);

      return this;

    }

    catch(e) {}



    if (arg.x != parseInt(arg.x) || arg.y != parseInt(arg.y)) {

      arg.x = _floating * 15 + 5;

      arg.y = _floating * 45 + 5;

      _floating++;

    }

    this.gui.style.position = 'fixed';

    this.gui.style.top = arg.y + 'px';

    this.gui.style.left = arg.x + 'px';

    this.gui.style.opacity = 0.9;

    var self = this;

    this.gui.addEventListener('mousedown', function(e) { self._startmove(e); });

    document.body.appendChild(this.gui);

  }

  Player.prototype = new JZZ.Widget();

  Player.prototype.constructor = Player;



  Player.prototype.label = function(html) {

    this.lbl.innerHTML = html;

  };

  Player.prototype.disable = function() {

    this.playBtn.disable();

    this.pauseBtn.disable();

    this.stopBtn.disable();

    this.loopBtn.disable();

    this.midiBtn.disable();

    if (this._conn) this.midiBtn.off();

    this.fileBtn.off();

    this.rail.style.borderColor = '#aaa';

    this.rail.style.backgroundColor = '#888';

    this.caret.style.borderColor = '#aaa';

    this.caret.style.backgroundColor = '#888';

  };

  Player.prototype.enable = function() {

    this.playBtn.off();

    this.pauseBtn.off();

    this.stopBtn.off();

    this.loopBtn.off();

    if (this._conn) this.midiBtn.off();

    this.rail.style.borderColor = '#ccc';

    this.caret.style.backgroundColor = '#aaa';

    this.caret.style.borderColor = '#ccc';

  };

  Player.prototype.load = function(smf) {

    var self = this;

    this._player = smf.player();

    this._player.trim();

    this._player.connect(this);

    this._player.onEnd = function() { self._onEnd(); };

    this._player.filter(this._setfilter);

    if (!this._sndoff) this._player.sndOff = empty;

    this.enable();

    this.onLoad(smf);

  };

  Player.prototype.filter = function(f) {

    this._setfilter = f instanceof Function ? f : undefined;

    if (this._player) this._player.filter(this._setfilter);

  };

  Player.prototype.onEnd = function() {};

  Player.prototype.onLoad = function() {};

  Player.prototype._onEnd = function() {

    this.onEnd();

    if (this._loop && this._loop != -1) this._loop--;

    if (!this._loop) {

      if (this._moving) clearInterval(this._moving);

      this._move();

      this._playing = false;

      this.playBtn.off();

    }

    else {

      if (this._loop == 1) {

        this._loop = 0;

        this.loopBtn.off();

        this.loopBtn.title('loop');

      }

      else this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));

    }

  };

  Player.prototype._move = function() {

    var off = Math.round(this._player.positionMS() * this.rlen / this._player.durationMS()) - 5;

    this.caret.style.left = off + 'px';

  };

  Player.prototype.onPlay = function() {};

  Player.prototype.onResume = function() {};

  Player.prototype._resume = function() {

    var self = this;

    this._player.resume();

    this._moving = setInterval(function() { self._move(); }, 100);

  };

  Player.prototype.play = function() {

    if (this._player) {

      var self = this;

      this.playBtn.on();

      this.pauseBtn.off();

      if (this._playing) return;

      if (this._paused) this.onResume();

      else this.onPlay();

      this._playing = true;

      this._paused = false;

      if (this._out || !this._conn) {

        this._resume();

      }

      else if (!this._waiting) {

        this._waiting = true;

        JZZ().openMidiOut(self._ports).and(function() {

          self._out = this;

          self._outname = this.name();

          self.midiBtn.title(self._outname);

          self._connect(this);

          self._waiting = false;

          if (self._playing) {

            self._resume();

          }

        }).or(function() {

          self._waiting = false;

          self._resume();

        });

      }

    }

  };

  Player.prototype.onStop = function() {};

  Player.prototype.stop = function() {

    if (this._player) {

      var self = this;

      this._player.stop();

      JZZ.lib.schedule(function() { self.onStop(); });

      if (this._moving) clearInterval(this._moving);

      this._playing = false;

      this._paused = false;

      this.playBtn.off();

      this.pauseBtn.off();

      this._move();

    }

  };

  Player.prototype.onPause = function() {};

  Player.prototype.pause = function(p) {

    if (this._player) {

      var self = this;

      if (this._paused) {

        if (typeof p == 'undefined' || p) {

          if (this._out) {

            this._resume();

            this.onResume();

            this._playing = true;

            this._paused = false;

            this.playBtn.on();

            this.pauseBtn.off();

          }

          else this.play();

        }

      }

      else if (this._playing) {

        if (typeof p == 'undefined' || !p) {

          this._player.pause();

          JZZ.lib.schedule(function() { self.onPause(); });

          if (this._moving) clearInterval(this._moving);

          this._playing = false;

          this._paused = true;

          this.playBtn.off();

          this.pauseBtn.on();

        }

      }

    }

  };

  Player.prototype.loop = function(n) {

    if (this._player) {

      if (typeof n == 'undefined') n = !this._loop;

      if (n == parseInt(n) && n > 0) this._loop = n;

      else this._loop = n ? -1 : 0;

      if (this._loop == 1) this._loop = 0;

      this._player.loop(this._loop);

      if (this._loop) {

        this.loopBtn.on();

        this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));

      }

      else {

        this.loopBtn.off();

        this.loopBtn.title('loop');

      }

    }

  };

  Player.prototype.onClose = function() {};

  Player.prototype.destroy = function() {

    this.stop();

    if (this._out) {

      var out = this._out;

      JZZ.lib.schedule(function() { out.close(); });

    }

    this.gui.parentNode.removeChild(this.gui);

    this.onClose();

  };



  Player.prototype.setUrl = function(url, name) {

    if (this.linkBtn) {

      if (this._url) {

        this.linkBtn.div.appendChild(this._url.firstChild);

        this.linkBtn.div.removeChild(this._url);

        this._url = undefined;

      }

      if (typeof url == 'undefined') this.linkBtn.disable();

      else {

        this.linkBtn.off();

        this._url = document.createElement('a');

        this._url.target = '_blank';

        this._url.appendChild(this.linkBtn.div.firstChild);

        this.linkBtn.div.appendChild(this._url);

        this._url.href = url;

        if (!this._url.dataset) this._url.dataset = {};

        this._url.dataset.jzzGuiPlayer = true;

        if (typeof name != 'undefined') this._url.download = name;

      }

    }

  };



  Player.prototype.readFile = function(f) {

    var self = this;

    var reader = new FileReader();

    reader.onload = function(e) {

      var data = '';

      var bytes = new Uint8Array(e.target.result);

      for (var i = 0; i < bytes.length; i++) data += String.fromCharCode(bytes[i]);

      var smf;

      try {

        smf = new JZZ.MIDI.SYX(data);

      }

      catch (err) {}

      try {

        if (!smf) smf = new JZZ.MIDI.SMF(data);

        self.stop();

        JZZ.lib.schedule(function() { self.load(smf); });

        if (self.linkBtn) self.setUrl('data:audio/midi;base64,' + JZZ.lib.toBase64(data), f.name);

      }

      catch (err) { console.log(err.message); }

    };

    reader.readAsArrayBuffer(f);

  };



  // selecting MIDI



  Player.prototype.onSelect = function() {};

  Player.prototype._closeselect = function() {

    this.midiBtn.off();

    this.sel.style.display = 'none';

    this._more = false;

  };

  Player.prototype.settings = function() {

    if (this._more || !this._conn) return;

    var self = this;

    this._more = true;

    this.midiBtn.on();

    this.sel.style.display = 'inline-block';

    JZZ().refresh().and(function() {

      var outs = this.info().outputs;

      var i;

      for (i = 0; i < self.sel.options.length; i++) self.sel.remove(i);

      for (i = 0; i < outs.length; i++) self.sel[i] = new Option(outs[i].name, outs[i].name, outs[i].name == self._outname, outs[i].name == self._outname);

      self.sel.size = outs.length < 2 ? 2 : outs.length;

      self.sel.focus();

    });

  };

  Player.prototype._selectMidi = function() {

    var self = this;

    JZZ().openMidiOut(this._newname).or(function() {

      self._newname = undefined;

      self._closeselect();

    }).and(function() {

      self._outname = self._newname;

      if (self._out) {

        if (self._playing) for (var c = 0; c < 16; c++) self._out._receive(JZZ.MIDI.allSoundOff(c));

        self._disconnect(self._out);

        self._out.close();

      }

      self._out = this;

      self._connect(this);

      self._newname = undefined;

      self._closeselect();

      self.midiBtn.title(self._outname);

      setTimeout(function() { self.onSelect(self._outname); }, 0);

    });

  };

  Player.prototype.select = function(name) {

    var self = this;

    this._newname = name;

    if (this._newname == this._outname) {

      this._newname = undefined;

      this._closeselect();

    }

    else {

      setTimeout(function() { self._selectMidi(); }, 0);

    }

  };

  Player.prototype._selected = function() {

    var selected = this.sel.options[this.sel.selectedIndex];

    if (selected) this.select(selected.value);

  };

  Player.prototype._keydown = function(e) {

    if (e.keyCode == 13 || e.keyCode == 32) this._selected();

  };



  Player.prototype.type = function() { return this._player ? this._player.type() : 0; };

  Player.prototype.tracks = function() { return this._player ? this._player.tracks() : 0; };

  Player.prototype.duration = function() { return this._player ? this._player.duration() : 0; };

  Player.prototype.durationMS = function() { return this._player ? this._player.durationMS() : 0; };

  Player.prototype.position = function() { return this._player ? this._player.position() : 0; };

  Player.prototype.positionMS = function() { return this._player ? this._player.positionMS() : 0; };

  Player.prototype.tick2ms = function() { return this._player ? this._player.tick2ms() : 0; };

  Player.prototype.ms2tick = function() { return this._player ? this._player.ms2tick() : 0; };

  Player.prototype.onJump = function() {};

  Player.prototype.jump = function(pos) {

    if (this._player) {

      this._player.jump(pos);

      this._move();

      if (!this._playing) {

        if (pos) {

          this._paused = true;

          this.playBtn.off();

          this.pauseBtn.on();

        }

        else {

          this._paused = false;

          this.playBtn.off();

          this.pauseBtn.off();

        }

      }

      this.onJump(this._player.position());

    }

  };

  Player.prototype.jumpMS = function(pos) {

    if (this._player) {

      this._player.jumpMS(pos);

      this._move();

      if (!this._playing) {

        if (pos) {

          this._paused = true;

          this.playBtn.off();

          this.pauseBtn.on();

        }

        else {

          this._paused = false;

          this.playBtn.off();

          this.pauseBtn.off();

        }

      }

      this.onJump(this._player.position());

    }

  };



  Player.prototype.speed = function(x) { return this._player ? this._player.speed(x) : 1; };



  // mouse dragging

  function _lftBtnDn(e) { return typeof e.buttons == 'undefined' ? !e.button : e.buttons & 1; }



  Player.prototype._mousedown = function(e) {

    if (_lftBtnDn(e) && this._player) {

      if (!this._more) e.preventDefault();

      this.caret.style.backgroundColor = '#ddd';

      this._wasPlaying = this._playing;

      this._player.pause();

      this._caretX = e.clientX;

      this._caretPos = parseInt(this.caret.style.left) + 5;

    }

  };

  Player.prototype._startmove = function(e) {

    if (_lftBtnDn(e)) {

      if (!this._more) e.preventDefault();

      this._startX = parseInt(this.gui.style.left);

      this._startY = parseInt(this.gui.style.top);

      this._clickX = e.clientX;

      this._clickY = e.clientY;

    }

  };

  Player.prototype._mouseup = function() {

    if (this._player) {

      if (typeof this._caretX != 'undefined') {

        if (this._wasPlaying) {

          this._wasPlaying = undefined;

          this._player.resume();

        }

        this.caret.style.backgroundColor = '#aaa';

        this._caretX = undefined;

      }

    }

    if (typeof this._startX != 'undefined') {

      this._startX = undefined;

      this._startY = undefined;

      this._clickX = undefined;

      this._clickY = undefined;

    }

  };

  Player.prototype._mousemove = function(e) {

    if (this._more) {

      this._startX = undefined;

      this._startY = undefined;

      this._clickX = undefined;

      this._clickY = undefined;

    }

    if (this._player && typeof this._caretX != 'undefined') {

      e.preventDefault();

      var to = this._caretPos + e.clientX - this._caretX;

      if (to < 0) to = 0;

      if (to > this.rlen) to = this.rlen;

      this.jumpMS(this.durationMS() * to * 1.0 / this.rlen);

    }

    else if (typeof this._startX != 'undefined') {

      e.preventDefault();

      this.gui.style.left = this._startX - this._clickX + e.clientX + 'px';

      this.gui.style.top = this._startY - this._clickY + e.clientY + 'px';

    }

  };



  Player.prototype._connect = Player.prototype.connect;

  Player.prototype._disconnect = Player.prototype.disconnect;



  Player.prototype.connect = function(port) {

    if (port == this) {

      this._conn = true;

      this.midiBtn.off();

    }

    else {

      this._connect(port);

    }

  };

  Player.prototype.disconnect = function(port) {

    if (port == this) {

      this._conn = false;

      if (this._out) this._disconnect(this._out);

      this._outname = undefined;

      this.midiBtn.disable();

    }

    else {

      this._disconnect(port);

    }

  };

  Player.prototype.connected = function() { return this._outname; };



  JZZ.gui.Player = Player;

}})()
/// end: [code injected by MIDI Player browser extension]

</script>